(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(e,t,n){"use strict";e.exports=n(17)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))r.call(n,c)&&(s[c]=n[c]);if(i){a=i(n);for(var d=0;d<a.length;d++)o.call(n,a[d])&&(s[a[d]]=n[a[d]])}}return s}},function(e,t,n){
/*! AgoraRTC|BUILD v2.5.0-beta-0-gb3ebe40 */
"undefined"!=typeof self&&self,e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=18)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(19),o=n(8),a=n(2),s=n(4),u=0,c="free",d=[],l=!1;setInterval(function(){l&&f.info("console log upload")},9e5);var f=function(){var e,t=["DEBUG","INFO","WARNING","ERROR","NONE"],n=0,f=function e(t){c="uploading",function(e,t,n){try{(0,o.post)(a.LOG_UPLOAD_SERVER,{sdk_version:a.VERSION,process_id:(0,s.getProcessId)(),log_item_id:u++,log_level:e.log_level,payload_str:e.payload},function(e){"OK"===e?t&&t(e):n&&n(e)},function(e){n&&n(e)},{withCredentials:!0})}catch(e){n&&n(e)}}(t,function(){0!==d.length?e(d.shift()):c="free"},function(){0!==d.length?e(d.shift()):c="free"})};return{DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4,enableLogUpload:function(){l=!0},disableLogUpload:function(){l=!1},setLogLevel:function(e){e>4?e=4:e<0&&(e=0),n=e},log:e=function(){var e=arguments[0],o=arguments;if(o[0]=(0,r.getTimestamp)()+" Agora-SDK ["+(t[e]||"DEFAULT")+"]:",function(e,t){if(l)try{var t=Array.prototype.slice.call(t),n="";t.forEach(function(e){"object"===(void 0===e?"undefined":i(e))&&(e=JSON.stringify(e)),n=n+e+" "});var r={payload:n,log_level:e};"uploading"===c?d.push(r):f(r)}catch(e){}}(e,o),!(e<n))switch(e){case 0:case 1:console.log.apply(console,o);break;case 2:console.warn.apply(console,o);break;case 3:console.error.apply(console,o);break;default:return void console.log.apply(console,o)}},debug:function(){for(var t=[0],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)},info:function(){for(var t=[1],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)},warning:function(){for(var t=[2],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)},error:function(){for(var t=[3],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(this,t)}}}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){var t={};return t.type=e.type,t};t.EventDispatcher=function(){var e={dispatcher:{}};return e.dispatcher.eventListeners={},e.addEventListener=function(t,n){void 0===e.dispatcher.eventListeners[t]&&(e.dispatcher.eventListeners[t]=[]),e.dispatcher.eventListeners[t].push(n)},e.hasListeners=function(t){return!(!e.dispatcher.eventListeners[t]||!e.dispatcher.eventListeners[t].length)},e.on=e.addEventListener,e.removeEventListener=function(t,n){var i;-1!==(i=e.dispatcher.eventListeners[t].indexOf(n))&&e.dispatcher.eventListeners[t].splice(i,1)},e.dispatchEvent=function(t){var n;for(n in e.dispatcher.eventListeners[t.type])e.dispatcher.eventListeners[t.type].hasOwnProperty(n)&&"function"==typeof e.dispatcher.eventListeners[t.type][n]&&e.dispatcher.eventListeners[t.type][n](t)},e.dispatchSocketEvent=function(t){var n;for(n in e.dispatcher.eventListeners[t.type])e.dispatcher.eventListeners[t.type].hasOwnProperty(n)&&"function"==typeof e.dispatcher.eventListeners[t.type][n]&&e.dispatcher.eventListeners[t.type][n](t.msg)},e},t.StreamEvent=function(e){var t=i(e);return t.stream=e.stream,t.reason=e.reason,t.msg=e.msg,t},t.ClientEvent=function(e){var t=i(e);return t.uid=e.uid,t.attr=e.attr,t.stream=e.stream,t},t.MediaEvent=function(e){var t=i(e);return t.msg=e.msg,t},t.LiveStreamingEvent=function(e){var t=i(e);return t.url=e.url,t.reason=e.reason,t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BUILD="v2.5.0-beta-0-gb3ebe40",t.VERSION="2.5.0",t.WEBCS_DOMAIN=["ap-web-1.agora.io","ap-web-2.agoraio.cn"],t.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-3.agora.io","ap-web-4.agoraio.cn"],t.EVENT_REPORT_DOMAIN="webcollector-1.agora.io",t.EVENT_REPORT_BACKUP_DOMAIN="webcollector-2.agora.io",t.WEBCS_BACKUP_CONNECT_TIMEOUT=6e3,t.HTTP_CONNECT_TIMEOUT=5e3,t.SUPPORT_RESOLUTION_LIST={"90p_1":[160,90],"120p_1":[160,120],"120p_3":[120,120],"120p_4":[212,120],"180p_1":[320,180],"180p_3":[180,180],"180p_4":[240,180],"240p_1":[320,240],"240p_3":[240,240],"240p_4":[424,240],"360p_1":[640,360],"360p_3":[360,360],"360p_4":[640,360],"360p_6":[360,360],"360p_7":[480,360],"360p_8":[480,360],"360p_9":[640,360],"360p_10":[640,360],"360p_11":[640,360],"480p_1":[640,480],"480p_2":[640,480],"480p_3":[480,480],"480p_4":[640,480],"480p_6":[480,480],"480p_8":[848,480],"480p_9":[848,480],"480p_10":[640,480],"720p_1":[1280,720],"720p_2":[1280,720],"720p_3":[1280,720],"720p_5":[960,720],"720p_6":[960,720],"1080p_1":[1920,1080],"1080p_2":[1920,1080],"1080p_3":[1920,1080],"1080p_5":[1920,1080],"1440p_1":[2560,1440],"1440p_2":[2560,1440],"4k_1":[3840,2160],"4k_3":[3840,2160]},t.LOG_UPLOAD_SERVER="https://logservice.agora.io/upload"},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r,o=(i(r={FAILED:"FAILED",INVALID_KEY:"INVALID_KEY",INVALID_CLIENT_MODE:"INVALID_CLIENT_MODE",INVALID_CLIENT_CODEC:"INVALID_CLIENT_CODEC",CLIENT_MODE_CODEC_MISMATCH:"CLIENT_MODE_CODEC_MISMATCH",WEB_API_NOT_SUPPORTED:"WEB_API_NOT_SUPPORTED",INVALID_PARAMETER:"INVALID_PARAMETER",INVALID_OPERATION:"INVALID_OPERATION"},"INVALID_PARAMETER","INVALID_PARAMETER"),i(r,"INVALID_LOCAL_STREAM","INVALID_LOCAL_STREAM"),i(r,"INVALID_REMOTE_STREAM","INVALID_REMOTE_STREAM"),i(r,"INVALID_DYNAMIC_KEY","INVALID_DYNAMIC_KEY"),i(r,"DYNAMIC_KEY_TIMEOUT","DYNAMIC_KEY_TIMEOUT"),i(r,"NO_VOCS_AVAILABLE","NO_VOCS_AVAILABLE"),i(r,"NO_VOS_AVAILABLE","ERR_NO_VOS_AVAILABLE"),i(r,"JOIN_CHANNEL_TIMEOUT","ERR_JOIN_CHANNEL_TIMEOUT"),i(r,"NO_AVAILABLE_CHANNEL","NO_AVAILABLE_CHANNEL"),i(r,"LOOKUP_CHANNEL_TIMEOUT","LOOKUP_CHANNEL_TIMEOUT"),i(r,"LOOKUP_CHANNEL_REJECTED","LOOKUP_CHANNEL_REJECTED"),i(r,"OPEN_CHANNEL_TIMEOUT","OPEN_CHANNEL_TIMEOUT"),i(r,"OPEN_CHANNEL_REJECTED","OPEN_CHANNEL_REJECTED"),i(r,"REQUEST_DEFERRED","REQUEST_DEFERRED"),i(r,"STREAM_ALREADY_PUBLISHED","STREAM_ALREADY_PUBLISHED"),i(r,"STREAM_NOT_YET_PUBLISHED","STREAM_NOT_YET_PUBLISHED"),i(r,"JOIN_TOO_FREQUENT","JOIN_TOO_FREQUENT"),i(r,"SOCKET_ERROR","SOCKET_ERROR"),i(r,"SOCKET_DISCONNECTED","SOCKET_DISCONNECTED"),i(r,"PEERCONNECTION_FAILED","PEERCONNECTION_FAILED"),i(r,"CONNECT_GATEWAY_ERROR","CONNECT_GATEWAY_ERROR"),i(r,"SERVICE_NOT_AVAILABLE","SERVICE_NOT_AVAILABLE"),i(r,"JOIN_CHANNEL_FAILED","JOIN_CHANNEL_FAILED"),i(r,"PUBLISH_STREAM_FAILED","PUBLISH_STREAM_FAILED"),i(r,"UNPUBLISH_STREAM_FAILED","UNPUBLISH_STREAM_FAILED"),i(r,"SUBSCRIBE_STREAM_FAILED","SUBSCRIBE_STREAM_FAILED"),i(r,"UNSUBSCRIBE_STREAM_FAILED","UNSUBSCRIBE_STREAM_FAILED"),i(r,"NO_SUCH_REMOTE_STREAM","NO_SUCH_REMOTE_STREAM"),i(r,"ERR_FAILED","1"),i(r,"ERR_INVALID_VENDOR_KEY","101"),i(r,"ERR_INVALID_CHANNEL_NAME","102"),i(r,"WARN_NO_AVAILABLE_CHANNEL","103"),i(r,"WARN_LOOKUP_CHANNEL_TIMEOUT","104"),i(r,"WARN_LOOKUP_CHANNEL_REJECTED","105"),i(r,"WARN_OPEN_CHANNEL_TIMEOUT","106"),i(r,"WARN_OPEN_CHANNEL_REJECTED","107"),i(r,"WARN_REQUEST_DEFERRED","108"),i(r,"ERR_DYNAMIC_KEY_TIMEOUT","109"),i(r,"ERR_INVALID_DYNAMIC_KEY","110"),i(r,"ERR_NO_VOCS_AVAILABLE","2000"),i(r,"ERR_NO_VOS_AVAILABLE","2001"),i(r,"ERR_JOIN_CHANNEL_TIMEOUT","2002"),i(r,"IOS_NOT_SUPPORT","IOS_NOT_SUPPORT"),i(r,"WECHAT_NOT_SUPPORT","WECHAT_NOT_SUPPORT"),i(r,"SHARING_SCREEN_NOT_SUPPORT","SHARING_SCREEN_NOT_SUPPORT"),i(r,"STILL_ON_PUBLISHING","STILL_ON_PUBLISHING"),i(r,"LOW_STREAM_ALREADY_PUBLISHED","LOW_STREAM_ALREADY_PUBLISHED"),i(r,"LOW_STREAM_NOT_YET_PUBLISHED","LOW_STREAM_ALREADY_PUBLISHED"),i(r,"HIGH_STREAM_NOT_VIDEO_TRACE","HIGH_STREAM_NOT_VIDEO_TRACE"),i(r,"NOT_FIND_DEVICE_BY_LABEL","NOT_FIND_DEVICE_BY_LABEL"),i(r,"ENABLE_DUALSTREAM_FAILED","ENABLE_DUALSTREAM_FAILED"),i(r,"DISABLE_DUALSTREAM_FAILED","DISABLE_DUALSTREAM_FAILED"),i(r,"PLAYER_NOT_FOUND","PLAYER_NOT_FOUND"),i(r,"ELECTRON_NOT_SUPPORT_SHARING_SCREEN","ELECTRON_NOT_SUPPORT_SHARING_SCREEN"),i(r,"BAD_ENVIRONMENT","BAD_ENVIRONMENT"),r);t.default=o,t.APErrorCode={101100:"NO_FLAG_SET",101101:"FLAG_SET_BUT_EMPTY",101102:"INVALID_FALG_SET",101203:"NO_SERVICE_AVIABLE",0:"OK_CODE",5:"INVALID_VENDOR_KEY",7:"INVALID_CHANNEL_NAME",8:"INTERNAL_ERROR",9:"NO_AUTHORIZED",10:"DYNAMIC_KEY_TIMEOUT",11:"NO_ACTIVE_STATUS",13:"DYNAMIC_KEY_EXPIRED",14:"STATIC_USE_DYANMIC_KEY",15:"DYNAMIC_USE_STATIC_KEY"},t.GatewayErrorCode={2000:"ERR_NO_VOCS_AVAILABLE",2001:"ERR_NO_VOS_AVAILABLE",2002:"ERR_JOIN_CHANNEL_TIMEOUT",2003:"WARN_REPEAT_JOIN",2004:"ERR_JOIN_BY_MULTI_IP",101:"ERR_INVALID_VENDOR_KEY",102:"ERR_INVALID_CHANNEL_NAME",103:"WARN_NO_AVAILABLE_CHANNEL",104:"WARN_LOOKUP_CHANNEL_TIMEOUT",105:"WARN_LOOKUP_CHANNEL_REJECTED",106:"WARN_OPEN_CHANNEL_TIMEOUT",107:"WARN_OPEN_CHANNEL_REJECTED",108:"WARN_REQUEST_DEFERRED",109:"ERR_DYNAMIC_KEY_TIMEOUT",110:"ERR_NO_AUTHORIZED",111:"ERR_VOM_SERVICE_UNAVAILABLE",112:"ERR_NO_CHANNEL_AVAILABLE_CODE",113:"ERR_TOO_MANY_USERS",114:"ERR_MASTER_VOCS_UNAVAILABLE",115:"ERR_INTERNAL_ERROR",116:"ERR_NO_ACTIVE_STATUS",117:"ERR_INVALID_UID",118:"ERR_DYNAMIC_KEY_EXPIRED",119:"ERR_STATIC_USE_DYANMIC_KE",120:"ERR_DYNAMIC_USE_STATIC_KE",2:"K_TIMESTAMP_EXPIRED",3:"K_CHANNEL_PERMISSION_INVALID",4:"K_CERTIFICATE_INVALID",5:"K_CHANNEL_NAME_EMPTY",6:"K_CHANNEL_NOT_FOUND",7:"K_TICKET_INVALID",8:"K_CHANNEL_CONFLICTED",9:"K_SERVICE_NOT_READY",10:"K_SERVICE_TOO_HEAVY",14:"K_UID_BANNED",15:"K_IP_BANNED",16:"K_CHANNEL_BANNED"},t.JOIN_GS_TRYNEXT_LIST=["ERR_NO_VOCS_AVAILABLE","ERR_NO_VOS_AVAILABLE","ERR_JOIN_CHANNEL_TIMEOUT","WARN_LOOKUP_CHANNEL_TIMEOUT","WARN_OPEN_CHANNEL_TIMEOUT","ERR_VOM_SERVICE_UNAVAILABLE","ERR_TOO_MANY_USERS","ERR_MASTER_VOCS_UNAVAILABLE","ERR_INTERNAL_ERROR"],t.JOIN_CS_RETRY_LIST=["NO_SERVICE_AVIABLE"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getProcessId=t.SUBSCRIBE=t.PUBLISH=t.JOIN_GATEWAY=t.JOIN_CHOOSE_SERVER=t.SESSION_INIT=t.report=void 0;var r=n(2),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),a=n(0),s=i(a),u=n(8),c=n(11),d=i(c),l={type:null,sid:null,lts:null,succ:null,cname:null,uid:null,peerid:null,cid:null,elaps:null,extend:null,vid:0},f=null,p=function(){return f||(f="process-"+(0,d.default)(),s.default.info("processId: "+f)),f},m=function(){var e={list:{}};return e.url=(0,u.shouldUseHttps)()?"https://"+o.EVENT_REPORT_DOMAIN+":6443/events/report":"http://"+o.EVENT_REPORT_DOMAIN+":6080/events/report",e.urlBackup=(0,u.shouldUseHttps)()?"https://"+o.EVENT_REPORT_BACKUP_DOMAIN+":6443/events/report":"http://"+o.EVENT_REPORT_BACKUP_DOMAIN+":6080/events/report",e.setProxyServer=function(t){t&&(e.url=(0,u.shouldUseHttps)()?"https://"+t+"/rs/?h="+o.EVENT_REPORT_DOMAIN+"&p=6443&d=events/report":"http://"+t+"/rs/?h="+o.EVENT_REPORT_DOMAIN+"&p=6080&d=events/report",e.urlBackup=(0,u.shouldUseHttps)()?"https://"+t+"/rs/?h="+o.EVENT_REPORT_BACKUP_DOMAIN+"&p=6443&d=events/report":"http://"+t+"/rs/?h="+o.EVENT_REPORT_BACKUP_DOMAIN+"&p=6080&d=events/report",s.default.debug("reportProxyServerURL: "+e.url),s.default.debug("reportProxyServerBackupURL: "+e.urlBackup))},e.sessionInit=function(t,n){n.sid=t;var i=Object.assign({},l),r=Object.assign(i,n);e.list[t]||(r.startTime=+new Date);var a=Object.assign({},r);delete r.appid,delete r.mode,e.list[t]=r,a.extend=null,a.ver=o.VERSION,a.build=o.BUILD,a.type="session_init",a.browser=navigator.userAgent,a.lts=+new Date,a.elaps=a.lts-a.startTime,a.process=p(),e.send(a)},e.joinChooseServer=function(t,n,i){var r;(r=i?Object.assign(e.list[t],n):Object.assign({},e.list[t],n)).type="join_choose_server";var o=+new Date;r.ev_elaps=o-r.lts,r.elaps=o-r.startTime,r.lts=o,r.serverList=JSON.stringify(r.serverList),e.send(r)},e.joinGateway=function(t,n){var i=Object.assign(e.list[t],n);i.type="join_gateway";var r=+new Date;i.ev_elaps=r-i.lts,i.elaps=r-i.startTime,i.lts=r,e.send(i)},e.publish=function(t,n){var i=Object.assign({},e.list[t],n);i.type="publish";var r=+new Date;i.ev_elaps=r-i.lts,i.elaps=r-i.startTime,i.lts=r,e.send(i)},e.subscribe=function(t,n){var i=Object.assign({},e.list[t],n);i.type="subscribe";var r=+new Date;i.ev_elaps=r-i.lts,i.elaps=r-i.startTime,i.lts=r,e.send(i)},e.firstRemoteFrame=function(t,n){var i=Object.assign({},e.list[t],n);i.type="first_remote_frame",i.lts=+new Date,i.elaps=i.lts-i.startTime,e.send(i)},e.streamSwitch=function(t,n){var i=Object.assign({},e.list[t],n);i.type="stream_switch",i.isdual=n.isdual,i.lts=+new Date,i.elaps=i.lts-i.startTime,e.send(i)},e.audioSendingStopped=function(t,n){var i=Object.assign({},e.list[t],n);i.type="audio_sending_stopped",i.lts=+new Date,i.elaps=i.lts-i.startTime,e.send(i)},e.videoSendingStopped=function(t,n){var i=Object.assign({},e.list[t],n);i.type="video_sending_stopped",i.lts=+new Date,i.elaps=i.lts-i.startTime,e.send(i)},e.send=function(t){try{(0,u.post)(e.url,t,null,function(n){(0,u.post)(e.urlBackup,t,null,function(e){},{timeout:1e4})},{timeout:1e4})}catch(e){}},e}();t.report=m,t.SESSION_INIT="session_init",t.JOIN_CHOOSE_SERVER="join_choose_server",t.JOIN_GATEWAY="join_gateway",t.PUBLISH="publish",t.SUBSCRIBE="subscribe",t.getProcessId=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return r().os},r=function(){var e=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];"Chrome"===n[1]&&null!=(e=t.match(/(OPR(?=\/))\/?(\d+)/i))&&(n=e),"Safari"===n[1]&&null!=(e=t.match(/version\/(\d+)/i))&&(n[2]=e[1]),~t.toLowerCase().indexOf("qqbrowser")&&null!=(e=t.match(/(qqbrowser(?=\/))\/?(\d+)/i))&&(n=e),~t.toLowerCase().indexOf("micromessenger")&&null!=(e=t.match(/(micromessenger(?=\/))\/?(\d+)/i))&&(n=e),~t.toLowerCase().indexOf("edge")&&null!=(e=t.match(/(edge(?=\/))\/?(\d+)/i))&&(n=e),~t.toLowerCase().indexOf("trident")&&null!=(e=/\brv[ :]+(\d+)/g.exec(t)||[])&&(n=[null,"IE",e[1]]);var i=void 0,r=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var o in r){var a=r[o];if(a.r.test(navigator.userAgent)){i=a.s;break}}return{name:n[1],version:n[2],os:i}}();return function(){return e}}();t.getBrowserInfo=r,t.getBrowserVersion=function(){return r().version},t.getBrowserOS=i,t.isChrome=function(){var e=r();return e.name&&"Chrome"===e.name},t.isSafari=function(){var e=r();return e.name&&"Safari"===e.name},t.isFireFox=function(){var e=r();return e.name&&"Firefox"===e.name},t.isOpera=function(){var e=r();return e.name&&"OPR"===e.name},t.isQQBrowser=function(){var e=r();return e.name&&"QQBrowser"===e.name},t.isWeChatBrowser=function(){var e=r();return e.name&&"MicroMessenger"===e.name},t.isSupportedPC=function(){var e=i();return"Linux"===e||"Mac OS X"===e||"Mac OS"===e||-1!==e.indexOf("Windows")},t.isSupportedMobile=function(){var e=i();return"Android"===e||"iOS"===e},t.getChromeKernelVersion=function(){var e=navigator.userAgent.match(/chrome\/[\d]./i);return e&&e[0]&&e[0].split("/")[1]},t.isChromeKernel=function(){return!!navigator.userAgent.match(/chrome\/[\d]./i)}},function(e,t,n){"use strict";function i(e){return new Promise(function(t,n){o(e,t,n)})}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=null,a=null,s=null,u=null,c=null,d=null,l=null,f=null,p=null,m=null,g={addStream:null},v={log:function(){},extractVersion:function(e,t,n){var i=e.match(t);return i&&i.length>=n&&parseInt(i[n])}};if("object"==("undefined"==typeof window?"undefined":r(window))?(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype?(f=function(e,t){e.srcObject=t},p=function(e){return e.srcObject}):(f=function(e,t){"mozSrcObject"in e?e.mozSrcObject=t:(e._srcObject=t,e.src=t?URL.createObjectURL(t):null)},p=function(e){return"mozSrcObject"in e?e.mozSrcObject:e._srcObject}),o=window.navigator&&window.navigator.getUserMedia):(f=function(e,t){e.srcObject=t},p=function(e){return e.srcObject}),a=function(e,t){f(e,t)},s=function(e,t){f(e,p(t))},"undefined"!=typeof window&&window.navigator)if(navigator.mozGetUserMedia&&window.mozRTCPeerConnection){for(var h in v.log("This appears to be Firefox"),u="firefox",c=v.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),d=31,m=mozRTCPeerConnection,g)g[h]=m.prototype[h];if(l=function(e,t){if(c<38&&e&&e.iceServers){for(var n=[],i=0;i<e.iceServers.length;i++){var r=e.iceServers[i];if(r.hasOwnProperty("urls"))for(var o=0;o<r.urls.length;o++){var a={url:r.urls[o]};0===r.urls[o].indexOf("turn")&&(a.username=r.username,a.credential=r.credential),n.push(a)}else n.push(e.iceServers[i])}e.iceServers=n}var s=new m(e,t);for(var u in g)s[u]=g[u];return s},window.RTCSessionDescription||(window.RTCSessionDescription=mozRTCSessionDescription),window.RTCIceCandidate||(window.RTCIceCandidate=mozRTCIceCandidate),o=function(e,t,n){var i=function(e){if("object"!==(void 0===e?"undefined":r(e))||e.require)return e;var t=[];return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i=e[n]="object"===r(e[n])?e[n]:{ideal:e[n]};if(void 0===i.min&&void 0===i.max&&void 0===i.exact||t.push(n),void 0!==i.exact&&("number"==typeof i.exact?i.min=i.max=i.exact:e[n]=i.exact,delete i.exact),void 0!==i.ideal){e.advanced=e.advanced||[];var o={};"number"==typeof i.ideal?o[n]={min:i.ideal,max:i.ideal}:o[n]=i.ideal,e.advanced.push(o),delete i.ideal,Object.keys(i).length||delete e[n]}}}),t.length&&(e.require=t),e};return c<38&&(v.log("spec: "+JSON.stringify(e)),e.audio&&(e.audio=i(e.audio)),e.video&&(e.video=i(e.video)),v.log("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,t,n)},navigator.getUserMedia=o,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:i,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},c<41){var y=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return y().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}}else if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection){for(var h in v.log("This appears to be Chrome"),u="chrome",c=v.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),d=38,m=webkitRTCPeerConnection,g)g[h]=m.prototype[h];l=function(e,t){e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new m(e,t);for(var i in g)n[i]=g[i];var r=n.getStats.bind(n);return n.getStats=function(e,t,n){var i=this,o=arguments;if(arguments.length>0&&"function"==typeof e)return r(e,t);var a=function(e){var t={};return e.result().forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t};return arguments.length>=2?r.apply(this,[function(e){o[1](a(e))},arguments[0]]):new Promise(function(t,n){1===o.length&&null===e?r.apply(i,[function(e){t.apply(null,[a(e)])},n]):r.apply(i,[t,n])})},n},["createOffer","createAnswer"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"===r(arguments[0])){var n=1===arguments.length?arguments[0]:void 0;return new Promise(function(i,r){t.apply(e,[i,r,n])})}return t.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this;return new Promise(function(i,r){t.apply(n,[e[0],function(){i(),e.length>=2&&e[1].apply(null,[])},function(t){r(t),e.length>=3&&e[2].apply(null,[t])}])})}});var _=function(e){if("object"!==(void 0===e?"undefined":r(e))||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i="object"===r(e[n])?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);var o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];var a={};"number"==typeof i.ideal?(a[o("min",n)]=i.ideal,t.optional.push(a),(a={})[o("max",n)]=i.ideal,t.optional.push(a)):(a[o("",n)]=i.ideal,t.optional.push(a))}void 0!==i.exact&&"number"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=i.exact):["min","max"].forEach(function(e){void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=i[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t};if(o=function(e,t,n){return e.audio&&(e.audio=_(e.audio)),e.video&&(e.video=_(e.video)),v.log("chrome: "+JSON.stringify(e)),navigator.webkitGetUserMedia(e,t,n)},navigator.getUserMedia=o,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:i,enumerateDevices:function(){return new Promise(function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){e(n.map(function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var S=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return v.log("spec:   "+JSON.stringify(e)),e.audio=_(e.audio),e.video=_(e.video),v.log("chrome: "+JSON.stringify(e)),S(e)}}else navigator.mediaDevices.getUserMedia=function(e){return i(e)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){v.log("Dummy mediaDevices.addEventListener called.")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){v.log("Dummy mediaDevices.removeEventListener called.")}),a=function(e,t){c>=43?f(e,t):void 0!==e.src?e.src=t?URL.createObjectURL(t):null:v.log("Error attaching stream to element.")},s=function(e,t){c>=43?f(e,p(t)):e.src=t.src}}else navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)?(v.log("This appears to be Edge"),u="edge",c=v.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),d=12):v.log("Browser does not appear to be WebRTC-capable");else v.log("This does not appear to be a browser"),u="not a browser";var b,E={};try{Object.defineProperty(E,"version",{set:function(e){c=e}})}catch(e){}l?b=l:"undefined"!=typeof window&&(b=window.RTCPeerConnection),e.exports={RTCPeerConnection:b,getUserMedia:o,attachMediaStream:a,reattachMediaStream:s,setSrcObject:f,getSrcObject:p,webrtcDetectedBrowser:u,webrtcDetectedVersion:c,webrtcMinimumVersion:d,webrtcTesting:E,webrtcUtils:v}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.popBanTip=t.random=t.safeCall=t.is32Uint=t.vsResHack=t.audioLevelHelper=t.generateSessionId=t.isLiveTranscodingValid=t.checkSystemRequirements=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(5),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),s=n(0),u=i(s),c=n(11),d=i(c),l=n(12),f=n(6),p=null,m=function(e){for(var t=0;t<e.length;t++)for(var n in e[t])if("number"!=typeof e[t][n])throw new Error("Param user["+t+"] - ["+n+"] is inVaild");return!0};t.checkSystemRequirements=function(){var e=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,n=window.WebSocket,i=!!e&&!!t&&!!n,r=!1;return u.default.debug(a.getBrowserInfo(),"isAPISupport:"+i),a.isChrome()&&a.getBrowserVersion()>=58&&"iOS"!==a.getBrowserOS()&&(r=!0),a.isFireFox()&&a.getBrowserVersion()>=56&&(r=!0),a.isOpera()&&a.getBrowserVersion()>=45&&(r=!0),a.isSafari()&&a.getBrowserVersion()>=11&&(r=!0),(a.isWeChatBrowser()||a.isQQBrowser())&&"iOS"!==a.getBrowserOS()&&(r=!0),a.isSupportedPC()||a.isSupportedMobile()||(r=!1),i&&r},t.isLiveTranscodingValid=function(e){var t=["lowLatency","userConfigExtraInfo","transcodingUsers"];for(var n in e)if("lowLatency"===n&&"boolean"!=typeof e[n]||"userConfigExtraInfo"===n&&"object"!==r(e[n])||"transcodingUsers"===n&&!m(e[n])||!~t.indexOf(n)&&"number"!=typeof e[n])throw new Error("Param ["+n+"] is inVaild");return!0},t.generateSessionId=function(){return(0,d.default)().replace(/-/g,"").toUpperCase()},t.audioLevelHelper=function(e){return this.audioContext=(p||(p=(0,l.createAudioContext)()),p),this.sourceNode=e.otWebkitAudioSource||this.audioContext.createMediaStreamSource(e),this.analyser=this.audioContext.createAnalyser(),this.timeDomainData=new Uint8Array(this.analyser.frequencyBinCount),this.sourceNode.connect(this.analyser),this.getAudioLevel=function(){if(this.analyser){this.analyser.getByteTimeDomainData(this.timeDomainData);for(var e=0,t=0;t<this.timeDomainData.length;t++)e=Math.max(e,Math.abs(this.timeDomainData[t]-128));return e/128}return u.default.warning("can't find analyser in audioLevelHelper"),0},this},t.vsResHack=function(e,t,n){try{var i=document.createElement("video");i.setAttribute("autoplay",""),i.setAttribute("muted",""),i.setAttribute("playsinline",""),i.setAttribute("style","position: absolute; top: 0; left: 0; width:1px; high:1px;"),document.body.appendChild(i),i.addEventListener("playing",function(e){a.isFireFox()?i.videoWidth&&(t(i.videoWidth,i.videoHeight),document.body.removeChild(i)):(t(i.videoWidth,i.videoHeight),document.body.removeChild(i))}),(0,f.setSrcObject)(i,e)}catch(e){n(e)}},t.is32Uint=function(e){return!!(0<=e&&e<=4294967295)},t.safeCall=function(){var e=arguments[0];if("function"==typeof e){var t=Array.prototype.slice.call(arguments,1);e.apply(null,t)}},t.random=function(e){isNaN(e)&&(e=1e3);var t=+new Date,n=(t=(9301*t+49297)%233280)/233280;return Math.ceil(n*e)},t.popBanTip=function(){if(!document.getElementById("agora-ban-tip")){var e=document.createElement("div");e.id="agora-ban-tip",e.style="position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; color: #fff;",document.querySelector("body").prepend(e);var t=document.createElement("div");t.style="background: #000; width: 346px; height: 116px; z-index: 100000; opacity: 0.6; border-radius: 10px; box-shadow: 0 2px 4px #000;",e.append(t);var n=document.createElement("div");n.style="height: 76px; display: flex; justify-content: center; align-items: center;";var i=document.createElement("span");i.style="height: 28px; width: 28px; color: #000; text-align: center; line-height: 30px; background: #fff; border-radius: 50%; font-weight: 600; font-size: 20px;margin-right: 5px;",i.innerText="!";var r=document.createElement("span");r.innerText="This browser does not support webRTC",n.append(i),n.append(r);var o=document.createElement("div");o.style="height: 38px; display: flex; border-top: #fff 1px solid; justify-content: center; align-items: center;",o.innerText="OK",t.append(n),t.append(o),o.onclick=function(){var e=document.getElementById("agora-ban-tip");e.parentNode.removeChild(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseHttps=t.post=void 0;var i=n(2),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i);t.post=function(e,t,n,i,o){var a=new XMLHttpRequest;if(a.timeout=t.timeout||r.HTTP_CONNECT_TIMEOUT,a.open("POST",e,!0),a.setRequestHeader("Content-type","application/json; charset=utf-8"),o)for(var s in o)"withCredentials"==s?a.withCredentials=!0:a.setRequestHeader(s,o[s]);a.onload=function(e){n&&n(a.responseText)},a.onerror=function(t){i&&i(t,e)},a.ontimeout=function(t){i&&i(t,e)},a.send(JSON.stringify(t))},t.shouldUseHttps=function(){return"https:"==document.location.protocol}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createStream=t.Stream=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(22),a=i(o),s=n(13),u=n(1),c=n(0),d=i(c),l=n(5),f=n(14),p=n(7),m=n(4),g=n(3),v=i(g),h=n(12),y=n(10),_=function(e){function t(e,t){return{width:{ideal:e},height:{ideal:t}}}var n=(0,u.EventDispatcher)();if(n.params=Object.assign({},e),n.stream=e.stream,n.url=e.url,n.onClose=void 0,n.local=!1,n.videoSource=e.videoSource,n.audioSource=e.audioSource,n.video=!!e.video,n.audio=!!e.audio,n.screen=!!e.screen,n.screenAttributes={width:1920,height:1080,maxFr:5,minFr:1},n.videoSize=e.videoSize,n.player=void 0,n.audioLevelHelper=null,e.attributes=e.attributes||{},n.attributes=e.attributes,n.microphoneId=e.microphoneId,n.cameraId=e.cameraId,n.inSwitchDevice=!1,n.videoEnabled=!0,n.audioEnabled=!0,n.lowStream=null,n.videoWidth=0,n.videoHeight=0,n.streamId=null,n.streamId=e.streamID,n.userId=null,n.mirror=!1!==e.mirror,n.DTX=e.audioProcessing&&e.audioProcessing.DTX,n.audioProcessing=e.audioProcessing,n.highQuality=!1,n.stereo=!1,n.speech=!1,n.audioMixing={state:"UNINIT",muted:!0,states:{UNINIT:"UNINIT",IDLE:"IDLE",STARTING:"STARTING",BUSY:"BUSY",PAUSED:"PAUSED"},inEarMonitoring:"FILE",inEarMonitoringModes:{NONE:"NONE",FILE:"FILE",MICROPHONE:"MOCROPHONE",ALL:"ALL"},volume:100,startAt:null,startOffset:null,pauseAt:null,pauseOffset:null,resumeAt:null,resumeOffset:null,stopAt:null,ctx:null,mediaStreamSource:null,mediaStreamDest:null,options:null,buffer:{},source:[]},!(void 0===n.videoSize||n.videoSize instanceof Array&&4===n.videoSize.length))throw Error("Invalid Video Size");n.videoSize=[640,480,640,480],void 0!==e.local&&!0!==e.local||(n.local=!0),n.initialized=!n.local,n.on("collectStats",function(e){e.promises.push(n._getPCStats()),e.promises.push(new Promise(function(e){var t={};n.pc&&n.pc.isSubscriber?null!==window.navigator.userAgent.match("Firefox")&&((0,f.setStat)(t,"videoReceiveResolutionHeight",n.videoHeight),(0,f.setStat)(t,"videoReceiveResolutionWidth",n.videoWidth)):n.pc&&!n.pc.isSubscriber&&(((0,l.isSafari)()||(0,l.isFireFox)())&&((0,f.setStat)(t,"videoSendResolutionHeight",n.videoHeight),(0,f.setStat)(t,"videoSendResolutionWidth",n.videoWidth)),((0,l.isSafari)()||(0,l.isFireFox)())&&n.uplinkStats&&(0,f.setStat)(t,"videoSendPacketsLost",n.uplinkStats.uplink_cumulative_lost)),e(t)})),e.promises.push(new Promise(function(e){var t={};return n.traffic_stats&&n.pc&&n.pc.isSubscriber?((0,f.setStat)(t,"accessDelay",n.traffic_stats.access_delay),(0,f.setStat)(t,"endToEndDelay",n.traffic_stats.e2e_delay),(0,f.setStat)(t,"videoReceiveDelay",n.traffic_stats.video_delay),(0,f.setStat)(t,"audioReceiveDelay",n.traffic_stats.audio_delay)):n.traffic_stats&&n.pc&&!n.pc.isSubscriber&&(0,f.setStat)(t,"accessDelay",n.traffic_stats.access_delay),e(t)}))});var i={true:!0,unspecified:!0,"90p_1":t(160,90),"120p_1":t(160,120),"120p_3":t(120,120),"120p_4":t(212,120),"180p_1":t(320,180),"180p_3":t(180,180),"180p_4":t(240,180),"240p_1":t(320,240),"240p_3":t(240,240),"240p_4":t(424,240),"360p_1":t(640,360),"360p_3":t(360,360),"360p_4":t(640,360),"360p_6":t(360,360),"360p_7":t(480,360),"360p_8":t(480,360),"360p_9":t(640,360),"360p_10":t(640,360),"360p_11":t(640,360),"480p_1":t(640,480),"480p_2":t(640,480),"480p_3":t(480,480),"480p_4":t(640,480),"480p_6":t(480,480),"480p_8":t(848,480),"480p_9":t(848,480),"480p_10":t(640,480),"720p_1":t(1280,720),"720p_2":t(1280,720),"720p_3":t(1280,720),"720p_5":t(960,720),"720p_6":t(960,720),"1080p_1":t(1920,1080),"1080p_2":t(1920,1080),"1080p_3":t(1920,1080),"1080p_5":t(1920,1080),"1440p_1":t(2560,1440),"1440p_2":t(2560,1440),"4k_1":t(3840,2160),"4k_3":t(3840,2160)};return n.unmuteAudio=void 0,n.muteAudio=void 0,n.unmuteVideo=void 0,n.muteVideo=void 0,n.setVideoResolution=function(t){return void 0!==i[t+=""]&&(e.video=i[t],e.attributes=e.attributes||{},e.attributes.resolution=t,!0)},n.setVideoFrameRate=function(t){return!(0,l.isFireFox)()&&"object"===(void 0===t?"undefined":r(t))&&t instanceof Array&&t.length>1&&(e.attributes=e.attributes||{},e.attributes.minFrameRate=t[0],e.attributes.maxFrameRate=t[1],!0)},n.setVideoBitRate=function(t){return"object"===(void 0===t?"undefined":r(t))&&t instanceof Array&&t.length>1&&(e.attributes=e.attributes||{},e.attributes.minVideoBW=t[0],e.attributes.maxVideoBW=t[1],!0)},n.setScreenBitRate=function(t){return"object"===(void 0===t?"undefined":r(t))&&t instanceof Array&&t.length>1&&(e.screenAttributes=e.screenAttributes||{},e.screenAttributes.minVideoBW=t[0],e.screenAttributes.maxVideoBW=t[1],!0)},n.setScreenProfile=function(e){if("string"==typeof e&&n.screen){switch(e){case"480p_1":n.screenAttributes.width=640,n.screenAttributes.height=480,n.screenAttributes.maxFr=5,n.screenAttributes.minFr=1;break;case"480p_2":n.screenAttributes.width=640,n.screenAttributes.height=480,n.screenAttributes.maxFr=30,n.screenAttributes.minFr=25;break;case"720p_1":n.screenAttributes.width=1280,n.screenAttributes.height=720,n.screenAttributes.maxFr=5,n.screenAttributes.minFr=1;break;case"720p_2":n.screenAttributes.width=1280,n.screenAttributes.height=720,n.screenAttributes.maxFr=30,n.screenAttributes.minFr=25;break;case"1080p_1":n.screenAttributes.width=1920,n.screenAttributes.height=1080,n.screenAttributes.maxFr=5,n.screenAttributes.minFr=1;break;case"1080p_2":n.screenAttributes.width=1920,n.screenAttributes.height=1080,n.screenAttributes.maxFr=30,n.screenAttributes.minFr=25}return!0}return!1},n.setVideoProfileCustom=function(e){n.setVideoResolution(e[0]),n.setVideoFrameRate([e[1],e[1]]),n.setVideoBitRate([e[2],e[2]])},n.setVideoProfileCustomPlus=function(i){console.log(i),e.video=t(i.width,i.height),e.attributes=e.attributes||{},e.attributes.resolution=i.width+"x"+i.height,n.setVideoFrameRate([i.framerate,i.framerate]),n.setVideoBitRate([i.bitrate,i.bitrate])},n.setVideoProfile=function(e){if(n.profile=e,"string"==typeof e&&n.video){switch(e){case"120p":case"120P":case"120p_1":case"120P_1":n.setVideoResolution("120p_1"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([10,65]);break;case"120p_3":case"120P_3":n.setVideoResolution("120p_3"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([10,50]);break;case"180p":case"180P":case"180p_1":case"180P_1":n.setVideoResolution("180p_1"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([10,140]);break;case"180p_3":case"180P_3":n.setVideoResolution("180p_3"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([10,100]);break;case"180p_4":case"180P_4":n.setVideoResolution("180p_4"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([10,120]);break;case"240p":case"240P":case"240p_1":case"240P_1":n.setVideoResolution("240p_1"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([10,200]);break;case"240p_3":case"240P_3":n.setVideoResolution("240p_3"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([10,140]);break;case"240p_4":case"240P_4":n.setVideoResolution("240p_4"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([10,220]);break;case"360p":case"360P":case"360p_1":case"360P_1":n.setVideoResolution("360p_1"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([20,400]);break;case"360p_3":case"360P_3":n.setVideoResolution("360p_3"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([20,260]);break;case"360p_4":case"360P_4":n.setVideoResolution("360p_4"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([20,600]);break;case"360p_6":case"360P_6":n.setVideoResolution("360p_6"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([20,400]);break;case"360p_7":case"360P_7":n.setVideoResolution("360p_7"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([20,320]);break;case"360p_8":case"360P_8":n.setVideoResolution("360p_8"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([20,490]);break;case"360p_9":case"360P_9":n.setVideoResolution("360p_9"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([20,800]);break;case"360p_10":case"360P_10":n.setVideoResolution("360p_10"),n.setVideoFrameRate([24,24]),n.setVideoBitRate([20,800]);break;case"360p_11":case"360P_11":n.setVideoResolution("360p_11"),n.setVideoFrameRate([24,24]),n.setVideoBitRate([20,1e3]);break;case"480p":case"480P":case"480p_1":case"480P_1":n.setVideoResolution("480p_1"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([20,500]);break;case"480p_2":case"480P_2":n.setVideoResolution("480p_2"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([20,1e3]);break;case"480p_3":case"480P_3":n.setVideoResolution("480p_3"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([20,400]);break;case"480p_4":case"480P_4":n.setVideoResolution("480p_4"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([20,750]);break;case"480p_6":case"480P_6":n.setVideoResolution("480p_6"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([20,600]);break;case"480p_8":case"480P_8":n.setVideoResolution("480p_8"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([20,610]);break;case"480p_9":case"480P_9":n.setVideoResolution("480p_9"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([20,930]);break;case"480p_10":case"480P_10":n.setVideoResolution("480p_10"),n.setVideoFrameRate([10,10]),n.setVideoBitRate([20,400]);break;case"720p":case"720P":case"720p_1":case"720P_1":n.setVideoResolution("720p_1"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([30,1130]);break;case"720p_2":case"720P_2":n.setVideoResolution("720p_2"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([30,2e3]);break;case"720p_3":case"720P_3":n.setVideoResolution("720p_3"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([30,1710]);break;case"720p_5":case"720P_5":n.setVideoResolution("720p_5"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([30,910]);break;case"720p_6":case"720P_6":n.setVideoResolution("720p_6"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([30,1380]);break;case"1080p":case"1080P":case"1080p_1":case"1080P_1":n.setVideoResolution("1080p_1"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([50,2080]);break;case"1080p_2":case"1080P_2":n.setVideoResolution("1080p_2"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([50,3e3]);break;case"1080p_3":case"1080P_3":n.setVideoResolution("1080p_3"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([50,3150]);break;case"1080p_5":case"1080P_5":n.setVideoResolution("1080p_5"),n.setVideoFrameRate([60,60]),n.setVideoBitRate([50,4780]);break;case"1440p":case"1440P":case"1440p_1":case"1440P_1":n.setVideoResolution("1440p_1"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([50,4850]);break;case"1440p_2":case"1440P_2":n.setVideoResolution("1440p_2"),n.setVideoFrameRate([60,60]),n.setVideoBitRate([50,7350]);break;case"4k":case"4K":case"4k_1":case"4K_1":n.setVideoResolution("4k_1"),n.setVideoFrameRate([30,30]),n.setVideoBitRate([50,8910]);break;case"4k_3":case"4K_3":n.setVideoResolution("4k_3"),n.setVideoFrameRate([60,60]),n.setVideoBitRate([50,13500]);break;default:n.setVideoResolution("480p_1"),n.setVideoFrameRate([15,15]),n.setVideoBitRate([20,500])}return!0}return!1},n.setAudioProfile=function(e){if(n.audioProfile=e,"string"==typeof e&&n.audio){switch(e){case"speech_low_quality":n.highQuality=!1,n.stereo=!1,n.speech=!0,n.lowQuality=!0;break;case"speech_standard":n.highQuality=!1,n.stereo=!1,n.speech=!0,n.lowQuality=!1;break;case"music_standard":n.highQuality=!1,n.stereo=!1,n.speech=!1,n.lowQuality=!1;break;case"standard_stereo":n.highQuality=!1,n.stereo=!0,n.speech=!1,n.lowQuality=!1;break;case"high_quality":n.highQuality=!0,n.stereo=!1,n.speech=!1,n.lowQuality=!1;break;case"high_quality_stereo":n.highQuality=!0,n.stereo=!0,n.speech=!1,n.lowQuality=!1;break;default:n.highQuality=!1,n.stereo=!1,n.speech=!1,n.lowQuality=!1}return!0}return!1},n.getId=function(){return n.streamId},n.getUserId=function(){return n.userId},n.setUserId=function(e){n.userId&&d.default.warning("Stream.userId "+n.userId+" => "+e),n.userId=e},n.getAttributes=function(){return e.screen?n.screenAttributes:e.attributes},n.hasAudio=function(){return n.audio},n.hasVideo=function(){return n.video},n.hasScreen=function(){return n.screen},n.isVideoOn=function(){return(n.hasVideo()||n.hasScreen())&&n.videoEnabled},n.isAudioOn=function(){return n.hasAudio()&&n.audioEnabled},n.init=function(t,i){var o=((new Date).getTime(),arguments[2]);if(void 0===o&&(o=2),!0!==n.initialized)if(!0===n.local){if(n.videoSource||n.audioSource){var a=new MediaStream;return n.videoSource&&(d.default.debug("Added videoSource"),a.addTrack(n.videoSource),n.video=!0),n.audioSource&&(d.default.debug("Added audioSource"),a.addTrack(n.audioSource),n.audio=!0),n.hasVideo()?(0,p.vsResHack)(a,function(e,i){d.default.info("Video Source width "+e+" height "+i),n.stream=a,n.initialized=!0,t&&t()},function(e){d.default.warning("Failed to get width & height from video source",e),n.stream=a,n.initialized=!0,t&&t()}):(n.stream=a,n.initialized=!0,t&&t())}try{if((e.audio||e.video||e.screen)&&void 0===e.url){d.default.debug("Requested access to local media");var u=e.video;if(e.screen)var c={video:u,audio:!1,screen:!0,data:!0,extensionId:e.extensionId,attributes:n.screenAttributes,fake:e.fake,mediaSource:e.mediaSource};else{var c={video:u,audio:e.audio,fake:e.fake};if(!(null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35)){var f=30,m=30;if(void 0!==e.attributes.minFrameRate&&(f=e.attributes.minFrameRate),void 0!==e.attributes.maxFrameRate&&(m=e.attributes.maxFrameRate),!0===c.audio){c.audio=!e.microphoneId||{deviceId:{exact:e.microphoneId}};var g={};n.audioProcessing&&(void 0!==n.audioProcessing.AGC&&((0,l.isFireFox)()?g.autoGainControl=n.audioProcessing.AGC:(0,l.isChrome)()&&(g.googAutoGainControl=n.audioProcessing.AGC,g.googAutoGainControl2=n.audioProcessing.AGC)),void 0!==n.audioProcessing.AEC&&(g.echoCancellation=n.audioProcessing.AEC),void 0!==n.audioProcessing.ANS&&((0,l.isFireFox)()?g.noiseSuppression=n.audioProcessing.ANS:(0,l.isChrome)()&&(g.googNoiseSuppression=n.audioProcessing.ANS))),n.stereo&&(0,l.isChrome)()&&(g.googAutoGainControl=!1,g.googAutoGainControl2=!1,g.echoCancellation=!1,g.googNoiseSuppression=!1),0!==Object.keys(g).length&&(!0===c.audio?c.audio={mandatory:g}:c.audio=Object.assign(c.audio,g))}!0===c.video?(c.video={width:{ideal:n.videoSize[0]},height:{ideal:n.videoSize[1]},frameRate:{ideal:f,max:m}},n.setVideoBitRate([500,500]),c.video.deviceId=e.cameraId?{exact:e.cameraId}:void 0):"object"===r(c.video)&&(c.video.frameRate={ideal:f,max:m},c.video.deviceId=e.cameraId?{exact:e.cameraId}:void 0)}}d.default.debug(c);var v=Object.assign({},c);if(n.constraints=c,(0,s.GetUserMedia)(v,function(r){n.screenAudioTrack&&r.addTrack(n.screenAudioTrack);var o=r.getVideoTracks().length>0,a=r.getAudioTracks().length>0;return v.video&&!o&&v.audio&&!a?(d.default.error("Media access: NO_CAMERA_MIC_PERMISSION"),i&&i("NO_CAMERA_MIC_PERMISSION")):v.video&&!o?(d.default.error("Media access: NO_CAMERA_PERMISSION"),i&&i("NO_CAMERA_PERMISSION")):v.screen&&!o?(d.default.error("Media access: NO_SCREEN_PERMISSION"),i&&i("NO_SCREEN_PERMISSION")):v.audio&&!a?(d.default.error("Media access: NO_MIC_PERMISSION"),i&&i("NO_MIC_PERMISSION")):(d.default.debug("User has granted access to local media"),n.dispatchEvent({type:"accessAllowed"}),n.stream=r,n.initialized=!0,e.video||e.screen||e.videoSource?n.videoEnabled=!0:n.videoEnabled=!1,e.audio||e.audioSource?n.audioEnabled=!0:n.audioEnabled=!1,e.screen&&e.audio&&!n.screenAudioTrack||t&&t(),n.hasVideo()&&(0,p.vsResHack)(r,function(e,t){n.videoWidth=e,n.videoHeight=t},function(e){d.default.warning("vsResHack failed:"+e)}),void(e.screen&&(0,l.isChrome)()&&n.stream&&n.stream.getVideoTracks()[0]&&(n.stream.getVideoTracks()[0].onended=function(){n.dispatchEvent({type:"stopScreenSharing"})})))},function(e){var r={type:"error",msg:e.name||e};switch(r.msg){case"Starting video failed":case"TrackStartError":if(n.videoSize=void 0,o>0)return void setTimeout(function(){n.init(t,i,o-1)},1);r.msg="MEDIA_OPTION_INVALID";break;case"DevicesNotFoundError":r.msg="DEVICES_NOT_FOUND";break;case"NotSupportedError":r.msg="NOT_SUPPORTED";break;case"PermissionDeniedError":r.msg="PERMISSION_DENIED",n.dispatchEvent({type:"accessDenied"});break;case"PERMISSION_DENIED":n.dispatchEvent({type:"accessDenied"});break;case"InvalidStateError":r.msg="PERMISSION_DENIED",n.dispatchEvent({type:"accessDenied"});break;case"NotAllowedError":n.dispatchEvent({type:"accessDenied"});break;case"ConstraintNotSatisfiedError":r.msg="CONSTRAINT_NOT_SATISFIED";break;default:r.msg||(r.msg="UNDEFINED")}if(d.default.error("Media access:",r.msg),"function"==typeof i)return i(r)}),e.screen&&e.audio){var h=!e.microphoneId||{deviceId:{exact:e.microphoneId}},g={};n.audioProcessing&&(void 0!==n.audioProcessing.AGC&&((0,l.isFireFox)()?g.autoGainControl=n.audioProcessing.AGC:(0,l.isChrome)()&&(g.googAutoGainControl=n.audioProcessing.AGC,g.googAutoGainControl2=n.audioProcessing.AGC)),void 0!==n.audioProcessing.AEC&&(g.echoCancellation=n.audioProcessing.AEC),void 0!==n.audioProcessing.ANS&&((0,l.isFireFox)()?g.noiseSuppression=n.audioProcessing.ANS:(0,l.isChrome)()&&(g.googNoiseSuppression=n.audioProcessing.ANS))),n.stereo&&(0,l.isChrome)()&&(g.googAutoGainControl=!1,g.googAutoGainControl2=!1,g.echoCancellation=!1,g.googNoiseSuppression=!1),0!==Object.keys(g).length&&(h=!0===h?{mandatory:g}:Object.assign(h,g));var y={video:!1,audio:h};d.default.debug(y),(0,s.GetUserMedia)(y,function(e){d.default.info("User has granted access to auxiliary local media."),n.dispatchEvent({type:"accessAllowed"});var i=e.getAudioTracks()[0];n.stream?(n.stream.addTrack(i),t&&t()):n.screenAudioTrack=i},function(e){var r={type:"error",msg:e.name||e};switch(r.msg){case"Starting video failed":case"TrackStartError":if(n.videoSize=void 0,o>0)return void setTimeout(function(){n.init(t,i,o-1)},1);r.msg="MEDIA_OPTION_INVALID";break;case"DevicesNotFoundError":r.msg="DEVICES_NOT_FOUND";break;case"NotSupportedError":r.msg="NOT_SUPPORTED";break;case"PermissionDeniedError":case"InvalidStateError":r.msg="PERMISSION_DENIED",n.dispatchEvent({type:"accessDenied"});break;case"PERMISSION_DENIED":case"NotAllowedError":n.dispatchEvent({type:"accessDenied"});break;case"ConstraintNotSatisfiedError":r.msg="CONSTRAINT_NOT_SATISFIED";break;default:r.msg||(r.msg="UNDEFINED")}d.default.error("Media access:",r.msg),"function"==typeof i&&i(r)})}}else"function"==typeof i&&i({type:"warning",msg:"STREAM_HAS_NO_MEDIA_ATTRIBUTES"})}catch(e){d.default.error("Stream init:",e),"function"==typeof i&&i({type:"error",msg:e.message||e})}}else"function"==typeof i&&i({type:"warning",msg:"STREAM_NOT_LOCAL"});else"function"==typeof i&&i({type:"warning",msg:"STREAM_ALREADY_INITIALIZED"})},n.close=function(){if(d.default.debug("Close stream with id",n.streamId),void 0!==n.stream){var e=n.stream.getTracks();for(var t in e)e.hasOwnProperty(t)&&e[t].stop();n.stream=void 0}(0,l.isSafari)()&&n.pc&&n.pc.peerConnection&&n.pc.peerConnection.removeTrack&&n.pc.peerConnection.getSenders&&n.pc.peerConnection.getSenders().forEach(function(e){e&&(d.default.debug("Remove Track",e),n.pc.peerConnection.removeTrack(e))}),n.initialized=!1,n.unmuteAudio=void 0,n.muteAudio=void 0,n.unmuteVideo=void 0,n.muteVideo=void 0,n.lowStream&&n.lowStream.close()},n.enableAudio=function(){return d.default.debug("Enable audio stream with id",n.streamId),n._flushAudioMixingMuteStatus(!1),!(!n.hasAudio()||!n.initialized||void 0===n.stream||!0===n.stream.getAudioTracks()[0].enabled||(void 0!==n.unmuteAudio&&n.unmuteAudio(),n.audioEnabled=!0,n.stream.getAudioTracks()[0].enabled=!0,0))},n.disableAudio=function(){return d.default.debug("Disable audio stream with id",n.streamId),n._flushAudioMixingMuteStatus(!0),!!(n.hasAudio()&&n.initialized&&void 0!==n.stream&&n.stream.getAudioTracks()[0].enabled)&&(void 0!==n.muteAudio&&n.muteAudio(),n.audioEnabled=!1,n.stream.getAudioTracks()[0].enabled=!1,n.sid&&m.report.audioSendingStopped(n.sid,{succ:!0,reason:"muteAudio"}),!0)},n.enableVideo=function(){return d.default.debug("Enable video stream with id",n.streamId),!(!n.initialized||void 0===n.stream||!n.stream.getVideoTracks().length||!0===n.stream.getVideoTracks()[0].enabled||(void 0!==n.unmuteVideo&&n.unmuteVideo(),n.pc&&(n.pc.isVideoMute=!1),n.videoEnabled=!0,n.stream.getVideoTracks()[0].enabled=!0,n.lowStream&&n.lowStream.enableVideo(),0))},n.disableVideo=function(){return d.default.debug("Disable video stream with id",n.streamId),!!(n.initialized&&void 0!==n.stream&&n.stream.getVideoTracks().length&&n.stream.getVideoTracks()[0].enabled)&&(void 0!==n.muteVideo&&n.muteVideo(),n.pc&&(n.pc.isVideoMute=!0),n.videoEnabled=!1,n.stream.getVideoTracks()[0].enabled=!1,n.lowStream&&n.lowStream.disableVideo(),n.sid&&m.report.videoSendingStopped(n.sid,{succ:!0,reason:"muteVideo"}),!0)},n.addTrack=function(e){if(n.pc&&n.pc.addTrack(e,n.stream),"audio"==e.kind){var t=new MediaStream;t.addTrack(e);var i=n.stream.getVideoTracks()[0];i&&t.addTrack(i),n.stream=t,n.player&&n.player.video&&(n.player.video.srcObject=n.stream)}else n.stream.addTrack(e)},n.removeTrack=function(e){n.pc&&n.pc.removeTrack(e,n.stream),n.stream.removeTrack(e),"live"==e.readyState&&(e.stop(),d.default.debug("Track "+e.kind+" Stopped"))},n.setAudioOutput=function(e,t,i){return"string"!=typeof e?(d.default.error("setAudioOutput Invalid Parameter",e),i&&i(v.default.INVALID_PARAMETER)):(n.audioOutput=e,n.player?void n.player.setAudioOutput(e,t,i):t&&t())},n.play=function(e,t){n.elementID=e,n.playOptions=t,n.isPlaying()?d.default.error("Stream.play(): Stream is already playing"):!n.local||n.video||n.screen?void 0!==e&&(n.player=new a.default({id:n.getId(),stream:n,elementID:e,options:t})):n.hasAudio()&&(n.player=new a.default({id:n.getId(),stream:n,elementID:e,options:t})),n.audioOutput&&n.player.setAudioOutput(n.audioOutput),void 0!==n.audioLevel&&n.player.setAudioVolume(n.audioLevel),n._flushAudioMixingMuteStatus(!1)},n.stop=function(){d.default.debug("Stop stream player with id",n.streamId),n.player?(n.player.destroy(),delete n.player):d.default.error("Stream.stop(): Stream is not playing"),n._flushAudioMixingMuteStatus(!0)},n.isPlaying=function(){return!!n.player},n.getVideoTrack=function(){if(n.stream&&n.stream.getVideoTracks){var e=n.stream.getVideoTracks()[0];if(e)return d.default.info("getVideoTrack",e),e}d.default.info("getVideoTrack None")},n.getAudioTrack=function(){if(n.stream&&n.stream.getAudioTracks){var e=n.stream.getAudioTracks()[0];if(e)return d.default.info("getAudioTracks",e),e}d.default.info("getAudioTracks None")},n._replaceMediaStreamTrack=function(e,t,i){if(n.stream){if("video"==e.kind){var r=n.stream.getVideoTracks()[0];if(r)return n.stream.removeTrack(r),n.stream.addTrack(e),d.default.debug("_replaceMediaStreamTrack "+e.kind+" SUCCESS"),"live"==r.readyState&&(r.stop(),d.default.debug("Track "+r.kind+" Stopped")),t&&t();var o="MEDIASTREAM_TRACK_NOT_FOUND";return d.default.error("MEDIASTREAM_TRACK_NOT_FOUND "+e.kind),i(o)}if("audio"==e.kind){var r=n.stream.getAudioTracks()[0];if(r)return n.stream.removeTrack(r),n.stream.addTrack(e),d.default.debug("_replaceMediaStreamTrack SUCCESS"),"live"==r.readyState&&(r.stop(),d.default.debug("Track "+r.kind+" Stopped")),t&&t();var o="MEDIASTREAM_TRACK_NOT_FOUND";return d.default.error("MEDIASTREAM_TRACK_NOT_FOUND "+e.kind),i(o)}var o="INVALID_TRACK_TYPE";return d.default.error("_replaceMediaStreamTrack "+o+" "+e.kind),i&&i(o)}var o="NO_STREAM_FOUND";return d.default.error("_replaceMediaStreamTrack "+o),i&&i(o)},n.replaceTrack=function(e,t,i){return e&&e.kind?n.pc&&n.pc.hasSender&&n.pc.hasSender(e.kind)?void n.pc.replaceTrack(e,function(){return d.default.debug("PeerConnection.replaceTrack "+e.kind+" SUCCESS"),n._replaceMediaStreamTrack(e,t,i)},function(t){return d.default.error("PeerConnection.replaceTrack "+e.kind+" Failed "+t),i&&i(t)}):n._replaceMediaStreamTrack(e,t,i):i&&i("INVALID_TRACK")},n.setAudioVolume=function(e){e>=0&&e<=100?(n.audioLevel=e,n.player&&n.player.setAudioVolume(e)):d.default.error("Invalid audio level: "+e)},n.getStats=function(e,t){var i={type:"collectStats",promises:[]};n.dispatchEvent(i),Promise.all(i.promises).then(function(t){var i=Object.assign.apply(Object,t);e&&setTimeout(e.bind(n,i),0)}).catch(function(e){t&&setTimeout(t.bind(n,e),0)})},n._getPCStats=function(){return new Promise(function(e,t){if(!n.pc||"established"!==n.pc.state||!n.pc.getStats)return t("PEER_CONNECTION_NOT_ESTABLISHED");n.pc.getStats(function(i){if(!n.pc||"established"!==n.pc.state||!n.pc.getStats)return t("PEER_CONNECTION_STATE_CHANGE");var r=n.pc.isSubscriber?(0,f.subscribeStatsFilter)(i):(0,f.publishStatsFilter)(i);return e(r)})}).then(function(e){return n.pc.isSubscriber?(0,l.isFireFox)()&&((0,f.setStat)(e,"videoReceiveResolutionHeight",n.videoHeight),(0,f.setStat)(e,"videoReceiveResolutionWidth",n.videoWidth)):(((0,l.isSafari)()||(0,l.isFireFox)())&&((0,f.setStat)(e,"videoSendResolutionHeight",n.videoHeight),(0,f.setStat)(e,"videoSendResolutionWidth",n.videoWidth)),((0,l.isSafari)()||(0,l.isFireFox)())&&n.uplinkStats&&(0,f.setStat)(e,"videoSendPacketsLost",n.uplinkStats.uplink_cumulative_lost)),Promise.resolve(e)})},n.getAudioLevel=function(){return n.audioLevelHelper?n.audioLevelHelper.getAudioLevel():n.stream?0!==n.stream.getAudioTracks().length?(n.audioLevelHelper=new p.audioLevelHelper(n.stream),n.audioLevelHelper.getAudioLevel()):void d.default.warning("can't get audioLevel beacuse no audio trace in stream"):(d.default.warning("can't get audioLevel beacuse no stream exist"),0)},n.loadAudioBuffer=function(e,t,i){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){if(r.status>400){var t=r.statusText;return d.default.error("loadAudioBuffer Failed: "+t),i(t)}var o=r.response;n.audioMixing.state==n.audioMixing.states.UNINIT&&n._initAudioContext(),n.audioMixing.ctx.decodeAudioData(o,function(t){n.audioMixing.buffer[e]=t,i(null)},function(e){d.default.error("decodeAudioData Failed:",e),i(e)})},r.send()},n.createAudioBufferSource=function(e){if(n.audioMixing.buffer[e.id]){var t=n.audioMixing.buffer[e.id],i=n.audioMixing.ctx.createBufferSource();i.buffer=t;var r=n.audioMixing.ctx.createGain();if(i.connect(r),r.connect(n.audioMixing.mediaStreamDest),i.gainNode=r,e.loop)i.loop=!0,i.start(0,e.playTime/1e3);else if(e.cycle>1)if((0,l.isChrome)()){i.loop=!0;var o=e.cycle*t.duration*1e3-(e.playTime||0);i.start(0,e.playTime/1e3,o/1e3)}else d.default.warning("Cycle Param is ignored by current browser"),i.start(0,e.playTime/1e3);else i.start(0,e.playTime/1e3);return n.audioMixing.source.push(i),n._flushAudioMixingMuteStatus(),i.addEventListener("ended",function(){for(var e=n.audioMixing.source.length-1;e>=0;e--)i==n.audioMixing.source[e]&&n.audioMixing.source.splice(e,1);n.dispatchEvent({type:"audioSourceEnded",source:i})}),i}return d.default.error("AUDIOBUFFER_NOT_FOUND",e.id),!1},n.on("audioSourceEnded",function(e){0!=n.audioMixing.source.length||n.audioMixing.state!=n.audioMixing.states.BUSY||n.pauseAt||(n.audioMixing.state=n.audioMixing.states.IDLE,n.audioMixing.startAt=null,n.audioMixing.startOffset=null,n.audioMixing.resumeAt=null,n.audioMixing.resumeOffset=null,n.audioMixing.mediaStreamSource.connect(n.audioMixing.mediaStreamDest))}),n.clearAudioBufferSource=function(){n.audioBufferSource.forEach(function(e){e.stop()})},n._initAudioContext=function(){if(n.audioMixing.state!==n.audioMixing.states.UNINIT)throw new Error("Failed to init audio context "+n.audioMixing.state);if(!n.stream)throw new Error("Failed to init audio context. Local Stream not initialized");n.audioMixing.ctx=(0,h.createAudioContext)(),n.audioMixing.mediaStreamSource=n.audioMixing.ctx.createMediaStreamSource(n.stream),n.audioMixing.mediaStreamDest=n.audioMixing.ctx.createMediaStreamDestination(),n.audioMixing.mediaStreamSource.connect(n.audioMixing.mediaStreamDest);var e=n.stream.getVideoTracks()[0];if(e&&n.audioMixing.mediaStreamDest.stream.addTrack(e),n.stream=n.audioMixing.mediaStreamDest.stream,n.pc&&n.pc.peerConnection&&n.pc.peerConnection){var t=n.pc.peerConnection&&n.pc.peerConnection.getSenders(),i=t.find(function(e){return e&&e.track&&"audio"==e.track.kind}),r=n.audioMixing.mediaStreamDest.stream.getAudioTracks()[0];i&&i.replaceTrack&&r&&i.replaceTrack(r)}n.audioMixing.state=n.audioMixing.states.IDLE},n._reloadInEarMonitoringMode=function(e){if(e){if(!n.audioMixing.inEarMonitoringModes[e])return d.default.error("Invalid InEarMonitoringMode "+e);n.audioMixing.inEarMonitoring=e}switch(n.audioMixing.state==n.audioMixing.states.UNINIT&&n._initAudioContext(),n.audioMixing.inEarMonitoring){case n.audioMixing.inEarMonitoringModes.FILE:n.audioMixing.mediaStreamSource.connectedToDestination&&(n.audioMixing.mediaStreamSource.disconnect(n.audioMixing.ctx.destination),n.audioMixing.mediaStreamSource.connectedToDestination=!1);case n.audioMixing.inEarMonitoringModes.ALL:n.audioMixing.source.forEach(function(e){e.connectedToDestination||(e.gainNode.connect(n.audioMixing.ctx.destination),e.connectedToDestination=!0)})}switch(n.audioMixing.inEarMonitoring){case n.audioMixing.inEarMonitoringModes.MICROPHONE:n.audioMixing.source.forEach(function(e){e.connectedToDestination&&(e.gainNode.disconnect(n.audioMixing.ctx.destination),e.connectedToDestination=!1)});case n.audioMixing.inEarMonitoringModes.ALL:n.audioMixing.mediaStreamSource.connectedToDestination||(n.audioMixing.mediaStreamSource.connect(n.audioMixing.ctx.destination),n.audioMixing.mediaStreamSource.connectedToDestination=!0)}},n._startAudioMixingBufferSource=function(e){n.audioMixing.state==n.audioMixing.states.UNINIT&&n._initAudioContext();var t={id:e.filePath,loop:e.loop,cycle:e.cycle,playTime:e.playTime},i=e.replace,r=n.createAudioBufferSource(t);return r?(n._reloadInEarMonitoringMode(),i&&n.audioMixing.mediaStreamSource.disconnect(n.audioMixing.mediaStreamDest),r):null},n._stopAudioMixingBufferSource=function(){var e=n.audioMixing.source[0];return e?(n.audioMixing.mediaStreamSource.connect(n.audioMixing.mediaStreamDest),e.stop(),e):null},n._flushAudioMixingMuteStatus=function(e){void 0!==e&&(n.audioMixing.muted=!!e),n.audioMixing.source.forEach(function(e){n.audioMixing.muted?e.gainNode.gain.value=0:e.gainNode.gain.value=n.audioMixing.volume/100})},n.startAudioMixing=function(e,t){if((0,l.isSafari)()&&(0,l.getBrowserVersion)()<12){var i="BROWSER_NOT_SUPPORT";return d.default.error("Cannot startAudioMixing: ",i),t(i)}if(n.audioMixing.state==n.audioMixing.states.UNINIT&&n._initAudioContext(),n.audioMixing.state!==n.audioMixing.states.IDLE){var i=n.audioMixing.state;return d.default.error("Cannot startAudioMixing: ",i),t(i)}if(void 0!==e.cycle&&!e.cycle>0){var i="Invalid Parmeter cycle: "+e.cycle;return d.default.error(i),t(i)}if(n.audioMixing.state=n.audioMixing.states.STARTING,n.audioMixing.options=e,n.audioMixing.buffer[e.filePath]){if(n._startAudioMixingBufferSource(e))return n.audioMixing.startAt=Date.now(),n.audioMixing.resumeAt=null,n.audioMixing.pauseOffset=null,n.audioMixing.pauseAt=null,n.audioMixing.resumeOffset=null,n.audioMixing.stopAt=null,n.audioMixing.startOffset=e.playTime||0,n.audioMixing.state=n.audioMixing.states.BUSY,t&&t(null);n.audioMixing.state=n.audioMixing.states.IDLE;var r="CREATE_BUFFERSOURCE_FAILED";if(t)return t(r);d.default.error(r)}else n.loadAudioBuffer(e.filePath,e.filePath,function(i){if(i)n.audioMixing.state=n.audioMixing.states.IDLE,t?t(i):d.default.error(i);else{if(n._startAudioMixingBufferSource(e))return n.audioMixing.startAt=Date.now(),n.audioMixing.resumeAt=null,n.audioMixing.pauseOffset=null,n.audioMixing.pauseAt=null,n.audioMixing.resumeOffset=null,n.audioMixing.stopAt=null,n.audioMixing.startOffset=e.playTime||0,n.audioMixing.state=n.audioMixing.states.BUSY,t&&t(null);n.audioMixing.state=n.audioMixing.states.IDLE;var i="CREATE_BUFFERSOURCE_FAILED";if(t)return t(i);d.default.error(i)}})},n.stopAudioMixing=function(){n.audioMixing.state==n.audioMixing.states.BUSY||n.audioMixing.state==n.audioMixing.states.PAUSED?(n._stopAudioMixingBufferSource(),n.audioMixing.stopAt=Date.now(),n.audioMixing.state=n.audioMixing.states.IDLE):d.default.error("Invalid state for stopAudioMixing "+n.audioMixing.state)},n.pauseAudioMixing=function(){n.audioMixing.state==n.audioMixing.states.BUSY?(n._stopAudioMixingBufferSource(),n.audioMixing.pauseAt=Date.now(),n.audioMixing.state=n.audioMixing.states.PAUSED,n.audioMixing.resumeAt?n.audioMixing.pauseOffset=n.audioMixing.pauseAt-n.audioMixing.resumeAt+n.audioMixing.resumeOffset:n.audioMixing.pauseOffset=n.audioMixing.pauseAt-n.audioMixing.startAt+n.audioMixing.startOffset):d.default.error("Invalid State for pauseAudioMixing "+n.audioMixing.state)},n.resumeAudioMixing=function(){if(n.audioMixing.state==n.audioMixing.states.PAUSED){var e={filePath:n.audioMixing.options.filePath,cycle:n.audioMixing.options.cycle,loop:n.audioMixing.options.loop,playTime:n.audioMixing.pauseOffset,replace:n.audioMixing.options.replace};n._startAudioMixingBufferSource(e),n.audioMixing.resumeAt=Date.now(),n.audioMixing.resumeOffset=n.audioMixing.pauseOffset,n.audioMixing.state=n.audioMixing.states.BUSY,n.audioMixing.pauseAt=null,n.audioMixing.pauseOffset=null}else d.default.error("Invalid State for resumeAudioMixing "+n.audioMixing.state)},n.adjustAudioMixingVolume=function(e){n.audioMixing.volume=e,n._flushAudioMixingMuteStatus()},n.getAudioMixingDuration=function(){return n.audioMixing.options&&n.audioMixing.options.filePath&&n.audioMixing.buffer[n.audioMixing.options.filePath]?1e3*n.audioMixing.buffer[n.audioMixing.options.filePath].duration:null},n.getAudioMixingCurrentPosition=function(){return n.audioMixing.state==n.audioMixing.states.PAUSED?n.audioMixing.pausedPosition%n.getAudioMixingDuration():n.audioMixing.state==n.audioMixing.states.BUSY?(Date.now()-n.audioMixing.startAt+n.audioMixing.startOffset)%n.getAudioMixingDuration():void d.default.error("Invalid State for getAudioMixingCurrentPosition "+n.audioMixing.state)},n.setAudioMixingPosition=function(e){if(n.audioMixing.state==n.audioMixing.states.BUSY){n._stopAudioMixingBufferSource();var t={filePath:n.audioMixing.options.filePath,loop:n.audioMixing.options.loop,cycle:n.audioMixing.options.cycle,playTime:e};n._startAudioMixingBufferSource(t),n.audioMixing.startAt=Date.now(),n.audioMixing.startOffset=e,n.audioMixing.resumeAt=null,n.audioMixing.resumeOffset=null,n.audioMixing.pauseOffset=null,n.audioMixing.pauseAt=null}else n.audioMixing.state==n.audioMixing.states.PAUSED?n.audioMixing.pauseOffset=e:d.default.error("Invalid State for setAudioMixingPosition "+n.audioMixing.state)},n.setVideoProfile("480P"),n._switchVideoDevice=function(e,t,i){if(e===n.cameraId)return t&&t();n.constraints.video.deviceId={exact:e},d.default.debug(n.constraints);var r=Object.assign({},n.constraints);(0,s.GetUserMedia)(r,function(r){try{(0,l.isSafari)()&&"11"===(0,l.getBrowserVersion)()?n.replaceTrack(r.getVideoTracks()[0],t,i):(n.removeTrack(n.stream.getVideoTracks()[0]),n.addTrack(r.getVideoTracks()[0]),n.isPlaying()&&(n.stop(),n.elementID&&n.play(n.elementID)),n.cameraId=e,t&&t())}catch(e){return i&&i(e)}},function(e){return i&&i(e)})},n._switchAudioDevice=function(e,t,i){if(e===n.microphoneId)return t&&t();!0===n.constraints.audio?n.constraints.audio={deviceId:{exact:e}}:n.constraints.audio.deviceId={exact:e},d.default.debug(n.constraints);var r=Object.assign({},n.constraints);(0,s.GetUserMedia)(r,function(r){try{(0,l.isSafari)()&&"11"===(0,l.getBrowserVersion)()?n.replaceTrack(r.getAudioTracks()[0],t,i):(n.removeTrack(n.stream.getAudioTracks()[0]),n.addTrack(r.getAudioTracks()[0]),n.isPlaying()&&(n.stop(),n.elementID&&n.play(n.elementID)),n.microphoneId=e,t&&t())}catch(e){return i&&i(e)}},function(e){return i&&i(e)})},n.switchDevice=function(e,t,i,r){var o=function(){return n.inSwitchDevice=!1,i&&i()},a=function(e){n.inSwitchDevice=!1,r&&"function"==typeof r?r(e):d.default.error(e)};return n.inSwitchDevice?r&&r("Device switch is in process."):(n.inSwitchDevice=!0,n.local?n.screen&&"video"===e?a("The device cannot be switched during screen-sharing."):n.videoSource||n.audioSource?a("The device cannot be switched when using videoSource or audioSource."):n.lowStream?a("The device cannot be switched when using lowstream."):n.audioMixing.state!==n.audioMixing.states.UNINIT&&n.audioMixing.state!==n.audioMixing.states.IDLE?a("The device cannot be switched when using audio Mixing."):void y.deviceManager.getDeviceById(t,function(){if("video"===e)n._switchVideoDevice(t,o,a);else{if("audio"!==e)return a("Invalid type.");n._switchAudioDevice(t,o,a)}},function(){return a("The device does not exist.")}):a("Only the local stream can switch the device."))},n};t.Stream=_,t.createStream=function(e){return d.default.debug("Create stream"),_(e)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.deviceManager=void 0;var r=n(1),o=n(0),a=i(o),s=n(3),u=i(s),c=new function(){var e=(0,r.EventDispatcher)();return e.devicesHistory={},e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.deviceStates={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE"},e.deviceReloadTimer=null,e._init=function(t,n){e.state=e.states.INITING,e.devicesHistory={},e._reloadDevicesInfo(function(){e.state=e.states.INITED,e.dispatchEvent({type:"inited"}),t&&t()},function(t){a.default.warning("Device Detection functionality cannot start properly."),e.state=e.states.UNINIT,n&&n(t)})},e._enumerateDevices=function(e,t){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return a.default.warning("enumerateDevices() not supported."),t&&t("enumerateDevices() not supported");navigator.mediaDevices.enumerateDevices().then(function(t){e&&setTimeout(function(){e(t)},0)}).catch(function(e){t&&t(e)})},e._reloadDevicesInfo=function(t,n){var i=[];e._enumerateDevices(function(n){var r=Date.now();for(var o in n.forEach(function(t){var n=e.devicesHistory[t.deviceId];if((n?n.state:e.deviceStates.INACTIVE)!=e.deviceStates.ACTIVE){var o=n||{initAt:r};o.device=t,o.state=e.deviceStates.ACTIVE,i.push(o),e.devicesHistory[t.deviceId]=o}e.devicesHistory[t.deviceId].lastReloadAt=r}),e.devicesHistory){var s=e.devicesHistory[o];s&&s.state==e.deviceStates.ACTIVE&&s.lastReloadAt!==r&&(s.state=e.deviceStates.INACTIVE,i.push(s)),s.lastReloadAt=r}e.state==e.states.INITED&&i.forEach(function(t){var n=Object.assign({},t);switch(t.device.kind){case"audioinput":n.type="recordingDeviceChanged";break;case"audiooutput":n.type="playoutDeviceChanged";break;case"videoinput":n.type="cameraChanged";break;default:a.default.warning("Unknown device change",n),n.type="unknownDeviceChanged"}e.dispatchEvent(n)}),t&&t()},n)},e.getDeviceById=function(t,n,i){e.getDevices(function(e){for(var r=0;r<e.length;r++){var o=e[r];if(o&&o.deviceId===t)return n&&n(o)}return i&&i()})},e.getDevices=function(t,n){e._enumerateDevices(t,function(e){n&&n(e.name+": "+e.message)})},e.getVideoCameraIdByLabel=function(t,n,i){e.getCameras(function(e){var r=!0,o=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var d=s.value;if(d.label===t)return n&&n(d.deviceId)}}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}return i&&i(u.default.NOT_FIND_DEVICE_BY_LABEL)},i)},e.getRecordingDevices=function(t,n){return e._enumerateDevices(function(e){var n=e.filter(function(e){return"audioinput"==e.kind});t&&t(n)},function(e){n&&n(e)})},e.getPlayoutDevices=function(t,n){return e._enumerateDevices(function(e){var n=e.filter(function(e){return"audiooutput"==e.kind});t&&t(n)},function(e){n&&n(e)})},e.getCameras=function(t,n){return e._enumerateDevices(function(e){var n=e.filter(function(e){return"videoinput"==e.kind});t&&t(n)},function(e){n&&n(e)})},e._init(function(){navigator.mediaDevices&&navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",function(){e._reloadDevicesInfo()}),e.deviceReloadTimer=setInterval(e._reloadDevicesInfo,5e3)}),e};t.deviceManager=c},function(e,t,n){var i=n(20),r=n(21);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||r(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=window.AudioContext||window.webkitAudioContext;t.createAudioContext=function(){if(i)return new i;throw new Error("AUDIO_CONTEXT_NOT_SUPPORTED")},t.checkAudioContext=function(){return!!i}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GetUserMedia=t.Connection=void 0;var r=n(24),o=i(r),a=n(25),s=i(a),u=n(26),c=i(u),d=n(27),l=i(d),f=n(28),p=i(f),m=n(0),g=i(m),v=n(29),h=i(v),y=n(3),_=103;t.Connection=function(e){var t={};if(e.session_id=_+=1,"undefined"!=typeof window&&window.navigator)if(null!==window.navigator.userAgent.match("Firefox"))t.browser="mozilla",t=(0,p.default)(e);else if(window.navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome"))g.default.debug("Safari"),(t=(0,c.default)(e)).browser="safari";else if(window.navigator.userAgent.indexOf("MSIE "))(t=(0,s.default)(e)).browser="ie";else if(window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]>=26)(t=(0,s.default)(e)).browser="chrome-stable";else{if(!(window.navigator.userAgent.toLowerCase().indexOf("chrome")>=40))throw t.browser="none","WebRTC stack not available";(t=(0,o.default)(e)).browser="chrome-canary"}else g.default.error("Publish/subscribe video/audio streams not supported yet"),t=(0,l.default)(e);return t},t.GetUserMedia=function(e,t,n){if(navigator.getMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,e.screen){var i=null;try{i=window.require("electron")}catch(e){}if(i)return void(i.desktopCapturer?new h.default(e,t,n).shareScreen(i):n(y.ErrorCodes.ELECTRON_NOT_SUPPORT_SHARING_SCREEN));if(g.default.debug("Screen access requested"),null!==window.navigator.userAgent.match("Firefox")){if(!~["screen","window","application"].indexOf(e.mediaSource))return n&&n("Invalid mediaSource, mediaSource should be one of [screen, window, application]");if(!e.attributes)return n&&n("Share screen attributes is null");var r={};r.video={frameRate:{ideal:e.attributes.mxaFr,max:e.attributes.mxaFr},height:{ideal:e.attributes.height},width:{ideal:e.attributes.width},mediaSource:e.mediaSource},navigator.getMedia(r,t,n)}else if(null!==window.navigator.userAgent.match("Chrome")){if(window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<34)return void n({code:"This browser does not support screen sharing"});var o="okeephmleflklcdebijnponpabbmmgeo";e.extensionId&&(g.default.debug("extensionId supplied, using "+e.extensionId),o=e.extensionId),g.default.debug("Screen access on chrome stable, looking for extension");try{chrome.runtime.sendMessage(o,{getStream:!0},function(i){if(void 0===i)return g.default.debug("Access to screen denied"),void n({code:"Access to screen denied"});var o=i.streamId,a=e.attributes.width,s=e.attributes.height,u=e.attributes.maxFr,c=e.attributes.minFr;r={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:o,maxHeight:s,maxWidth:a,maxFrameRate:u,minFrameRate:c}}},navigator.getMedia(r,t,n)})}catch(e){return g.default.debug("AgoraRTC screensharing plugin is not accessible"),void n({code:"no_plugin_present"})}}else g.default.debug("This browser does not support screenSharing")}else window.navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")?navigator.mediaDevices.getUserMedia(e).then(t).catch(n):"undefined"!=typeof navigator&&navigator.getMedia?navigator.getMedia(e,t,n):g.default.error("Video/audio streams not supported yet")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeStatsFilter=t.publishStatsFilter=t.setStat=void 0;n(0);var i=function(e,t,n){if(["End2EndDelay","TransportDelay","PacketLossRate","RecvLevel","RecvBitrate","CodecType","MuteState","RecordingLevel","SendLevel","SamplingRate","SendBitrate","CodecType","MuteState","End2EndDelay","TransportDelay","PacketLossRate","RecvBitrate","RecvResolutionWidth","RecvResolutionHeight","RenderFrameRate","TargetSendBitrate","SendFrameRate","SendFrameRate","SendBitrate","SendResolutionWidth","SendResolutionHeight","EncodeDelay","MuteState","RTT","accessDelay","audioSendBytes","audioSendPackets","videoSendBytes","videoSendPackets","videoSendPacketsLost","videoSendFrameRate","audioSendPacketsLost","videoSendResolutionWidth","videoSendResolutionHeight","accessDelay","audioReceiveBytes","audioReceivePackets","audioReceivePacketsLost","videoReceiveBytes","videoReceivePackets","videoReceivePacketsLost","videoReceiveFrameRate","videoReceiveDecodeFrameRate","videoReceiveResolutionWidth","videoReceiveResolutionHeight","endToEndDelay","videoReceiveDelay","audioReceiveDelay"].indexOf(t)>-1&&("string"==typeof n||isFinite(n)))return e[t]=""+n};t.setStat=i,t.publishStatsFilter=function(e){var t={};return e.forEach(function(e){e.id&&(-1===e.id.indexOf("send")&&-1===e.id.indexOf("outbound_rtp")&&-1===e.id.indexOf("OutboundRTP")||("audio"===e.mediaType?(i(t,"audioSendBytes",e.bytesSent),i(t,"audioSendPackets",e.packetsSent),i(t,"audioSendPacketsLost",e.packetsLost)):(i(t,"videoSendBytes",e.bytesSent),i(t,"videoSendPackets",e.packetsSent),i(t,"videoSendPacketsLost",e.packetsLost),i(t,"videoSendFrameRate",e.googFrameRateSent),i(t,"videoSendResolutionWidth",e.googFrameWidthSent),i(t,"videoSendResolutionHeight",e.googFrameHeightSent))))}),t},t.subscribeStatsFilter=function(e){var t={};return e.forEach(function(e){e.id&&(-1===e.id.indexOf("recv")&&-1===e.id.indexOf("inbound_rtp")&&-1===e.id.indexOf("InboundRTP")||("audio"===e.mediaType?(i(t,"audioReceiveBytes",e.bytesReceived),i(t,"audioReceivePackets",e.packetsReceived),i(t,"audioReceivePacketsLost",e.packetsLost)):(i(t,"videoReceiveBytes",e.bytesReceived),i(t,"videoReceivePacketsLost",e.packetsLost),i(t,"videoReceivePackets",e.packetsReceived),i(t,"videoReceiveFrameRate",e.googFrameRateReceived),i(t,"videoReceiveDecodeFrameRate",e.googFrameRateDecoded),i(t,"videoReceiveResolutionWidth",e.googFrameWidthReceived),i(t,"videoReceiveResolutionHeight",e.googFrameHeightReceived))))}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AUDIO_SAMPLE_RATE_32000=32e3,t.AUDIO_SAMPLE_RATE_44100=44100,t.AUDIO_SAMPLE_RATE_48000=48e3,t.VIDEO_CODEC_PROFILE_BASELINE=66,t.VIDEO_CODEC_PROFILE_MAIN=77,t.VIDEO_CODEC_PROFILE_HIGH=100,t.REMOTE_VIDEO_STREAM_HIGH=0,t.REMOTE_VIDEO_STREAM_LOW=1,t.REMOTE_VIDEO_STREAM_MEDIUM=2,t.CLIENT_MODE_LIVE="live",t.CLIENT_MODE_RTC="rtc",t.CLIENT_MODE_WEB="web",t.CLIENT_MODE_INTEROP="interop",t.CLIENT_MODE_H264_INTEROP="h264_interop",t.CLIENT_MODE_WEBONLY="web-only",t.CLIENT_MODES=["live","rtc","web","interop","h264_interop","web-only"],t.CLIENT_CODEC_VP8="vp8",t.CLIENT_CODEC_H264="h264",t.CLIENT_CODECS=["vp8","h264"],t.ENCRYPTION_MODES=["aes-128-xts","aes-256-xts","aes-128-ecb"],t.ENCRYPTION_MODE_AES128XTS="aes-128-xts",t.ENCRYPTION_MODE_AES256XTS="aes-256-xts",t.ENCRYPTION_MODE_AES128ECB="aes-128-ecb",t.ENCRYPTION_MODE_NONE="none"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e&&e.apply(this,[].slice.call(arguments,1))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGatewayList=void 0;var i=n(2),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=n(8),u=n(4),c=n(3),d=function(e,t,n,i){var r=(new Date).getTime(),o="";t.multiIP&&t.multiIP.gateway_ip&&(o={vocs_ip:[t.multiIP.uni_lbs_ip],vos_ip:[t.multiIP.gateway_ip]});var d={flag:4,ts:+new Date,key:t.appId,cname:t.cname,detail:{},uid:t.uid||0};o&&(d.detail[5]=JSON.stringify(o)),(0,s.post)(e,d,function(o){try{var s=JSON.parse(o).res,d=s.code}catch(e){var l="requestChooseServer failed with unexpected body "+o;return a.default.error(l),i(l)}if(d){var f=c.APErrorCode[s.code]||d;return u.report.joinChooseServer(t.sid,{lts:r,succ:!1,csAddr:e,serverList:null,ec:f}),i("Get server node failed ["+f+"]",e,f)}var p,m=[];if(p=s.detail&&"CN"==s.detail[3]?".agoraio.cn":".agora.io",s.addresses.forEach(function(e){var t;e.ip&&e.port?(e.ip.match(/^[\.\:\d]+$/)?t="webrtc-"+e.ip.replace(/[^\d]/g,"-")+p+":"+e.port:(a.default.info("Cannot recognized as IP address "+e.ip+". Used As Host instead"),t=e.ip+":"+e.port),m.push(t)):a.default.error("Invalid address format ",e)}),!m.length){a.default.error("Empty Address response",s);var f="EMPTY_ADDRESS_RESPONSE";return u.report.joinChooseServer(t.sid,{lts:r,succ:!1,csAddr:e,serverList:null,ec:f}),i("Get server node failed ["+f+"]",e,f)}var g={gateway_addr:m,uid:s.uid,cid:s.cid,uni_lbs_ip:s.detail};return n(g,e)},function(e,n){"timeout"===e.type?(u.report.joinChooseServer(t.sid,{lts:r,succ:!1,csAddr:n,serverList:null,ec:"timeout"}),i("Connect choose server timeout",n)):u.report.joinChooseServer(t.sid,{lts:r,succ:!1,csAddr:n,serverList:null,ec:"server_wrong"})},{"X-Packet-Service-Type":0,"X-Packet-URI":44})},l=function(e,t,n){for(var i=(new Date).getTime(),o=!1,s=!0,l=function(n,r){if(o)u.report.joinChooseServer(e.sid,{lts:i,succ:!0,csAddr:r,serverList:n.gateway_addr,cid:n.cid+"",uid:n.uid+"",ec:null},!1);else{if(clearTimeout(h),o=!0,a.default.debug("Get gateway address:",n.gateway_addr),e.proxyServer){for(var s=n.gateway_addr,c=0;c<s.length;c++){var d=s[c].split(":");n.gateway_addr[c]=e.proxyServer+"/ws/?h="+d[0]+"&p="+d[1]}a.default.debug("Get gateway address:",n.gateway_addr)}t(n),u.report.joinChooseServer(e.sid,{lts:i,succ:!0,csAddr:r,serverList:n.gateway_addr,cid:n.cid+"",uid:n.uid+"",ec:null},!0)}},f=function(e,t,i){s&&(a.default.error(e,t,i),i&&!c.JOIN_CS_RETRY_LIST.includes(i)&&(s=!1,n(i)))},p=r.WEBCS_DOMAIN,m=0;m<p.length;++m){var g;if("string"==typeof p[m]){var v=p[m];g=e.proxyServer?"https://"+e.proxyServer+"/ap/?url="+v+"/api/v1":"https://"+v+"/api/v1",a.default.debug("Connect to choose_server: "+g),d(g,e,l,f)}else a.default.error("Invalid Host",p[m])}var h=setTimeout(function(){if(!o)for(var t=r.WEBCS_DOMAIN_BACKUP_LIST,n=0;n<t.length;++n)if("string"==typeof t[n]){var i=t[n];g=e.proxyServer?"https://"+e.proxyServer+"/ap/?url="+i+"/api/v1":"https://"+i+"/api/v1",a.default.debug("Connect to backup_choose_server: "+g),d(g,e,l,f)}else a.default.error("Invalid Host",t[n])},1e3);setTimeout(function(){!o&&s&&n()},r.WEBCS_BACKUP_CONNECT_TIMEOUT)};t.getGatewayList=function(e,t,n){var i=!1,r=null,o=1;!function n(){i||l(e,function(e){i=!0,clearTimeout(r),t(e)},function(e){e?a.default.info("Join failed: "+e):(a.default.debug("Request gateway list will be restart in "+o+"s"),r=setTimeout(function(){n()},1e3*o),o=o>=3600?3600:2*o)})}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(7),s=n(9),u=n(10),c=n(15),d=n(30),l=u.deviceManager.getDevices;t.default={TranscodingUser:d.TranscodingUser,LiveTranscoding:d.LiveTranscoding,createClient:d.createClient,createStream:s.createStream,Logger:o.default,getDevices:l,checkSystemRequirements:a.checkSystemRequirements,VERSION:i.VERSION,BUILD:i.BUILD,AUDIO_SAMPLE_RATE_32000:c.AUDIO_SAMPLE_RATE_32000,AUDIO_SAMPLE_RATE_44100:c.AUDIO_SAMPLE_RATE_44100,AUDIO_SAMPLE_RATE_48000:c.AUDIO_SAMPLE_RATE_48000,VIDEO_CODEC_PROFILE_BASELINE:c.VIDEO_CODEC_PROFILE_BASELINE,VIDEO_CODEC_PROFILE_MAIN:c.VIDEO_CODEC_PROFILE_MAIN,VIDEO_CODEC_PROFILE_HIGH:c.VIDEO_CODEC_PROFILE_HIGH,REMOTE_VIDEO_STREAM_HIGH:c.REMOTE_VIDEO_STREAM_HIGH,REMOTE_VIDEO_STREAM_LOW:c.REMOTE_VIDEO_STREAM_LOW,REMOTE_VIDEO_STREAM_MEDIUM:c.REMOTE_VIDEO_STREAM_MEDIUM}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimestamp=function(){var e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);e.exports=function(){return n(i),i}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,r=n;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),a=n(23),s=i(a),u=n(0),c=i(u),d=n(6),l=n(3),f=i(l);t.default=function(e){var t=(0,s.default)({});if(t.id=e.id,t.fit=e.options&&e.options.fit,"contain"!==t.fit&&"cover"!==t.fit&&(t.fit=null),t.url=e.url,t.stream=e.stream.stream,t.elementID=e.elementID,t.setAudioOutput=function(e,n,i){var r=t.video||t.audio;return r?r.setSinkId?void r.setSinkId(e).then(function(){return c.default.debug("video "+t.id+" setAudioOutput "+e+" SUCCESS"),r==t.video&&t.audio?t.audio.setSinkId(e):Promise.resolve()}).then(function(){return c.default.debug("audio "+t.id+" setAudioOutput "+e+" SUCCESS"),n&&n()}).catch(function(e){return c.default.error("VideoPlayer.setAudioOutput",e),i&&i(e)}):(c.default.error(f.default.WEB_API_NOT_SUPPORTED),i&&i(f.default.WEB_API_NOT_SUPPORTED)):(c.default.error(f.default.PLAYER_NOT_FOUND),i&&i(f.default.PLAYER_NOT_FOUND))},t.destroy=function(){(0,d.setSrcObject)(t.video,null),(0,d.setSrcObject)(t.audio,null),t.video.pause(),delete t.resizer,document.getElementById(t.div.id)&&t.parentNode.contains(t.div)&&t.parentNode.removeChild(t.div)},t.div=document.createElement("div"),t.div.setAttribute("id","player_"+t.id),e.stream.video?t.div.setAttribute("style","width: 100%; height: 100%; position: relative; background-color: black; overflow: hidden;"):t.div.setAttribute("style","width: 100%; height: 100%; position: relative; overflow: hidden;"),t.video=document.createElement("video"),t.video.setAttribute("id","video"+t.id),e.stream.local&&!e.stream.screen?e.stream.mirror?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; transform: rotateY(180deg); object-fit: "+(t.fit||"cover")+";"):t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: "+(t.fit||"cover")+";"):e.stream.video?(t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: "+(t.fit||"cover")+";"),window.navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")&&t.video.setAttribute("controls","")):e.stream.screen?t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; object-fit: "+(t.fit||"contain")):t.video.setAttribute("style","width: 100%; height: 100%; position: absolute; display: none; object-fit: "+(t.fit||"cover")),t.video.setAttribute("autoplay",""),t.video.setAttribute("muted",""),t.video.setAttribute("playsinline",""),e.stream.local&&(t.video.volume=0,t.video.setAttribute("muted","")),t.audio=document.createElement("audio"),t.audio.setAttribute("id","audio"+t.id),t.audio.setAttribute("autoplay",""),e.stream.local&&(t.audio.volume=0,t.audio.setAttribute("muted","")),void 0!==t.elementID?(document.getElementById(t.elementID).appendChild(t.div),t.container=document.getElementById(t.elementID)):(document.body.appendChild(t.div),t.container=document.body),t.parentNode=t.div.parentNode,t.video.addEventListener("playing",function(e){!function e(){t.video.videoWidth*t.video.videoHeight>4?c.default.debug("video dimensions:",t.video.videoWidth,t.video.videoHeight):setTimeout(e,50)}()}),e.stream.hasVideo()||e.stream.hasScreen())t.div.appendChild(t.video),t.div.appendChild(t.audio),(0,d.attachMediaStream)(t.video,e.stream.stream),(0,d.attachMediaStream)(t.audio,e.stream.stream);else if(!e.stream.local&&t.video.removeAttribute("muted"),t.div.appendChild(t.video),window.MediaStream&&o.isSafari()){var n=new MediaStream(e.stream.stream.getAudioTracks());(0,d.setSrcObject)(t.video,n)}else(0,d.setSrcObject)(t.video,e.stream.stream);return t.setAudioVolume=function(e){var n=parseInt(e)/100;isFinite(n)&&(n<0?n=0:n>1&&(n=1),t.video&&(t.video.volume=n),t.audio&&(t.audio.volume=n))},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.default=function(e){var t=(0,i.EventDispatcher)(e);return t.url=".",t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=(n(6),function(e){var t={},n=webkitRTCPeerConnection;t.pc_config={iceServers:[]},t.con={optional:[{DtlsSrtpKeyAgreement:!0}]},e.iceServers instanceof Array?t.pc_config.iceServers=e.iceServers:(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map(function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})}):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServer&&(e.turnServer instanceof Array?e.turnServer.map(function(e){"string"==typeof e.url&&""!==e.url&&t.pc_config.iceServers.push({username:e.username,credential:e.password,url:e.url})}):"string"==typeof e.turnServer.url&&""!==e.turnServer.url&&t.pc_config.iceServers.push({username:e.turnServer.username,credential:e.turnServer.password,url:e.turnServer.url}))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={mandatory:{OfferToReceiveVideo:e.video,OfferToReceiveAudio:e.audio}},t.roapSessionId=103,t.peerConnection=new n(t.pc_config,t.con),t.peerConnection.onicecandidate=function(e){e.candidate?t.iceCandidateCount+=1:(r.default.debug("PeerConnection State: "+t.peerConnection.iceGatheringState),void 0===t.ices&&(t.ices=0),t.ices=t.ices+1,t.ices>=1&&t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded()))};var i=function(t){var n,i;return e.minVideoBW&&e.maxVideoBW&&(n=t.match(/m=video.*\r\n/),i=n[0]+"b=AS:"+e.maxVideoBW+"\r\n",t=t.replace(n[0],i),r.default.debug("Set Video Bitrate - min:"+e.minVideoBW+" max:"+e.maxVideoBW)),e.maxAudioBW&&(n=t.match(/m=audio.*\r\n/),i=n[0]+"b=AS:"+e.maxAudioBW+"\r\n",t=t.replace(n[0],i)),t};return t.processSignalingMessage=function(e){var n,r=JSON.parse(e);t.incomingMessage=r,"new"===t.state?"OFFER"===r.messageType?(n={sdp:r.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(n)),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+r.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===r.messageType?((n={sdp:r.sdp,type:"answer"}).sdp=i(n.sdp),t.peerConnection.setRemoteDescription(new RTCSessionDescription(n)),t.sendOK(),t.state="established"):"pr-answer"===r.messageType?(n={sdp:r.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(n))):"offer"===r.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+r.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===r.messageType?(n={sdp:r.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(n)),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+r.messageType+" in state "+t.state))},t.addStream=function(e){t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater(function(){t.onstablestate()})},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){var e;if(t.actionNeeded){if("new"===t.state||"established"===t.state)t.peerConnection.createOffer(function(e){if(e.sdp=i(e.sdp),r.default.debug("Changed",e.sdp),e.sdp!==t.prevOffer)return t.peerConnection.setLocalDescription(e),t.state="preparing-offer",void t.markActionNeeded();r.default.debug("Not sending a new offer")},function(e){r.default.debug("peer connection create offer failed ",e)},t.mediaConstraints);else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer(function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;r.default.debug(n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}},function(e){r.default.debug("peer connection create answer failed ",e)},t.mediaConstraints);else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;e=t.peerConnection.localDescription.sdp,t.sendMessage("ANSWER",e),t.state="established"}else t.error("Dazed and confused in state "+t.state+", stopping here");t.actionNeeded=!1}},t.sendOK=function(){t.sendMessage("OK")},t.sendMessage=function(e,n){var i={};i.messageType=e,i.sdp=n,"OFFER"===e?(i.offererSessionId=t.sessionId,i.answererSessionId=t.otherSessionId,i.seq=t.sequenceNumber+=1,i.tiebreaker=Math.floor(429496723*Math.random()+1)):(i.offererSessionId=t.incomingMessage.offererSessionId,i.answererSessionId=t.sessionId,i.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(i))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders(),i=n.find(function(t){return t.track.kind==e});if(i)return i}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,i){var r=t._getSender(e.kind);if(!r)return i("NO_SENDER_FOUND");try{r.replaceTrack(e)}catch(e){return i&&i(e)}setTimeout(function(){return n&&n()},50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.onopen=function(){t.onopen&&t.onopen()},t.peerConnection.onaddstream=function(e){t.onaddstream&&t.onaddstream(e)},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},t.onaddstream=null,t.onremovestream=null,t.state="new",t.markActionNeeded(),t});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(6);t.default=function(e){var t={},n=o.RTCPeerConnection;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isSubscriber=e.isSubscriber,t.pc_config={iceServers:[{url:"stun:webcs.agora.io:3478"}]},t.con={optional:[{DtlsSrtpKeyAgreement:!0}]},e.iceServers instanceof Array?t.pc_config.iceServers=e.iceServers:(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map(function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})}):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServer&&(e.turnServer instanceof Array?e.turnServer.map(function(e){"string"==typeof e.url&&""!==e.url&&t.pc_config.iceServers.push({username:e.username,credential:e.password,url:e.url})}):"string"==typeof e.turnServer.url&&""!==e.turnServer.url&&(t.pc_config.iceServers.push({username:e.turnServer.username,credential:e.turnServer.credential,credentialType:"password",urls:"turn:"+e.turnServer.url+":"+e.turnServer.udpport+"?transport=udp"}),"string"==typeof e.turnServer.tcpport&&""!==e.turnServer.tcpport&&t.pc_config.iceServers.push({username:e.turnServer.username,credential:e.turnServer.credential,credentialType:"password",urls:"turn:"+e.turnServer.url+":"+e.turnServer.tcpport+"?transport=tcp"}),!0===e.turnServer.forceturn&&(t.pc_config.iceTransportPolicy="relay")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={mandatory:{OfferToReceiveVideo:e.video,OfferToReceiveAudio:e.audio}},t.roapSessionId=103,t.peerConnection=new n(t.pc_config,t.con),t.peerConnection.onicecandidate=function(e){var n,i,o,a;n=t.peerConnection.localDescription.sdp,i=n.match(/a=candidate:.+typ\ssrflx.+\r\n/),o=n.match(/a=candidate:.+typ\shost.+\r\n/),a=n.match(/a=candidate:.+typ\srelay.+\r\n/),0===t.iceCandidateCount&&(t.timeout=setTimeout(function(){t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())},1e3)),null===i&&null===o&&null===a||void 0!==t.ice||(r.default.debug("srflx candidate : "+i+" relay candidate: "+a+" host candidate : "+o),clearTimeout(t.timeout),t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1},r.default.debug('Created webkitRTCPeerConnnection with config "'+JSON.stringify(t.pc_config)+'".');var i=function(t){return e.screen&&(t=t.replace("a=x-google-flag:conference\r\n","")),t},a=function(t){var n,i;return e.minVideoBW&&e.maxVideoBW&&(n=t.match(/m=video.*\r\n/),i=n[0]+"b=AS:"+e.maxVideoBW+"\r\n",t=t.replace(n[0],i),r.default.debug("Set Video Bitrate - min:"+e.minVideoBW+" max:"+e.maxVideoBW)),e.maxAudioBW&&(n=t.match(/m=audio.*\r\n/),i=n[0]+"b=AS:"+e.maxAudioBW+"\r\n",t=t.replace(n[0],i)),t};return t.processSignalingMessage=function(e){var n,r=JSON.parse(e);t.incomingMessage=r,"new"===t.state?"OFFER"===r.messageType?(n={sdp:r.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(n)),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+r.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===r.messageType?((n={sdp:r.sdp,type:"answer"}).sdp=i(n.sdp),n.sdp=a(n.sdp),t.peerConnection.setRemoteDescription(new RTCSessionDescription(n)),t.sendOK(),t.state="established"):"pr-answer"===r.messageType?(n={sdp:r.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(n))):"offer"===r.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+r.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===r.messageType?(n={sdp:r.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(n)),t.state="offer-received",t.markActionNeeded()):"ANSWER"===r.messageType?((n={sdp:r.sdp,type:"answer"}).sdp=i(n.sdp),n.sdp=a(n.sdp),t.peerConnection.setRemoteDescription(new RTCSessionDescription(n))):t.error("Illegal message for this state: "+r.messageType+" in state "+t.state))},t.getVideoRelatedStats=function(e){t.peerConnection.getStats(null,function(n){Object.keys(n).forEach(function(i){var r=n[i];t.isSubscriber?"video"===r.mediaType&&r.id&&~r.id.indexOf("recv")&&e&&e({mediaType:"video",peerId:t.uid,isVideoMute:t.isVideoMute,frameRateReceived:r.googFrameRateReceived,frameRateDecoded:r.googFrameRateDecoded}):"video"===r.mediaType&&r.id&&~r.id.indexOf("send")&&e&&e({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:r.googFrameRateInput,frameRateSent:r.googFrameRateSent})})})},t.getStatsRate=function(e){t.getStats(function(t){e(t)})},t.getStats=function(e){t.peerConnection.getStats(null,function(n){var i=[],r=[],o=null;Object.keys(n).forEach(function(e){var t=n[e];r.push(t),"ssrc"!==t.type&&"VideoBwe"!==t.type||(o=t.timestamp,i.push(t))}),i.push({id:"time",startTime:t.connectedTime,timestamp:o||new Date}),e(i,r)})},t.addTrack=function(e,n){t.peerConnection.addTrack(e,n)},t.removeTrack=function(e,n){t.peerConnection.removeTrack(t.peerConnection.getSenders().find(function(t){return t.track==e}))},t.addStream=function(e){t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater(function(){t.onstablestate()})},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){var e;if(t.actionNeeded){if("new"===t.state||"established"===t.state)t.peerConnection.createOffer(function(e){if(e.sdp=a(e.sdp),e.sdp!==t.prevOffer)return t.peerConnection.setLocalDescription(e),t.state="preparing-offer",void t.markActionNeeded();r.default.debug("Not sending a new offer")},function(e){r.default.debug("peer connection create offer failed ",e)},t.mediaConstraints);else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer(function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;r.default.debug(n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}},function(e){r.default.debug("peer connection create answer failed ",e)},t.mediaConstraints);else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;e=t.peerConnection.localDescription.sdp,t.sendMessage("ANSWER",e),t.state="established"}else t.error("Dazed and confused in state "+t.state+", stopping here");t.actionNeeded=!1}},t.sendOK=function(){t.sendMessage("OK")},t.sendMessage=function(e,n){var i={};i.messageType=e,i.sdp=n,"OFFER"===e?(i.offererSessionId=t.sessionId,i.answererSessionId=t.otherSessionId,i.seq=t.sequenceNumber+=1,i.tiebreaker=Math.floor(429496723*Math.random()+1)):(i.offererSessionId=t.incomingMessage.offererSessionId,i.answererSessionId=t.sessionId,i.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(i))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders(),i=n.find(function(t){return t.track.kind==e});if(i)return i}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,i){var r=t._getSender(e.kind);if(!r)return i("NO_SENDER_FOUND");try{r.replaceTrack(e)}catch(e){return i&&i(e)}setTimeout(function(){return n&&n()},50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){t.onaddstream&&(t.onaddstream(e,"ontrack"),t.peerConnection.onaddstream=null)},t.peerConnection.onaddstream=function(e){t.onaddstream&&(t.onaddstream(e,"onaddstream"),t.peerConnection.ontrack=null)},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},t.peerConnection.onnegotiationneeded=function(){void 0!==t.prevOffer&&t.peerConnection.createOffer().then(function(e){return e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n"),t.peerConnection.setLocalDescription(e)}).then(function(){t.onnegotiationneeded&&t.onnegotiationneeded(t.peerConnection.localDescription.sdp)}).catch(function(e){console.log("createOffer error: ",e)})},t.onaddstream=null,t.onremovestream=null,t.onnegotiationneeded=null,t.state="new",t.markActionNeeded(),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(6);t.default=function(e){var t={};o.RTCPeerConnection,t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isSubscriber=e.isSubscriber,t.pc_config={iceServers:[{urls:["stun:webcs.agora.io:3478","stun:stun.l.google.com:19302"]}],bundlePolicy:"max-bundle"},t.con={optional:[{DtlsSrtpKeyAgreement:!0}]},e.iceServers instanceof Array?t.pc_config.iceServers=e.iceServers:(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map(function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})}):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServer&&(e.turnServer instanceof Array?e.turnServer.map(function(e){"string"==typeof e.url&&""!==e.url&&t.pc_config.iceServers.push({username:e.username,credential:e.password,url:e.url})}):"string"==typeof e.turnServer.url&&""!==e.turnServer.url&&(t.pc_config.iceServers.push({username:e.turnServer.username,credential:e.turnServer.credential,credentialType:"password",urls:["turn:"+e.turnServer.url+":"+e.turnServer.udpport+"?transport=udp"]}),"string"==typeof e.turnServer.tcpport&&""!==e.turnServer.tcpport&&t.pc_config.iceServers.push({username:e.turnServer.username,credential:e.turnServer.credential,credentialType:"password",urls:["turn:"+e.turnServer.url+":"+e.turnServer.tcpport+"?transport=tcp"]}),!0===e.turnServer.forceturn&&(t.pc_config.iceTransportPolicy="relay")))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={mandatory:{OfferToReceiveVideo:e.video,OfferToReceiveAudio:e.audio}},t.roapSessionId=103,t.peerConnection=new o.RTCPeerConnection(t.pc_config),r.default.debug('safari Created RTCPeerConnnection with config "'+JSON.stringify(t.pc_config)+'".'),t.peerConnection.onicecandidate=function(e){var n,i,o,a;n=t.peerConnection.localDescription.sdp,i=n.match(/a=candidate:.+typ\ssrflx.+\r\n/),o=n.match(/a=candidate:.+typ\shost.+\r\n/),a=n.match(/a=candidate:.+typ\srelay.+\r\n/),0===t.iceCandidateCount&&(t.timeout=setTimeout(function(){t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())},1e3)),null===i&&null===o&&null===a||void 0!==t.ice||(r.default.debug("srflx candidate : "+i+" relay candidate: "+a+" host candidate : "+o),clearTimeout(t.timeout),t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1};var n=function(t){return e.screen&&(t=t.replace("a=x-google-flag:conference\r\n","")),t},i=function(t){var n,i;return e.minVideoBW&&e.maxVideoBW&&(n=t.match(/m=video.*\r\n/),i=n[0]+"b=AS:"+e.maxVideoBW+"\r\n",t=t.replace(n[0],i),r.default.debug("Set Video Bitrate - min:"+e.minVideoBW+" max:"+e.maxVideoBW)),e.maxAudioBW&&(n=t.match(/m=audio.*\r\n/),i=n[0]+"b=AS:"+e.maxAudioBW+"\r\n",t=t.replace(n[0],i)),t};t.processSignalingMessage=function(e){var r,o=JSON.parse(e);t.incomingMessage=o,"new"===t.state?"OFFER"===o.messageType?(r={sdp:o.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===o.messageType?((r={sdp:o.sdp,type:"answer"}).sdp=n(r.sdp),r.sdp=i(r.sdp),r.sdp=r.sdp.replace(/a=x-google-flag:conference\r\n/g,""),t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)),t.sendOK(),t.state="established"):"pr-answer"===o.messageType?(r={sdp:o.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(r))):"offer"===o.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===o.messageType?(r={sdp:o.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new RTCSessionDescription(r)),t.state="offer-received",t.markActionNeeded()):"ANSWER"===o.messageType?((r={sdp:o.sdp,type:"answer"}).sdp=n(r.sdp),r.sdp=i(r.sdp),t.peerConnection.setRemoteDescription(new RTCSessionDescription(r))):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state))};var a={id:"",type:"",mediaType:"",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},s={id:"",type:"",mediaType:"",googCodecName:"h264"===e.codec?"H264":"VP8",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0",googFramesEncoded:"0"},u={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},c={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googFramesDecoded:"0",googFrameReceived:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0"},d={id:"bweforvideo",type:"VideoBwe",googAvailableSendBandwidth:"0",googAvailableReceiveBandwidth:"0",googActualEncBitrate:"0",googRetransmitBitrate:"0",googTargetEncBitrate:"0",googBucketDelay:"0",googTransmitBitrate:"0"},l=0,f=0,p=0;return t.getVideoRelatedStats=function(n){t.peerConnection.getStats().then(function(i){i.forEach(function(i){if(t.isSubscriber){if("track"===i.type&&~i.id.indexOf("video")){if(!t.lastReport)return void(t.lastReport=i);n&&n({peerId:t.uid,mediaType:"video",isVideoMute:t.isVideoMute,frameRateReceived:i.framesReceived-t.lastReport.framesReceived+"",frameRateDecoded:i.framesDecoded-t.lastReport.framesDecoded+""}),t.lastReport=i}}else if("outbound-rtp"===i.type&&"video"===i.mediaType){if(!t.lastReport)return void(t.lastReport=i);n&&n({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:e.maxFrameRate+"",frameRateSent:i.framesEncoded-t.lastReport.framesEncoded+""}),t.lastReport=i}})})},t.getStatsRate=function(e){t.getStats(function(t){t.forEach(function(e){"outbound-rtp"===e.type&&"video"===e.mediaType&&e.googFramesEncoded&&(e.googFrameRateSent=((e.googFramesEncoded-l)/3).toString(),l=e.googFramesEncoded),"inbound-rtp"===e.type&&-1!=e.id.indexOf("55543")&&(e.googFrameRateReceived&&(e.googFrameRateReceived=((e.googFrameReceived-p)/3).toString(),p=e.googFrameReceived),e.googFrameRateDecoded&&(e.googFrameRateDecoded=((e.googFramesDecoded-f)/3).toString(),f=e.googFramesDecoded))}),e(t)})},t.getStats=function(e){var n=[];t.peerConnection.getStats().then(function(i){i.forEach(function(e){n.push(e),"outbound-rtp"===e.type&&"audio"===e.mediaType&&(a.id=e.id,a.type=e.type,a.mediaType=e.mediaType,a.bytesSent=e.bytesSent?e.bytesSent+"":"0",a.packetsSent=e.packetsSent?e.packetsSent+"":"0"),"outbound-rtp"===e.type&&"video"===e.mediaType&&(s.id=e.id,s.type=e.type,s.mediaType=e.mediaType,s.bytesSent=e.bytesSent?e.bytesSent+"":"0",s.packetsSent=e.packetsSent?e.packetsSent+"":"0",s.googPlisReceived=e.pliCount?e.pliCount+"":"0",s.googNacksReceived=e.nackCount?e.nackCount+"":"0",s.googFirsReceived=e.firCount?e.firCount+"":"0",s.googFramesEncoded=e.framesEncoded?e.framesEncoded+"":"0"),"inbound-rtp"===e.type&&-1!=e.id.indexOf("44444")&&(u.id=e.id,u.type=e.type,u.mediaType="audio",u.packetsReceived=e.packetsReceived?e.packetsReceived+"":"0",u.bytesReceived=e.bytesReceived?e.bytesReceived+"":"0",u.packetsLost=e.packetsLost?e.packetsLost+"":"0",u.packetsReceived=e.packetsReceived?e.packetsReceived+"":"0",u.googJitterReceived=e.jitter?e.jitter+"":"0"),"inbound-rtp"===e.type&&-1!=e.id.indexOf("55543")&&(c.id=e.id,c.type=e.type,c.mediaType="video",c.packetsReceived=e.packetsReceived?e.packetsReceived+"":"0",c.bytesReceived=e.bytesReceived?e.bytesReceived+"":"0",c.packetsLost=e.packetsLost?e.packetsLost+"":"0",c.googJitterBufferMs=e.jitter?e.jitter+"":"0",c.googNacksSent=e.nackCount?e.nackCount+"":"0",c.googPlisSent=e.pliCount?e.pliCount+"":"0",c.googFirsSent=e.firCount?e.firCount+"":"0"),"track"===e.type&&-1!=e.id.indexOf("55543")&&(c.googFrameWidthReceived=e.frameWidth?e.frameWidth+"":"0",c.googFrameHeightReceived=e.frameHeight?e.frameHeight+"":"0",c.googFrameReceived=e.framesReceived?e.framesReceived+"":"0",c.googFramesDecoded=e.framesDecoded?e.framesDecoded+"":"0"),"track"===e.type&&-1!=e.id.indexOf("44444")&&(u.audioOutputLevel=e.audioLevel+"",a.audioInputLevel=e.audioLevel+""),"candidate-pair"===e.type&&(0==e.availableIncomingBitrate?d.googAvailableSendBandwidth=e.availableOutgoingBitrate+"":d.googAvailableReceiveBandwidth=e.availableIncomingBitrate+"")});var r=[d,a,s,u,c];r.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),e(r,n)}).catch(function(e){console.error(e)})},t.addTrack=function(e,n){t.peerConnection.addTrack(e,n)},t.removeTrack=function(e,n){var i=t.peerConnection.getSenders().find(function(t){return t.track==e});i.replaceTrack(null),t.peerConnection.removeTrack(i)},t.addStream=function(e){window.navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")?e.getTracks().forEach(function(n){return t.peerConnection.addTrack(n,e)}):t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater(function(){t.onstablestate()})},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){var n;if(t.actionNeeded){if("new"===t.state||"established"===t.state){if(e.isSubscriber&&window.navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome")){var o=t.peerConnection.addTransceiver("audio"),a=t.peerConnection.addTransceiver("video");o.setDirection("recvonly"),a.setDirection("recvonly")}t.peerConnection.createOffer(t.mediaConstraints).then(function(n){if(n.sdp=i(n.sdp),e.isSubscriber||(n.sdp=n.sdp.replace(/a=extmap:4 urn:3gpp:video-orientation\r\n/g,"")),n.sdp!==t.prevOffer)return t.peerConnection.setLocalDescription(n),t.state="preparing-offer",void t.markActionNeeded();r.default.debug("Not sending a new offer")}).catch(function(e){r.default.debug("peer connection create offer failed ",e)})}else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer(function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;r.default.debug(n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}},function(e){r.default.debug("peer connection create answer failed ",e)},t.mediaConstraints);else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;n=t.peerConnection.localDescription.sdp,t.sendMessage("ANSWER",n),t.state="established"}else t.error("Dazed and confused in state "+t.state+", stopping here");t.actionNeeded=!1}},t.sendOK=function(){t.sendMessage("OK")},t.sendMessage=function(e,n){var i={};i.messageType=e,i.sdp=n,"OFFER"===e?(i.offererSessionId=t.sessionId,i.answererSessionId=t.otherSessionId,i.seq=t.sequenceNumber+=1,i.tiebreaker=Math.floor(429496723*Math.random()+1)):(i.offererSessionId=t.incomingMessage.offererSessionId,i.answererSessionId=t.sessionId,i.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(i))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders(),i=n.find(function(t){return t.track.kind==e});if(i)return i}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,i){var r=t._getSender(e.kind);if(!r)return i("NO_SENDER_FOUND");try{r.replaceTrack(e)}catch(e){return i&&i(e)}setTimeout(function(){return n&&n()},50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){t.onaddstream&&t.onaddstream(e,"ontrack")},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)},t.peerConnection.onnegotiationneeded=function(){void 0!==t.prevOffer&&t.peerConnection.createOffer().then(function(e){return e.sdp=e.sdp.replace(/a=recvonly\r\n/g,"a=inactive\r\n"),t.peerConnection.setLocalDescription(e)}).then(function(){t.onnegotiationneeded&&t.onnegotiationneeded(t.peerConnection.localDescription.sdp)}).catch(function(e){console.log("createOffer error: ",e)})},t.onaddstream=null,t.onremovestream=null,t.state="new",t.markActionNeeded(),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e={addStream:function(){}};return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(6);t.default=function(e){var t={},n=(mozRTCPeerConnection,mozRTCSessionDescription),i=!1;t.uid=e.uid,t.isVideoMute=e.isVideoMute,t.isSubscriber=e.isSubscriber,t.pc_config={iceServers:[]},e.iceServers instanceof Array?e.iceServers.map(function(e){0===e.url.indexOf("stun:")&&t.pc_config.iceServers.push({url:e.url})}):(e.stunServerUrl&&(e.stunServerUrl instanceof Array?e.stunServerUrl.map(function(e){"string"==typeof e&&""!==e&&t.pc_config.iceServers.push({url:e})}):"string"==typeof e.stunServerUrl&&""!==e.stunServerUrl&&t.pc_config.iceServers.push({url:e.stunServerUrl})),e.turnServer&&"string"==typeof e.turnServer.url&&""!==e.turnServer.url&&(t.pc_config.iceServers.push({username:e.turnServer.username,credential:e.turnServer.credential,credentialType:"password",urls:"turn:"+e.turnServer.url+":"+e.turnServer.udpport+"?transport=udp"}),"string"==typeof e.turnServer.tcpport&&""!==e.turnServer.tcpport&&t.pc_config.iceServers.push({username:e.turnServer.username,credential:e.turnServer.credential,credentialType:"password",urls:"turn:"+e.turnServer.url+":"+e.turnServer.tcpport+"?transport=tcp"}),!0===e.turnServer.forceturn&&(t.pc_config.iceTransportPolicy="relay"))),void 0===e.audio&&(e.audio=!0),void 0===e.video&&(e.video=!0),t.mediaConstraints={offerToReceiveAudio:e.audio,offerToReceiveVideo:e.video,mozDontOfferDataChannel:!0},t.roapSessionId=103,t.peerConnection=new o.RTCPeerConnection(t.pc_config),r.default.debug('safari Created RTCPeerConnnection with config "'+JSON.stringify(t.pc_config)+'".'),t.peerConnection.onicecandidate=function(e){var n,i,o,a;n=t.peerConnection.localDescription.sdp,i=n.match(/a=candidate:.+typ\ssrflx.+\r\n/),o=n.match(/a=candidate:.+typ\shost.+\r\n/),a=n.match(/a=candidate:.+typ\srelay.+\r\n/),0===t.iceCandidateCount&&(t.timeout=setTimeout(function(){t.moreIceComing&&(t.moreIceComing=!1,t.markActionNeeded())},1e3)),null===i&&null===o&&null===a||void 0!==t.ice||(r.default.debug("srflx candidate : "+i+" relay candidate: "+a+" host candidate : "+o),clearTimeout(t.timeout),t.ice=0,t.moreIceComing=!1,t.markActionNeeded()),t.iceCandidateCount=t.iceCandidateCount+1},t.checkMLineReverseInSDP=function(e){return!(!~e.indexOf("m=audio")||!~e.indexOf("m=video"))&&e.indexOf("m=audio")>e.indexOf("m=video")},t.reverseMLineInSDP=function(e){var t=e.split("m=audio"),n=t[1].split("m=video"),i="m=video"+n[1],r="m=audio"+n[0];return e=t[0]+i+r},t.processSignalingMessage=function(e){var i,o=JSON.parse(e);t.incomingMessage=o,"new"===t.state?"OFFER"===o.messageType?(o.sdp=l(o.sdp),i={sdp:o.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new n(i),function(){r.default.debug("setRemoteDescription succeeded")},function(e){r.default.info("setRemoteDescription failed: "+e.name)}),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state):"offer-sent"===t.state?"ANSWER"===o.messageType?(o.sdp=l(o.sdp),o.sdp=o.sdp.replace(/ generation 0/g,""),o.sdp=o.sdp.replace(/ udp /g," UDP "),o.sdp=o.sdp.replace(/a=group:BUNDLE audio video/,"a=group:BUNDLE sdparta_0 sdparta_1"),o.sdp=o.sdp.replace(/a=mid:audio/,"a=mid:sdparta_0"),o.sdp=o.sdp.replace(/a=mid:video/,"a=mid:sdparta_1"),t.isMLineReverseInSDP&&(o.sdp=t.reverseMLineInSDP(o.sdp)),i={sdp:o.sdp,type:"answer"},t.peerConnection.setRemoteDescription(new n(i),function(){r.default.debug("setRemoteDescription succeeded")},function(e){r.default.info("setRemoteDescription failed: "+e)}),t.sendOK(),t.state="established"):"pr-answer"===o.messageType?(i={sdp:o.sdp,type:"pr-answer"},t.peerConnection.setRemoteDescription(new n(i),function(){r.default.debug("setRemoteDescription succeeded")},function(e){r.default.info("setRemoteDescription failed: "+e.name)})):"offer"===o.messageType?t.error("Not written yet"):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state):"established"===t.state&&("OFFER"===o.messageType?(i={sdp:o.sdp,type:"offer"},t.peerConnection.setRemoteDescription(new n(i),function(){r.default.debug("setRemoteDescription succeeded")},function(e){r.default.info("setRemoteDescription failed: "+e.name)}),t.state="offer-received",t.markActionNeeded()):t.error("Illegal message for this state: "+o.messageType+" in state "+t.state))};var a={id:"",type:"",mediaType:"opus",googCodecName:"opus",aecDivergentFilterFraction:"0",audioInputLevel:"0",bytesSent:"0",packetsSent:"0",googEchoCancellationReturnLoss:"0",googEchoCancellationReturnLossEnhancement:"0"},s={id:"",type:"",mediaType:"",googCodecName:"h264"===e.codec?"H264":"VP8",bytesSent:"0",packetsLost:"0",packetsSent:"0",googAdaptationChanges:"0",googAvgEncodeMs:"0",googEncodeUsagePercent:"0",googFirsReceived:"0",googFrameHeightSent:"0",googFrameHeightInput:"0",googFrameRateInput:"0",googFrameRateSent:"0",googFrameWidthSent:"0",googFrameWidthInput:"0",googNacksReceived:"0",googPlisReceived:"0",googRtt:"0"},u={id:"",type:"",mediaType:"",audioOutputLevel:"0",bytesReceived:"0",packetsLost:"0",packetsReceived:"0",googAccelerateRate:"0",googCurrentDelayMs:"0",googDecodingCNG:"0",googDecodingCTN:"0",googDecodingCTSG:"0",googDecodingNormal:"0",googDecodingPLC:"0",googDecodingPLCCNG:"0",googExpandRate:"0",googJitterBufferMs:"0",googJitterReceived:"0",googPreemptiveExpandRate:"0",googPreferredJitterBufferMs:"0",googSecondaryDecodedRate:"0",googSpeechExpandRate:"0"},c={id:"",type:"",mediaType:"",googTargetDelayMs:"0",packetsLost:"0",googDecodeMs:"0",googMaxDecodeMs:"0",googRenderDelayMs:"0",googFrameWidthReceived:"0",googFrameHeightReceived:"0",googFrameRateReceived:"0",googFrameRateDecoded:"0",googFrameRateOutput:"0",googJitterBufferMs:"0",googCurrentDelayMs:"0",googMinPlayoutDelayMs:"0",googNacksSent:"0",googPlisSent:"0",googFirsSent:"0",bytesReceived:"0",packetsReceived:"0",googFramesDecoded:"0"},d=0;t.getVideoRelatedStats=function(e){t.peerConnection.getStats().then(function(n){Object.keys(n).forEach(function(i){var r=n[i];if(t.isSubscriber){if("inboundrtp"===r.type&&"video"===r.mediaType){if(!t.lastReport)return void(t.lastReport=r);e&&e({browser:"firefox",mediaType:"video",peerId:t.uid,isVideoMute:t.isVideoMute,frameRateReceived:r.framerateMean+"",frameRateDecoded:r.framesDecoded-t.lastReport.framesDecoded+""}),t.lastReport=r}}else if("outboundrtp"===r.type&&"video"===r.mediaType){if(!t.lastReport)return void(t.lastReport=r);e&&e({mediaType:"video",isVideoMute:t.isVideoMute,frameRateInput:r.framerateMean+"",frameRateSent:r.framesEncoded-t.lastReport.framesEncoded+""}),t.lastReport=r}})})},t.getStatsRate=function(e){t.getStats(function(t){t.forEach(function(e){"inboundrtp"===e.type&&"video"===e.mediaType&&e.googFrameRateDecoded&&(e.googFrameRateDecoded=((e.googFramesDecoded-d)/3).toString(),d=e.googFramesDecoded)}),e(t)})},t.getStats=function(e){t.peerConnection.getStats().then(function(n){var i=[];Object.keys(n).forEach(function(e){var t=n[e];i.push(t),"outboundrtp"===t.type&&"video"===t.mediaType&&(s.id=t.id,s.type=t.type,s.mediaType=t.mediaType,s.bytesSent=t.bytesSent?t.bytesSent+"":"0",s.packetsSent=t.packetsSent?t.packetsSent+"":"0",s.googPlisReceived=t.pliCount?t.pliCount+"":"0",s.googNacksReceived=t.nackCount?t.nackCount+"":"0",s.googFirsReceived=t.firCount?t.firCount+"":"0",s.googFrameRateSent=t.framerateMean?t.framerateMean+"":"0"),"outboundrtp"===t.type&&"audio"===t.mediaType&&(a.id=t.id,a.type=t.type,a.mediaType=t.mediaType,a.bytesSent=t.bytesSent?t.bytesSent+"":"0",a.packetsSent=t.packetsSent?t.packetsSent+"":"0"),"inboundrtp"!==t.type||"audio"!==t.mediaType||t.isRemote||(u.id=t.id,u.type=t.type,u.mediaType=t.mediaType,u.bytesReceived=t.bytesReceived?t.bytesReceived+"":"0",u.packetsLost=t.packetsLost?t.packetsLost+"":"0",u.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",u.googJitterReceived=t.jitter?t.jitter+"":"0"),"inboundrtp"!==t.type||"video"!==t.mediaType||t.isRemote||(c.id=t.id,c.type=t.type,c.mediaType=t.mediaType,c.bytesReceived=t.bytesReceived?t.bytesReceived+"":"0",c.googFrameRateReceived=t.framerateMean?t.framerateMean+"":"0",c.googFramesDecoded=t.framesDecoded?t.framesDecoded+"":"0",c.packetsLost=t.packetsLost?t.packetsLost+"":"0",c.packetsReceived=t.packetsReceived?t.packetsReceived+"":"0",c.googJitterBufferMs=t.jitter?t.jitter+"":"0",c.googNacksSent=t.nackCount?t.nackCount+"":"0",c.googPlisSent=t.pliCount?t.pliCount+"":"0",c.googFirsSent=t.firCount?t.firCount+"":"0"),-1!==t.id.indexOf("outbound_rtcp_video")&&(s.packetsLost=t.packetsLost?t.packetsLost+"":"0")});var r=[s,a,u,c];r.push({id:"time",startTime:t.connectedTime,timestamp:new Date}),e(r,i)},function(e){r.default.error(e)})},t.addStream=function(e){i=!0,t.peerConnection.addStream(e),t.markActionNeeded()},t.removeStream=function(){t.markActionNeeded()},t.close=function(){t.state="closed",t.peerConnection.close()},t.markActionNeeded=function(){t.actionNeeded=!0,t.doLater(function(){t.onstablestate()})},t.doLater=function(e){window.setTimeout(e,1)},t.onstablestate=function(){if(t.actionNeeded){if("new"===t.state||"established"===t.state)i&&(t.mediaConstraints=void 0),t.peerConnection.createOffer(function(e){if(e.sdp=l(e.sdp),e.sdp=e.sdp.replace(/a=extmap:1 http:\/\/www.webrtc.org\/experiments\/rtp-hdrext\/abs-send-time/,"a=extmap:3 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"),e.sdp!==t.prevOffer)return t.peerConnection.setLocalDescription(e),t.isMLineReverseInSDP=t.checkMLineReverseInSDP(e.sdp),t.state="preparing-offer",void t.markActionNeeded();r.default.debug("Not sending a new offer")},function(e){r.default.debug("Ups! create offer failed ",e)},t.mediaConstraints);else if("preparing-offer"===t.state){if(t.moreIceComing)return;t.prevOffer=t.peerConnection.localDescription.sdp,t.prevOffer=t.prevOffer.replace(/a=candidate:.+typ\shost.+\r\n/g,"a=candidate:2243255435 1 udp 2122194687 192.168.0.1 30000 typ host generation 0 network-id 1\r\n"),t.sendMessage("OFFER",t.prevOffer),t.state="offer-sent"}else if("offer-received"===t.state)t.peerConnection.createAnswer(function(e){if(t.peerConnection.setLocalDescription(e),t.state="offer-received-preparing-answer",t.iceStarted)t.markActionNeeded();else{var n=new Date;r.default.debug(n.getTime()+": Starting ICE in responder"),t.iceStarted=!0}},function(){r.default.debug("Ups! Something went wrong")});else if("offer-received-preparing-answer"===t.state){if(t.moreIceComing)return;var e=t.peerConnection.localDescription.sdp;t.sendMessage("ANSWER",e),t.state="established"}else t.error("Dazed and confused in state "+t.state+", stopping here");t.actionNeeded=!1}},t.sendOK=function(){t.sendMessage("OK")},t.sendMessage=function(e,n){var i={};i.messageType=e,i.sdp=n,"OFFER"===e?(i.offererSessionId=t.sessionId,i.answererSessionId=t.otherSessionId,i.seq=t.sequenceNumber+=1,i.tiebreaker=Math.floor(429496723*Math.random()+1)):(i.offererSessionId=t.incomingMessage.offererSessionId,i.answererSessionId=t.sessionId,i.seq=t.incomingMessage.seq),t.onsignalingmessage(JSON.stringify(i))},t._getSender=function(e){if(t.peerConnection&&t.peerConnection.getSenders){var n=t.peerConnection.getSenders(),i=n.find(function(t){return t.track.kind==e});if(i)return i}return null},t.hasSender=function(e){return!!t._getSender(e)},t.replaceTrack=function(e,n,i){var r=t._getSender(e.kind);if(!r)return i("NO_SENDER_FOUND");try{r.replaceTrack(e)}catch(e){return i&&i(e)}setTimeout(function(){return n&&n()},50)},t.error=function(e){throw"Error in RoapOnJsep: "+e},t.sessionId=t.roapSessionId+=1,t.sequenceNumber=0,t.actionNeeded=!1,t.iceStarted=!1,t.moreIceComing=!0,t.iceCandidateCount=0,t.onsignalingmessage=e.callback,t.peerConnection.ontrack=function(e){t.onaddstream&&t.onaddstream(e,"ontrack")},t.peerConnection.onremovestream=function(e){t.onremovestream&&t.onremovestream(e)},t.peerConnection.oniceconnectionstatechange=function(e){"connected"===e.currentTarget.iceConnectionState&&(t.connectedTime=new Date),t.oniceconnectionstatechange&&t.oniceconnectionstatechange(e.currentTarget.iceConnectionState)};var l=function(t){if(e.video&&e.maxVideoBW){var n=t.match(/m=video.*\r\n/);if(null==n&&(n=t.match(/m=video.*\n/)),n&&n.length>0){var i=n[0]+"b=TIAS:"+1e3*e.maxVideoBW+"\r\n";t=t.replace(n[0],i)}}if(e.audio&&e.maxAudioBW){var n=t.match(/m=audio.*\r\n/);if(null==n&&(n=t.match(/m=audio.*\n/)),n&&n.length>0){var i=n[0]+"b=TIAS:"+1e3*e.maxAudioBW+"\r\n";t=t.replace(n[0],i)}}return t};return t.onaddstream=null,t.onremovestream=null,t.state="new",t.markActionNeeded(),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i={};return i.callback=t,i.config=e,i.error=n,i.selectSource=function(e,t,n){var i=document.createElement("div");i.innerText="share screen",i.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");var r=document.createElement("div");r.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");var o=document.createElement("div");o.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",o.setAttribute("style","height: 12%;");var a=document.createElement("div");a.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");var s=document.createElement("div");s.setAttribute("style","text-align: right; padding: 16px 0;");var u=document.createElement("button");u.innerHTML="cancel",u.setAttribute("style","width: 85px;"),u.onclick=function(){document.body.removeChild(c),n&&n("NotAllowedError")},s.appendChild(u),r.appendChild(o),r.appendChild(a),r.appendChild(s);var c=document.createElement("div");c.setAttribute("style","position: absolute; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),c.appendChild(i),c.appendChild(r),document.body.appendChild(c),e.map(function(e){if(e.id){var n=document.createElement("div");n.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;"),n.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+e.thumbnail.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name+"</span>",n.onclick=function(){document.body.removeChild(c),t&&t(e.id)},a.appendChild(n)}})},i.getShareScreenStream=function(e){var t=i.config.attributes.width,n=i.config.attributes.height,r=i.config.attributes.maxFr,o=i.config.attributes.minFr,a={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:n,maxWidth:t,maxFrameRate:r,minFrameRate:o}}};navigator.webkitGetUserMedia(a,i.callback,i.error)},i.shareScreen=function(e){try{var t=window.require("electron_share_screen_ui")}catch(e){}t?t(function(e){i.getShareScreenStream(e)},i.error):e.desktopCapturer.getSources({types:["window","screen"]},function(e,t){if(e)throw e;i.selectSource(t,function(e){i.getShareScreenStream(e)},i.error)})},i}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LiveTranscoding=t.TranscodingUser=t.createLiveClient=t.createRtcClient=t.createClient=void 0;var r=n(31),o=i(r),a=n(0),s=i(a),u=n(3),c=i(u),d=n(7),l=n(17),f=n(4),p=n(5),m=n(35),g=n(9),v=n(10),h=n(2),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),_=n(1),S=n(36),b=n(37),E=n(38),T=n(15),I=function(e){var t={key:void 0,highStream:null,lowStream:null,lowStreamParameter:null,isDualStream:!1,highStreamState:2,lowStreamState:2,proxyServer:null,turnServer:{}},e=Object.assign({},e);return t.aespassword=null,t.aesmode=T.ENCRYPTION_MODE_NONE,t.hasPublished=!1,t.renewToken=function(e,n,i){t.gatewayClient||(s.default.error("renewToken Failed. GatewayClient not Exist"),(0,d.safeCall)(i,c.default.INVALID_OPERATION)),t.key?(t.key=e,t.gatewayClient.renewToken(e,n,i)):(s.default.error("renewToken should not be called before user join"),(0,d.safeCall)(i,c.default.INVALID_OPERATION))},t.setLowStreamParameter=function(e){t.lowStreamParameter=e},t.init=function(t,n,i){if("string"!=typeof t)throw new Error("Param appId should be string");(0,p.isChromeKernel)()&&(0,p.getChromeKernelVersion)()<=48?i?i(c.default.BAD_ENVIRONMENT):(0,d.popBanTip)():(s.default.info("Initializing AgoraRTC client, appId: "+t+"."),e.appId=t,e.sessionId=(0,d.generateSessionId)(),n&&n())},t.setTurnServer=function(e,n,i){var r=e.turnServerURL,o=e.username,a=e.password,u=e.udpport,c=e.forceturn,d=e.tcpport;if(!r)throw new Error("Do not set the turnServerURL parameter as empty");if(!o)throw new Error("Do not set the username parameter as empty");if(!a)throw new Error("Do not set the password parameter as empty");if(!u)throw new Error("Do not set the udpport parameter as empty");t.turnServer.url=r,t.turnServer.udpport=u,t.turnServer.username=o,t.turnServer.credential=a,t.turnServer.forceturn=c||!1,d&&(t.turnServer.tcpport=d,s.default.info("Set turnserver tcpurl."+t.turnServer.url+":"+t.turnServer.tcpport)),s.default.info("Set turnserver udpurl."+t.turnServer.url+":"+t.turnServer.udpport+",username:"+t.turnServer.uername+",password:"+t.turnServer.credential)},t.setProxyServer=function(e){if(!e)throw new Error("Do not set the proxyServer parameter as empty");t.proxyServer=e,f.report.setProxyServer(e)},t.setEncryptionSecret=function(e){if(!e||"string"!=typeof e)throw new Error("Invalid secret");t.aespassword=e},t.setEncryptionMode=function(e){if("string"!=typeof e)throw new Error("Invalid encryptionMode");T.ENCRYPTION_MODES.includes(e)||(e=T.ENCRYPTION_MODE_NONE),t.aesmode=e},t.configPublisher=function(e){t.gatewayClient.configPublisher(e)},t.enableDualStream=function(n,i){return"iOS"===(0,p.getBrowserOS)()?(f.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!1}),i&&i(c.default.IOS_NOT_SUPPORT)):(0,p.isWeChatBrowser)()?(f.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!1}),i&&i(c.default.WECHAT_NOT_SUPPORT)):(f.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!0,succ:!0}),t.isDualStream=!0,void(0===t.highStreamState?t._publishLowStream(n,function(e){s.default.warning(e),i&&i(c.default.ENABLE_DUALSTREAM_FAILED)}):1===t.highStreamState?i&&i(c.default.STILL_ON_PUBLISHING):n&&n()))},t.disableDualStream=function(n,i){f.report.streamSwitch(e.sessionId,{lts:(new Date).getTime(),isdual:!1,succ:!0}),t.isDualStream=!1,0===t.highStreamState?t._unpublishLowStream(function(){t.highStream.lowStream=null,n&&n()},function(e){s.default.warning(e),i&&i(c.default.DISABLE_DUALSTREAM_FAILED)}):1===t.highStreamState?i&&i(c.default.STILL_ON_PUBLISHING):n&&n()},t._createLowStream=function(e,n){if(t.highStream&&t.highStream.stream){var i=Object.assign({},t.highStream.params);if(i.streamID+=1,i.audio=!1,i.video){var r=t.highStream.stream.getVideoTracks()[0];r?v.deviceManager.getVideoCameraIdByLabel(r.label,function(o){i.cameraId=o;var a=new g.Stream(i);if(a.streamId=t.highStream.getId()+1,t.lowStreamParameter){var u=Object.assign({},t.lowStreamParameter);if(!u.width||!u.height){var c=(0,m.simMap)(t.highStream.profile),d=y.SUPPORT_RESOLUTION_LIST[c[0]];u.width=d[0],u.height=d[1]}if(u.framerate=u.framerate||5,u.bitrate=u.bitrate||50,(0,p.isSafari)()||(0,p.isOpera)()){s.default.debug("Shimming lowStreamParameter");var d=y.SUPPORT_RESOLUTION_LIST[t.highStream.profile];u.width=d[0],u.height=d[1]}a.setVideoProfileCustomPlus(u)}else a.setVideoProfileCustom((0,m.simMap)(t.highStream.profile));a.init(function(){t.highStream.lowStream=a,r.enabled||a.disableVideo(),e&&e(a)},n)},n):n&&n(c.default.HIGH_STREAM_NOT_VIDEO_TRACE)}else n&&n(c.default.HIGH_STREAM_NOT_VIDEO_TRACE)}else n&&n(c.default.HIGH_STREAM_NOT_VIDEO_TRACE)},t._getLowStream=function(e,n){t.lowStream?e(t.lowStream):t._createLowStream(function(n){t.lowStream=n,e(t.lowStream)},n)},t._publishLowStream=function(e,n){return 2!==t.lowStreamState?n&&n(c.default.LOW_STREAM_ALREADY_PUBLISHED):t.highStream&&t.highStream.hasScreen()?n&&n(c.default.SHARING_SCREEN_NOT_SUPPORT):void t._getLowStream(function(i){t.lowStreamState=1,t.gatewayClient.publish(i,function(){t.lowStreamState=0,e&&e()},function(e){s.default.debug("publish low stream failed"),n&&n(e)})},n)},t._unpublishLowStream=function(e,n){if(0!==t.lowStreamState)return n&&n(c.default.LOW_STREAM_NOT_YET_PUBLISHED);t.lowStream&&(t.gatewayClient.unpublish(t.lowStream,function(){},function(e){s.default.debug("unpublish low stream failed"),n&&n(e)}),t.lowStream.close(),t.lowStream=null,t.lowStreamState=2,e&&e())},t.join=function(n,i,r,a,u){if(n&&"string"!=typeof n)return s.default.warning("Param channelKey should be string"),u&&u(c.default.INVALID_PARAMETER);if("string"!=typeof i)return s.default.warning("Param channel should be string"),u&&u(c.default.INVALID_PARAMETER);if(r&&("number"!=typeof r||!(0,d.is32Uint)(r))&&"string"!=typeof r)return s.default.warning("Param uid should be valid number or string"),u&&u(c.default.INVALID_PARAMETER);if("string"==typeof r&&0==r.length)return s.default.warning("String uid should not be empty"),u&&u(c.default.INVALID_PARAMETER);if("string"==typeof r&&r.length>256)return s.default.warning("Length of string uid should be less than 255"),u&&u(c.default.INVALID_PARAMETER);t.highStream=null,t.lowStream=null,t.lowStreamParameter=null,t.isDualStream=!1,t.highStreamState=2,t.lowStreamState=2;var p={appId:e.appId,sid:e.sessionId,cname:i,uid:r,turnServer:t.turnServer,proxyServer:t.proxyServer};if("string"==typeof r&&(p.stringUid=r,p.uid=0),t.aespassword&&t.aesmode!==T.ENCRYPTION_MODE_NONE&&Object.assign(p,{aespassword:t.aespassword,aesmode:t.aesmode}),f.report.sessionInit(e.sessionId,{lts:(new Date).getTime(),cname:i,appid:e.appId,mode:e.mode,succ:!0}),t.onSuccess=a,t.onFailure=u,t.channel=i,t.gatewayClient.state!==o.default.DISCONNECTED)return s.default.error("Client already in connecting/connected state"),u&&u(c.default.INVALID_OPERATION),void f.report.joinGateway(p.sid,{lts:Date.now(),succ:!1,ec:c.default.INVALID_OPERATION,addr:null});t.gatewayClient.state=o.default.CONNECTING,(0,l.getGatewayList)(p,function(r){s.default.info("Joining channel: "+i),t.key=n||e.appId,p.cid=r.cid,p.uid=r.uid,r.uni_lbs_ip&&r.uni_lbs_ip[1]&&(p.uni_lbs_ip=r.uni_lbs_ip[1]),p.gatewayAddr=r.gateway_addr,t.joinInfo=p,t.gatewayClient.join(p,t.key,function(e){s.default.info("Join channel "+i+" success, join with uid: "+e+"."),t.onSuccess=null,a&&a(e)},u)},u)},t.renewChannelKey=function(e,n,i){void 0===t.key?(s.default.error("renewChannelKey should not be called before user join"),(0,d.safeCall)(i,c.default.INVALID_OPERATION)):(t.key=e,t.gatewayClient.key=e,t.gatewayClient.rejoin(),(0,d.safeCall)(n))},t.leave=function(e,n){s.default.info("Leaving channel"),t.gatewayClient.leave(e,n)},t._publish=function(n,i,r){if(2!==t.highStreamState)return s.default.warning("Can't publish stream when stream already publish",n.getId()),r&&r(c.default.STREAM_ALREADY_PUBLISHED);s.default.info("Publishing stream, uid: ",n.getId()),t.highStream=n,t.highStreamState=1,t.highStream.streamId=t.joinInfo.stringUid||t.joinInfo.uid,t.hasPublished=!1,t.gatewayClient.publish(n,function(){n.sid=e.sessionId,t.highStreamState=0,s.default.info("Publish success, uid:",n.getId()),t.isDualStream?t._publishLowStream(function(){i&&i()},function(){i&&i()}):i&&i()},r)},t._unpublish=function(e,n,i){if(0!==t.highStreamState)return s.default.warning("Can't unpublish stream when stream not publish"),i&&i(c.default.STREAM_NOT_YET_PUBLISHED);s.default.info("Unpublish stream, uid: ",e.getId()),t.isDualStream&&t.lowStream?(t._unpublishLowStream(null,i),t.gatewayClient.unpublish(e,null,i),t.highStreamState=2,s.default.info("Unpublish stream success, uid:",e.getId())):(t.gatewayClient.unpublish(e,null,i),t.highStreamState=2,s.default.info("Unpublish stream success, uid:",e.getId())),n&&n()},t.publish=function(e,n){2===t.highStreamState?t._publish(e,null,n):n&&n(c.default.STREAM_ALREADY_PUBLISHED)},t.unpublish=function(e,n){0===t.highStreamState?t._unpublish(e,null,n):n&&n(c.default.STREAM_NOT_YET_PUBLISHED)},t.subscribe=function(e,n){s.default.info("Subscribe stream, uid: ",e.getId()),t.gatewayClient.subscribe(e,null,n)},t.unsubscribe=function(e,n){s.default.info("Unsubscribe stream, uid: ",e.getId()),t.gatewayClient.unsubscribe(e,null,n)},t.setRemoteVideoStreamType=function(e,n){t.gatewayClient.setRemoteVideoStreamType(e,n)},t.setStreamFallbackOption=function(e,n){t.gatewayClient.setStreamFallbackOption(e,n)},t.startLiveStreaming=function(e,n){t.gatewayClient.startLiveStreaming(e,n)},t.stopLiveStreaming=function(e){t.gatewayClient.stopLiveStreaming(e)},t.setLiveTranscoding=function(e){Object.assign(w,e),t.gatewayClient.setLiveTranscoding(w)},t.enableAudioVolumeIndicator=function(e,n){e=e||2e3,n=n||3,t.audioVolumeIndication=t.audioVolumeIndication||{enabled:!0},t.audioVolumeIndication.interval=e,t.audioVolumeIndication.smooth=n,t.audioVolumeIndication={interval:e,smooth:n},s.default.info("enableAudioVolumeIndicator interval "+e+" smooth "+n),t.gatewayClient.enableAudioVolumeIndicator(e,n)},t.getNetworkStats=function(e,t){return b.networkManager.getStats(e,t)},t.getSystemStats=function(e,t){return E.systemManager.getStats(e,t)},t.getRecordingDevices=function(e,t){return v.deviceManager.getRecordingDevices(e,t)},t.getPlayoutDevices=function(e,t){return v.deviceManager.getPlayoutDevices(e,t)},t.getCameras=function(e,t){return v.deviceManager.getCameras(e,t)},t.getRemoteAudioStats=function(e,n){return t.rtcStatsCollector.getRemoteAudioStats(e,n)},t.getLocalAudioStats=function(e,n){return t.rtcStatsCollector.getLocalAudioStats(e,n)},t.getRemoteVideoStats=function(e,n){return t.rtcStatsCollector.getRemoteVideoStats(e,n)},t.getLocalVideoStats=function(e,n){return t.rtcStatsCollector.getLocalVideoStats(e,n)},t.getTransportStats=function(e,n){return t.rtcStatsCollector.getTransportStats(e,n)},t.gatewayClient=(0,o.default)(e),t.rtcStatsCollector=(0,S.RTCStatsCollector)(t.gatewayClient),t.on=t.gatewayClient.on,e&&e.turnServer&&t.setTurnServer(e.turnServer),e&&e.proxyServer&&t.setProxyServer(e.proxyServer),t.on("onMultiIP",function(e){t.gatewayClient.closeGateway(),t.gatewayClient.socket=void 0,t.gatewayClient.hasChangeBGPAddress=!0,t.joinInfo.multiIP=e.arg.option,t.gatewayClient.state=o.default.CONNECTING,(0,l.getGatewayList)(t.joinInfo,function(e){s.default.info("Joining channel: "+t.channel),t.joinInfo.cid=e.cid,t.joinInfo.uid=e.uid,t.joinInfo.uni_lbs_ip=e.uni_lbs_ip,t.joinInfo.gatewayAddr=e.gateway_addr,t.onSuccess?t.gatewayClient.join(t.joinInfo,t.key,function(e){s.default.info("Join channel "+t.channel+" success");var n=t.onSuccess;t.onSuccess=null,t.onFailure=null,n(e)},t.onFailure):(t.gatewayClient.joinInfo=Object.assign({},t.joinInfo),t.gatewayClient.rejoin())},t.onFailure)}),t.on("rejoin",function(){var e=2===t.highStreamState?2:0;t.highStream&&0===e&&(s.default.info("publish after rejoin"),t.highStreamState=2,t.lowStreamState=2,t.publish(t.highStream,function(e){e&&s.default.info(e)}))}),t.on("streamPublished",function(e){t.hasPublished||(t.hasPublished=!0,t.gatewayClient.dispatchEvent((0,_.StreamEvent)({type:"stream-published",stream:e.stream})))}),t.on("pubP2PLost",function(e){s.default.debug("Start reconnect local peerConnection :",t.highStream.getId()),t.gatewayClient.dispatchEvent({type:"stream-reconnect-start",id:t.highStream.getId()}),1===t.highStreamState&&(t.highStreamState=0,t.lowStreamState=0),t._unpublish(t.highStream,function(){t._publish(t.highStream,function(){s.default.debug("Reconnect local peerConnection success:",t.highStream.getId()),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",id:t.highStream.getId()})},function(e){s.default.debug("Reconnect local peerConnection failed:"+e),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",id:t.highStream.getId()})})},function(e){s.default.debug("Reconnect local peerConnection failed:"+e),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",id:t.highStream.getId()})})}),t.on("subP2PLost",function(e){s.default.debug("Start reconnect remote peerConnection :",e.stream.getId()),t.gatewayClient.dispatchEvent({type:"stream-reconnect-start",id:e.stream.getId()}),t.gatewayClient.unsubscribe(e.stream,function(){t.gatewayClient.subscribe(e.stream,function(){s.default.debug("Reconnect remote peerConnection success:",e.stream.getId()),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",id:e.stream.getId()})},function(n){s.default.debug("Reconnect remote peerConnection failed:"+n),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",id:e.stream.getId()})})},function(n){s.default.debug("Reconnect remote peerConnection failed:"+n),t.gatewayClient.dispatchEvent({type:"stream-reconnect-end",id:e.stream.getId()})})}),b.networkManager.on("networkTypeChanged",function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e)}),v.deviceManager.on("recordingDeviceChanged",function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e)}),v.deviceManager.on("playoutDeviceChanged",function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e)}),v.deviceManager.on("cameraChanged",function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e)}),t.rtcStatsCollector.on("streamTypeChange",function(e){t.gatewayClient&&t.gatewayClient.dispatchEvent(e)}),t},w={width:640,height:360,videoBitrate:400,videoFramerate:15,lowLatency:!1,audioSampleRate:T.AUDIO_SAMPLE_RATE_48000,audioBitrate:48,audioChannels:1,videoGop:30,videoCodecProfile:T.VIDEO_CODEC_PROFILE_HIGH,userCount:0,userConfigExtraInfo:{},backgroundColor:0,transcodingUsers:[]};t.createClient=function(e){(e=Object.assign({},e||{})).codec||(e.codec=function(e){switch(e){case T.CLIENT_MODE_H264_INTEROP:return T.CLIENT_CODEC_H264;default:return T.CLIENT_CODEC_VP8}}(e.mode));var t=function(e){return T.CLIENT_MODES.includes(e.mode)?T.CLIENT_CODECS.includes(e.codec)?e.mode==T.CLIENT_MODE_H264_INTEROP&&e.codec!==T.CLIENT_CODEC_H264&&c.default.CLIENT_MODE_CODEC_MISMATCH:c.default.INVALID_CLIENT_CODEC:c.default.INVALID_CLIENT_MODE}(e);if(t)throw s.default.error("Invalid parameter setting MODE : "+e.mode+" CODEC : "+e.codec+" ERROR "+t),new Error(t);return s.default.info("Creating client , MODE : "+e.mode+" CODEC : "+e.codec),function(e){switch(e.mode){case T.CLIENT_MODE_INTEROP:case T.CLIENT_MODE_H264_INTEROP:e.mode=T.CLIENT_MODE_LIVE;break;case T.CLIENT_MODE_WEBONLY:e.mode=T.CLIENT_MODE_RTC}}(e),I(e)},t.createRtcClient=function(){return s.default.info("Creating client , MODE : rtc"),s.default.warning("createRtcClient is deprecated."),I({mode:"rtc"})},t.createLiveClient=function(e){var t="host";return e&&"audience"===e.role&&(t=e.role),s.default.info("Creating client , MODE : live"),s.default.warning("createLiveClient is deprecated."),I({mode:"live",role:t})},t.TranscodingUser={uid:0,x:0,y:0,width:0,height:0,zOrder:0,alpha:1},t.LiveTranscoding=w},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(9),a=n(32),s=i(a),u=n(13),c=n(1),d=n(0),l=i(d),f=n(3),p=i(f),m=n(16),g=i(m),v=n(17),h=n(2),y=n(4),_=n(7),S=n(5),b=n(34),E=i(b),T=function e(t){var n=!1,i=function(){var e={appId:t.appId,key:C.key,channel:C.joinInfo.cname,uid:C.uid,version:h.VERSION,browser:navigator.userAgent,mode:t.mode,codec:t.codec,role:t.role,config:C.config};return C.joinInfo.hasOwnProperty("stringUid")&&(e.stringUid=C.joinInfo.stringUid),{_type:"join1",message:e}},a=function(e){return{_type:"control",message:e}},d=function(e,t,n){return{_type:"publish",options:e,sdp:t,p2pid:n}},m=e.DISCONNECTED,b=e.CONNECTING,T=e.CONNECTED,w=e.DISCONNECTING,C=(0,c.EventDispatcher)(t);C.socket=void 0,C.state=m,C.mode=t.mode,C.role=t.role,C.codec=t.codec,C.config={},C.timers={},C.timer_counter={},C.localStreams={},C.remoteStreams={},C.attemps=1,C.p2p_attemps=1,C.audioLevel={},C.activeSpeaker=void 0,C.reconnectMode="retry",C.rejoinAttempt=0,C.hasChangeBGPAddress=!1,C.traffic_stats={},C.p2ps=new Map,C.firstFrameTimer=new Map,C.liveStreams=new Map,C.remoteStreamsInChannel=new Set,C.inChannelInfo={joinAt:null,duration:0};var R=g.default;C.p2pCounter=(0,_.random)(1e5),C.generateP2PId=function(){return++C.p2pCounter},C.audioVolumeIndication={enabled:!1,sortedAudioVolumes:[],smooth:3,interval:2e3},C.remoteVideoStreamTypes={REMOTE_VIDEO_STREAM_HIGH:0,REMOTE_VIDEO_STREAM_LOW:1,REMOTE_VIDEO_STREAM_MEDIUM:2},C.streamFallbackTypes={STREAM_FALLBACK_OPTION_DISABLED:0,STREAM_FALLBACK_OPTION_VIDEO_STREAM_LOW:1,STREAM_FALLBACK_OPTION_AUDIO_ONLY:2},C.configPublisher=function(e){C.config=e},C.join=function(e,t,n,r){var o=(new Date).getTime(),a=e.uid;if(C.inChannelInfo.joinAt&&(C.inChannelInfo.duration+=o-C.inChannelInfo.joinAt),C.inChannelInfo.joinAt=o,C.state!==b)return l.default.error("GatewayClient.join Failed: state ",C.state),r&&r(p.default.INVALID_OPERATION),void y.report.joinGateway(e.sid,{lts:o,succ:!1,ec:p.default.INVALID_OPERATION,addr:null});if(null!==a&&void 0!==a&&parseInt(a)!==a)return l.default.error("Input uid is invalid"),C.state=m,r&&r(p.default.INVALID_PARAMETER),void y.report.joinGateway(e.sid,{lts:o,succ:!1,ec:p.default.INVALID_PARAMETER,addr:null});var s=I.register(C,{uid:a,cname:e&&e.cname});if(s)return C.state=m,r&&r(s),void y.report.joinGateway(e.sid,{lts:o,succ:!1,ec:s,addr:null});C.joinInfo=Object.assign({},e),C.uid=a,C.key=t,N(e,function(t){C.state=T,l.default.debug("Connected to gateway server"),C.pingTimer=setInterval(function(){var e=Date.now();k({_type:"ping"},function(){var t=Date.now()-e;k(function(e){return{_type:"signal_stats",message:e}}({pingpongElapse:t}),function(){},function(e){})},function(e){})},3e3),k(i(),function(t){if(y.report.joinGateway(e.sid,{lts:o,succ:!0,ec:null,vid:t.vid,addr:C.socket.getURL()}),C.rejoinAttempt=0,n&&n(t.uid),C.leaveOnConnected){l.default.info("Calling Leave() once joined");var i=C.leaveOnConnected;C.leaveOnConnected=null,C.leave(i.onSuccess,i.onFailure)}},function(t){if(l.default.error("User join failed ["+t+"]"),E.default[t]&&C.rejoinAttempt<4){if(C._doWithAction(E.default[t],n,r),C.leaveOnConnected){l.default.error("Calling Leave() once joined: Join Failed");var i=C.leaveOnConnected;C.leaveOnConnected=null,i.onFailure(p.default.JOIN_CHANNEL_FAILED)}}else r&&r(t);y.report.joinGateway(e.sid,{lts:o,succ:!1,ec:t,addr:C.socket.getURL()})})},function(t){l.default.error("User join failed ["+t+"]"),r&&r(t),y.report.joinGateway(e.sid,{lts:o,succ:!1,ec:t,addr:C.socket.getURL()})}),clearInterval(C.timers.trafficStats),C.timers.trafficStats=setInterval(function(){k({_type:"traffic_stats"},function(e){C.traffic_stats=e;var t=C.localStreams[a];t&&(t.traffic_stats={access_delay:e.access_delay}),e.peer_delay&&e.peer_delay.forEach(function(t){var n=C.remoteStreams[t.peer_uid];n&&(n.traffic_stats={access_delay:e.access_delay,e2e_delay:t.e2e_delay,audio_delay:t.audio_delay,video_delay:t.video_delay})})})},3e3),C.resetAudioVolumeIndication()},C.leave=function(e,t){switch(C.state){case m:return l.default.debug("Client Already in DISCONNECTED status"),void R(e);case w:return l.default.error("Client Already in DISCONNECTING status"),void R(t,p.default.INVALID_OPERATION);case b:return C.leaveOnConnected?(l.default.error("Client.leave() already called"),void R(t,p.default.INVALID_OPERATION)):(l.default.debug("Client connecting. Waiting for Client Fully Connected(And leave)"),void(C.leaveOnConnected={onSuccess:e,onFailure:t}))}var n=I.unregister(C);if(n)l.default.error(n);else{for(var i in C.state=w,clearInterval(C.pingTimer),C.timers)C.timers.hasOwnProperty(i)&&clearInterval(C.timers[i]);for(var i in C.inChannelInfo.joinAt&&(C.inChannelInfo.duration+=Date.now()-C.inChannelInfo.joinAt,C.inChannelInfo.joinAt=null),k({_type:"leave"},function(t){C.socket.close(),C.socket=void 0,l.default.info("Leave channel success"),C.state=m,e&&e(t)},function(e){l.default.error("Leave Channel Failed",e),C.state=T,t&&t(e)}),C.localStreams)if(C.localStreams.hasOwnProperty(i)){var r=C.localStreams[i];delete C.localStreams[i],void 0!==r.pc&&(r.pc.close(),r.pc=void 0)}M()}},C.publish=function(e,t,n){var i=(new Date).getTime(),o=!1;if(e.publishLTS=i,"object"!==(void 0===e?"undefined":r(e))||null===e)return l.default.error("Invalid local stream"),n&&n(p.default.INVALID_LOCAL_STREAM),void y.report.publish(C.joinInfo.sid,{lts:i,succ:!1,ec:p.default.INVALID_LOCAL_STREAM});if(null===e.stream&&void 0===e.url)return l.default.error("Invalid local media stream"),n&&n(p.default.INVALID_LOCAL_STREAM),void y.report.publish(C.joinInfo.sid,{lts:i,succ:!1,ec:p.default.INVALID_LOCAL_STREAM});if(C.state!==T)return l.default.error("User is not in the session"),n&&n(p.default.INVALID_OPERATION),void y.report.publish(C.joinInfo.sid,{lts:i,succ:!1,ec:p.default.INVALID_OPERATION});var s=e.getAttributes()||{};if(e.local&&void 0===C.localStreams[e.getId()]&&(e.hasAudio()||e.hasVideo()||e.hasScreen())){var f=C.generateP2PId();if(C.p2ps.set(f,e),e.p2pId=f,void 0!==e.url)x(d({state:"url",audio:e.hasAudio(),video:e.hasVideo(),attributes:e.getAttributes(),mode:C.mode},e.url),function(t,n){"success"===t?(e.getUserId()!==n&&e.setUserId(n),C.localStreams[n]=e,e.onClose=function(){C.unpublish(e)}):l.default.error("Publish local stream failed",t)});else{C.localStreams[e.getId()]=e,e.pc=(0,u.Connection)({callback:function(r){l.default.debug("SDP exchange in publish : send offer --  ",JSON.parse(r)),x(d({state:"offer",id:e.getId(),audio:e.hasAudio(),video:e.hasVideo()||e.hasScreen(),attributes:e.getAttributes(),dtx:e.DTX,hq:e.highQuality,lq:e.lowQuality,stereo:e.stereo,speech:e.speech,mode:C.mode,codec:C.codec,p2pid:f,turnip:C.joinInfo.turnServer.url,turnport:Number(C.joinInfo.turnServer.udpport),turnusername:C.joinInfo.turnServer.username,turnpassword:C.joinInfo.turnServer.credential},r),function(s,u){if("error"===s)return l.default.error("Publish local stream failed"),n&&n(p.default.PUBLISH_STREAM_FAILED),void y.report.publish(C.joinInfo.sid,{lts:i,succ:!1,localSDP:r,ec:p.default.PUBLISH_STREAM_FAILED});e.pc.onsignalingmessage=function(t){e.pc.onsignalingmessage=function(){},x(d({state:"ok",id:e.getId(),audio:e.hasAudio(),video:e.hasVideo(),screen:e.hasScreen(),attributes:e.getAttributes(),mode:C.mode},t)),e.getUserId()!==u.id&&e.setUserId(u.id),l.default.info("Local stream published with uid",u.id),e.onClose=function(){C.unpublish(e)},e.unmuteAudio=function(){k(a({action:"audio-out-on",streamId:e.getId()}),function(){},function(){})},e.unmuteVideo=function(){k(a({action:"video-out-on",streamId:e.getId()}),function(){},function(){})},e.muteAudio=function(){k(a({action:"audio-out-off",streamId:e.getId()}),function(){},function(){})},e.muteVideo=function(){k(a({action:"video-out-off",streamId:e.getId()}),function(){},function(){})},e.getId()===e.getUserId()&&(e.isAudioOn()||e.hasAudio()&&(l.default.debug("local stream audio mute"),e.muteAudio()),e.isVideoOn()||(e.hasVideo()||e.hasScreen())&&(l.default.debug("local stream video mute"),e.muteVideo()))},e.pc.oniceconnectionstatechange=function(r){if("failed"===r){if(void 0!=C.timers[e.getId()]&&(clearInterval(C.timers[e.getId()]),clearInterval(C.timers[e.getId()]+"_RelatedStats")),l.default.error("Publisher connection is lost -- streamId: "+e.getId()+" p2pId: "+f),C.p2ps.delete(f),l.default.debug("publish p2p failed: ",C.p2ps),!o)return o=!0,y.report.publish(C.joinInfo.sid,{lts:i,succ:!1,ec:p.default.PEERCONNECTION_FAILED}),C.dispatchEvent((0,c.ClientEvent)({type:"pubP2PLost",stream:e})),n&&n(p.default.PEERCONNECTION_FAILED);C.dispatchEvent((0,c.ClientEvent)({type:"pubP2PLost",stream:e}))}else if("connected"===r&&(l.default.debug("publish p2p connected: ",C.p2ps),!o))return o=!0,y.report.publish(C.joinInfo.sid,{lts:i,succ:!0,ec:null}),t&&t()},l.default.debug("SDP exchange in publish : receive answer --  ",JSON.parse(s)),e.pc.processSignalingMessage(s)})},audio:e.hasAudio(),video:e.hasVideo(),screen:e.hasScreen(),isSubscriber:!1,stunServerUrl:C.stunServerUrl,turnServer:C.joinInfo.turnServer,maxAudioBW:s.maxAudioBW,minVideoBW:s.minVideoBW,maxVideoBW:s.maxVideoBW,mode:C.mode,codec:C.codec,isVideoMute:!e.videoEnabled,maxFrameRate:e.attributes.maxFrameRate}),e.pc.addStream(e.stream),l.default.debug("PeerConnection add stream :",e.stream),e.pc.onnegotiationneeded=function(t){x(d({state:"negotiation",p2pid:f},t),function(t,n){e.pc.processSignalingMessage(t)})},C.timers[e.getId()]=setInterval(function(){e&&e.pc&&e.pc.getStats&&e.pc.getStatsRate(function(t){t.forEach(function(t){t&&t.id&&(/_recv$/.test(t.id)||/^time$/.test(t.id)||e.getUserId()&&(-1===t.id.indexOf("outbound_rtp")&&-1===t.id.indexOf("OutboundRTP")||"video"!==t.mediaType||(t.googFrameWidthSent=e.videoWidth+"",t.googFrameHeightSent=e.videoHeight+""),e.getId()==e.getUserId()?k(function(e){return{_type:"publish_stats",options:{stats:e},sdp:null}}(t),null,null):k(function(e){return{_type:"publish_stats_low",options:{stats:e},sdp:null}}(t),null,null)))})})},3e3);var m=function(){e&&e.pc&&e.pc.getVideoRelatedStats&&e.pc.getVideoRelatedStats(function(t){e.getId()===e.getUserId()?k(function(e){return{_type:"publish_related_stats",options:e}}(t),null,null):k(function(e){return{_type:"publish_related_stats_low",options:e}}(t),null,null)})};m(),C.timers[e.getId()+"_RelatedStats"]=setInterval(m,1e3)}}},C.unpublish=function(e,t,n){return"object"!==(void 0===e?"undefined":r(e))||null===e?(l.default.error("Invalid local stream"),void R(n,p.default.INVALID_LOCAL_STREAM)):C.state!==T?(l.default.error("User not in the session"),void R(n,p.default.INVALID_OPERATION)):(void 0!=C.timers[e.getId()]&&(clearInterval(C.timers[e.getId()]),clearInterval(C.timers[e.getId()+"_RelatedStats"])),void(void 0!==C.socket?e.local&&void 0!==C.localStreams[e.getId()]?(delete C.localStreams[e.getId()],k(function(e){return{_type:"unpublish",message:e}}(e.getUserId())),(e.hasAudio()||e.hasVideo()||e.hasScreen())&&void 0===e.url&&void 0!==e.pc&&(e.pc.close(),e.pc=void 0),e.onClose=void 0,e.unmuteAudio=void 0,e.muteAudio=void 0,e.unmuteVideo=void 0,e.muteVideo=void 0,C.p2ps.delete(e.p2pId),t&&t()):(l.default.error("Invalid local stream"),R(n,p.default.INVALID_LOCAL_STREAM)):(l.default.error("User not in the session"),R(n,p.default.INVALID_OPERATION))))},C.subscribe=function(e,t,n){var i=(new Date).getTime();e.subscribeLTS=i;var o=!1;if("object"!==(void 0===e?"undefined":r(e))||null===e)return l.default.error("Invalid remote stream"),n&&n(p.default.INVALID_REMOTE_STREAM),void y.report.subscribe(C.joinInfo.sid,{lts:i,succ:!1,peerid:e.getId()+"",ec:p.default.INVALID_REMOTE_STREAM});if(C.state!==T&&(l.default.error("User is not in the session"),!o))return o=!0,y.report.subscribe(C.joinInfo.sid,{lts:i,succ:!1,peerid:e.getId()+"",ec:p.default.INVALID_OPERATION}),n&&n(p.default.INVALID_OPERATION);if(!e.local&&C.remoteStreams.hasOwnProperty(e.getId()))if(e.hasAudio()||e.hasVideo()||e.hasScreen()){var s=C.generateP2PId();C.p2ps.set(s,e),e.p2pId=s,e.pc=(0,u.Connection)({callback:function(t){l.default.debug("SDP exchange in subscribe : send offer --  ",JSON.parse(t)),x(function(e,t,n){return{_type:"subscribe",options:e,sdp:t,p2pid:n}}({streamId:e.getId(),audio:!0,video:!0,mode:C.mode,codec:C.codec,p2pid:s,turnip:C.joinInfo.turnServer.url,turnport:Number(C.joinInfo.turnServer.udpport),turnusername:C.joinInfo.turnServer.username,turnpassword:C.joinInfo.turnServer.credential},t),function(t){if("error"===t)return l.default.error("Subscribe remote stream failed, closing stream ",e.getId()),e.close(),n&&n(p.default.SUBSCRIBE_STREAM_FAILED),void y.report.subscribe(C.joinInfo.sid,{lts:i,succ:!1,peerid:e.getId()+"",ec:p.default.SUBSCRIBE_STREAM_FAILED});l.default.debug("SDP exchange in subscribe : receive answer --  ",JSON.parse(t)),e.pc.processSignalingMessage(t)})},nop2p:!0,audio:!0,video:!0,screen:e.hasScreen(),isSubscriber:!0,stunServerUrl:C.stunServerUrl,turnServer:C.joinInfo.turnServer,isVideoMute:!e.videoEnabled,uid:e.getId()}),e.pc.onaddstream=function(t,n){if("ontrack"===n&&"video"===t.track.kind||"onaddstream"===n){l.default.info("Remote stream subscribed with uid ",e.getId());var i=C.remoteStreams[e.getId()];if(C.remoteStreams[e.getId()].stream="onaddstream"===n?t.stream:t.streams[0],C.remoteStreams[e.getId()].hasVideo()){if((0,S.isFireFox)()){var r=C.remoteStreams[e.getId()].stream;(0,_.vsResHack)(r,function(t,n){e.videoWidth=t,e.videoHeight=n},function(e){return l.default.warning("vsResHack failed:"+e)})}}else C.remoteStreams[e.getId()].disableVideo();i&&i.isPlaying()&&i.elementID&&(l.default.debug("Reload Player "+i.elementID+" StreamId "+i.getId()),e.audioOutput=i.audioOutput,i.stop(),e.play(i.elementID,i.playOptions));var o=(0,c.StreamEvent)({type:"stream-subscribed",stream:C.remoteStreams[e.getId()]});C.dispatchEvent(o)}e.unmuteAudio=function(){k(a({action:"audio-in-on",streamId:e.getId()}),function(){},function(){})},e.muteAudio=function(){k(a({action:"audio-in-off",streamId:e.getId()}),function(){},function(){})},e.unmuteVideo=function(){k(a({action:"video-in-on",streamId:e.getId()}),function(){},function(){})},e.muteVideo=function(){k(a({action:"video-in-off",streamId:e.getId()}),function(){},function(){})}},C.timers[e.getId()]=setInterval(function(){e&&e.pc&&e.pc.getStats&&e.pc.getStatsRate(function(t){t.forEach(function(t){if(t&&t.id){if(/_send$/.test(t.id)||/^time$/.test(t.id)||/^bweforvideo$/.test(t.id))return;-1!==t.id.indexOf("inbound_rtp")&&"video"===t.mediaType&&(t.googFrameWidthReceived=e.videoWidth+"",t.googFrameHeightReceived=e.videoHeight+""),x(function(e,t){return{_type:"subscribe_stats",options:{id:e,stats:t},sdp:null}}(e.getId(),t),null,null)}})})},3e3),C.timers[e.getId()+"_RelatedStats"]=setInterval(function(){e&&e.pc&&e.pc.getVideoRelatedStats&&e.pc.getVideoRelatedStats(function(e){k(function(e){return{_type:"subscribe_related_stats",options:e}}(e),null,null)})},1e3),C.audioLevel[e.getId()]=0,C.timers[e.getId()+"audio"]=setInterval(function(){C.hasListeners("active-speaker")&&e&&e.pc&&"established"===e.pc.state&&e.pc.getStats&&e.pc.getStats(function(t){t.forEach(function(t){if("audio"===t.mediaType){if(t.audioOutputLevel>5e3)for(var n in C.audioLevel[e.getId()]<20&&(C.audioLevel[e.getId()]+=1),C.audioLevel)parseInt(n)!==e.getId()&&C.audioLevel[n]>0&&(C.audioLevel[n]-=1);var i=Object.keys(C.audioLevel),r=i.sort(function(e,t){return C.audioLevel[t]-C.audioLevel[e]});if(C.activeSpeaker!==r[0]){var o=(0,c.ClientEvent)({type:"active-speaker",uid:r[0]});C.dispatchEvent(o),C.activeSpeaker=r[0],l.default.debug("Update active speaker:"+C.activeSpeaker)}}})})},50),e.pc.oniceconnectionstatechange=function(r){if("failed"===r)void 0!=C.timers[e.getId()]&&(clearInterval(C.timers[e.getId()]),clearInterval(C.timers[e.getId()]+"audio")),l.default.error("Subscriber connection is lost -- streamId: "+e.getId()+" p2pId: "+s),l.default.debug("subscribe p2p failed: ",C.p2ps),o||(o=!0,n&&n(p.default.PEERCONNECTION_FAILED),y.report.subscribe(C.joinInfo.sid,{lts:i,succ:!1,peerid:e.getId()+"",ec:p.default.PEERCONNECTION_FAILED})),C.remoteStreams[e.getId()]&&C.p2ps.has(s)&&(C.p2ps.delete(s),C.dispatchEvent((0,c.ClientEvent)({type:"subP2PLost",stream:e})));else if("connected"===r&&(l.default.debug("subscribe p2p connected: ",C.p2ps),!o))return o=!0,y.report.subscribe(C.joinInfo.sid,{lts:i,succ:!0,peerid:e.getId()+"",ec:null}),C.firstFrameTimer.set(e.getId(),setInterval(function(){e.pc?e.pc.getStats(function(t){t.forEach(function(t){-1===t.id.indexOf("recv")&&-1===t.id.indexOf("inbound_rtp")&&-1===t.id.indexOf("InboundRTP")||"video"===t.mediaType&&(t.framesDecoded>0||t.googFramesDecoded>0)&&(clearInterval(C.firstFrameTimer.get(e.getId())),C.firstFrameTimer.delete(e.getId()),y.report.firstRemoteFrame(C.joinInfo.sid,{lts:(new Date).getTime(),peerid:e.getId()+"",succ:!0,width:+t.googFrameWidthReceived,height:+t.googFrameHeightReceived}))})}):(clearInterval(C.firstFrameTimer.get(e.getId())),C.firstFrameTimer.delete(e.getId()))},100)),t&&t()}}else l.default.error("Invalid remote stream"),o||(o=!0,n&&n(p.default.INVALID_REMOTE_STREAM),y.report.subscribe(C.joinInfo.sid,{lts:i,succ:!1,peerid:e.getId()+"",ec:p.default.INVALID_REMOTE_STREAM}));else l.default.error("No such remote stream"),o||(o=!0,n&&n(p.default.NO_SUCH_REMOTE_STREAM),y.report.subscribe(C.joinInfo.sid,{lts:i,succ:!1,peerid:e.getId()+"",ec:p.default.NO_SUCH_REMOTE_STREAM}))},C.unsubscribe=function(e,t,n){return"object"!==(void 0===e?"undefined":r(e))||null===e?(l.default.error("Invalid remote stream"),void R(n,p.default.INVALID_REMOTE_STREAM)):C.state!==T?(l.default.error("User is not in the session"),void R(n,p.default.INVALID_OPERATION)):(void 0!=C.timers[e.getId()]&&(clearInterval(C.timers[e.getId()]),clearInterval(C.timers[e.getId()]+"audio")),void 0!=C.audioLevel[e.getId()]&&delete C.audioLevel[e.getId()],void 0!=C.timer_counter[e.getId()]&&delete C.timer_counter[e.getId()],C.remoteStreams.hasOwnProperty(e.getId())?C.socket?e.local?(l.default.error("Invalid remote stream"),void R(n,p.default.INVALID_REMOTE_STREAM)):(e.close(),void k(function(e){return{_type:"unsubscribe",message:e}}(e.getId()),function(i){if("error"===i)return l.default.error("Unsubscribe remote stream failed",e.getId()),void R(n,p.default.UNSUBSCRIBE_STREAM_FAILED);void 0!==e.pc&&(e.pc.close(),e.pc=void 0),e.onClose=void 0,e.unmuteAudio=void 0,e.muteAudio=void 0,e.unmuteVideo=void 0,e.muteVideo=void 0,C.p2ps.delete(e.p2pId),l.default.info("Unsubscribe stream success"),t&&t()},n)):(l.default.error("User is not in the session"),void R(n,p.default.INVALID_OPERATION)):void R(n,p.default.NO_SUCH_REMOTE_STREAM))},C.setRemoteVideoStreamType=function(e,t){if(l.default.debug("Switching remote video stream "+e.getId()+" to "+t),"object"===(void 0===e?"undefined":r(e))&&null!==e)if(C.state===T){if(!e.local){switch(t){case C.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_HIGH:case C.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_LOW:case C.remoteVideoStreamTypes.REMOTE_VIDEO_STREAM_MEDIUM:break;default:return}k(function(e,t){return{_type:"switchVideoStream",message:{id:e,type:t}}}(e.getId(),t),null,null)}}else l.default.error("User is not in the session");else l.default.error("Invalid remote stream")},C.renewToken=function(e,t,n){e?C.key?C.state!==T?(l.default.debug("Client is not connected. Trying to rejoin"),C.key=e,C.rejoin(),t&&t()):(l.default.debug("renewToken from "+C.key+" to "+e),k(function(e){return{_type:"renew_token",message:{token:e}}}(e),t,n)):(l.default.error("Client is previously joined without token"),n&&n(p.default.INVALID_PARAMETER)):(l.default.error("Invalid Token "+e),n&&n(p.default.INVALID_PARAMETER))},C.setStreamFallbackOption=function(e,t){if(l.default.debug("Set stream fallback option "+e.getId()+" to "+t),"object"===(void 0===e?"undefined":r(e))&&null!==e)if(C.state===T){if(!e.local){switch(t){case C.streamFallbackTypes.STREAM_FALLBACK_OPTION_DISABLED:case C.streamFallbackTypes.STREAM_FALLBACK_OPTION_VIDEO_STREAM_LOW:case C.streamFallbackTypes.STREAM_FALLBACK_OPTION_AUDIO_ONLY:break;default:return}k(function(e,t){return{_type:"setFallbackOption",message:{id:e,type:t}}}(e.getId(),t),null,null)}}else l.default.error("User is not in the session");else l.default.error("Invalid remote stream")},C.startLiveStreaming=function(e,t){C.liveStreams.set(e,t),l.default.debug("Start live streaming "+e+" transcodingEnabled "+t),C.state===T?k(function(e,t){return{_type:"start_live_streaming",message:{url:e,transcodingEnabled:t}}}(e,t),null,null):l.default.error("User is not in the session")},C.stopLiveStreaming=function(e){l.default.debug("Stop live streaming "+e),C.state===T?(C.liveStreams.delete(e),k(function(e){return{_type:"stop_live_streaming",message:{url:e}}}(e),null,null)):l.default.error("User is not in the session")},C.setLiveTranscoding=function(e){if((0,_.isLiveTranscodingValid)(e)){if(C.transcoding=e,l.default.debug("Set live transcoding ",e),C.state!==T)return void l.default.error("User is not in the session");k(function(e){return{_type:"set_live_transcoding",message:{transcoding:e}}}(e),null,null)}},C.enableAudioVolumeIndicator=function(e,t){C.audioVolumeIndication.enabled=!0,C.audioVolumeIndication.interval=e,C.audioVolumeIndication.smooth=t,C.resetAudioVolumeIndication()},C.resetAudioVolumeIndication=function(){if(clearInterval(C.timers.audioVolumeIndication),clearInterval(C.timers.audioVolumeSampling),C.audioVolumeIndication.enabled&&C.audioVolumeIndication.interval){var e=Math.floor(1e3*C.audioVolumeIndication.smooth/100);C.timers.audioVolumeSampling=setInterval(function(){C.audioVolumeSampling||(C.audioVolumeSampling={});var t={};for(var n in C.remoteStreams){var i=C.remoteStreams[n];if(i.stream&&i.hasAudio()){var r=i.getAudioLevel();r>0&&r<1&&(r*=100);var o=C.audioVolumeSampling[n]||[];for(o.push(r);o.length>e;)o.shift();t[n]=o}}C.audioVolumeSampling=t},100),C.timers.audioVolumeIndication=setInterval(function(){var e=[];for(var t in C.remoteStreams)if(C.audioVolumeSampling&&C.audioVolumeSampling[t]){var n=C.audioVolumeSampling[t],i=0;n.forEach(function(e){i+=e});var r={uid:t,level:Math.floor(i/n.length)};r.level&&e.push(r)}var o=e.sort(function(e,t){return e.level-t.level});l.default.debug("volume-indicator",JSON.stringify(o)),C.audioVolumeIndication.sortedAudioVolumes=o;var a=(0,c.ClientEvent)({type:"volume-indicator",attr:o});C.dispatchEvent(a)},C.audioVolumeIndication.interval)}},C.closeGateway=function(){l.default.debug("close gateway"),C.state=m,C.socket.close(),A()};var A=function(){for(var e in C.timers)C.timers.hasOwnProperty(e)&&clearInterval(C.timers[e]);for(var e in C.remoteStreams)if(C.remoteStreams.hasOwnProperty(e)){var t=C.remoteStreams[e],n=(0,c.ClientEvent)({type:"stream-removed",uid:t.getId(),stream:t});C.dispatchEvent(n)}C.p2ps.clear(),M(),D(),clearInterval(C.pingTimer)};C.rejoin=function(){C.socket&&(clearInterval(C.pingTimer),C.socket.close(),C.socket=void 0),C.state=b,O()};var O=function(e,t){e=e||function(e){l.default.info("User "+e+" is re-joined to "+C.joinInfo.cname),C.dispatchEvent((0,c.ClientEvent)({type:"rejoin"})),C.liveStreams&&C.liveStreams.size&&C.liveStreams.forEach(function(e,t){e&&C.setLiveTranscoding(C.transcoding),C.startLiveStreaming(t,e)})},t=t||function(e){l.default.error("Re-join to channel failed ["+e+"]"),C.dispatchEvent((0,c.StreamEvent)({type:"error",reason:e}))},C.key?(++C.rejoinAttempt,C.join(C.joinInfo,C.key,e,t)):l.default.error("Connection recover failed [Invalid channel key]")},N=function(e,t,i){C.onConnect=t,void 0!==C.socket?"retry"===C.reconnectMode?(l.default.debug("Retry current gateway"),C.socket.reconnect()):"tryNext"===C.reconnectMode?(l.default.debug("Try next gateway"),C.socket.connectNext()):"recover"===C.reconnectMode&&(l.default.debug("Recover gateway"),l.default.debug("Try to reconnect choose server and get gateway list again "),(0,v.getGatewayList)(C.joinInfo,function(e){C.socket.replaceHost(e.gateway_addr)})):(function(e){C.socket=(0,s.default)(e,{sid:C.joinInfo.sid})}(e.gatewayAddr),C.socket.on("onUplinkStats",function(e){C.localStreams[C.uid]&&(C.localStreams[C.uid].uplinkStats=e)}),C.socket.on("connect",function(){C.attemps=1,k(function(e){var t=e;return e.uni_lbs_ip&&(t=Object.assign(e,{wanip:e.uni_lbs_ip,hasChange:C.hasChangeBGPAddress})),{_type:"token",message:t}}(e),C.onConnect,i)}),C.socket.on("recover",function(){C.state=b,l.default.debug("Try to reconnect choose server and get gateway list again "),(0,v.getGatewayList)(C.joinInfo,function(e){C.socket.replaceHost(e.gateway_addr)})}),C.socket.on("disconnect",function(e){if(C.state!==m){C.state=m;var t=(0,c.StreamEvent)({type:"error",reason:p.default.SOCKET_DISCONNECTED});if(C.dispatchEvent(t),0===C.p2ps.size?C.reconnectMode="tryNext":C.reconnectMode="retry",A(),1!=n){var i=function(e){return 1e3*Math.min(30,Math.pow(2,e)-1)}(C.attemps);l.default.error("Disconnect from server ["+e+"], attempt to recover [#"+C.attemps+"] after "+i/1e3+" seconds"),setTimeout(function(){C.attemps++,C.state=b,O()},i)}}}),C.socket.on("onAddAudioStream",function(e){if(l.default.info("Newly added audio stream with uid",e.id),C.remoteStreamsInChannel.has(e.id)||C.remoteStreamsInChannel.add(e.id),void 0===C.remoteStreams[e.id]){var t=(0,o.Stream)({streamID:e.id,local:!1,audio:e.audio,video:e.video,screen:e.screen,attributes:e.attributes});C.remoteStreams[e.id]=t;var n=(0,c.StreamEvent)({type:"stream-added",stream:t});C.dispatchEvent(n)}}),C.socket.on("onAddVideoStream",function(e){if(l.default.info("Newly added remote stream with uid"+e.id+"."),C.remoteStreamsInChannel.has(e.id)||C.remoteStreamsInChannel.add(e.id),void 0===C.remoteStreams[e.id]){var t=(0,o.Stream)({streamID:e.id,local:!1,audio:e.audio,video:e.video,screen:e.screen,attributes:e.attributes});C.remoteStreams[e.id]=t;var n=(0,c.StreamEvent)({type:"stream-added",stream:t});C.dispatchEvent(n)}else{var i=C.remoteStreams[e.id];if(void 0!==i.stream){var t=C.remoteStreams[e.id];if(t.video=!0,t.enableVideo(),l.default.info("Stream changed: enable video "+e.id),t.isPlaying()){var r=t.player.elementID;t.stop(),t.play(r)}}else if(i.p2pId)C.remoteStreams[e.id].video=!0;else{var t=(0,o.Stream)({streamID:e.id,local:!1,audio:!0,video:!0,screen:!1,attributes:e.attributes});C.remoteStreams[e.id]=t,l.default.info("Stream changed: modify video "+e.id)}}}),C.socket.on("onRemoveStream",function(e){C.remoteStreamsInChannel.has(e.id)&&C.remoteStreamsInChannel.delete(e.id);var t=C.remoteStreams[e.id];if(t){delete C.remoteStreams[e.id];var n=(0,c.StreamEvent)({type:"stream-removed",stream:t});C.dispatchEvent(n),t.close(),void 0!==t.pc&&(t.pc.close(),t.pc=void 0,C.p2ps.delete(t.p2pId))}else console.log("ERROR stream ",e.id," not found onRemoveStream ",e)}),C.socket.on("onPublishStream",function(e){var t=C.localStreams[e.id],n=(0,c.StreamEvent)({type:"streamPublished",stream:t});C.dispatchEvent(n)}),C.socket.on("mute_audio",function(e){l.default.info("rcv peer mute audio:"+e.peerid);var t=(0,c.ClientEvent)({type:"mute-audio",uid:e.peerid}),n=C.remoteStreams[e.peerid];n&&(n.audioEnabled=!1),C.dispatchEvent(t)}),C.socket.on("unmute_audio",function(e){l.default.info("rcv peer unmute audio:"+e.peerid);var t=(0,c.ClientEvent)({type:"unmute-audio",uid:e.peerid}),n=C.remoteStreams[e.peerid];n&&(n.audioEnabled=!0),C.dispatchEvent(t)}),C.socket.on("mute_video",function(e){l.default.info("rcv peer mute video:"+e.peerid);var t=(0,c.ClientEvent)({type:"mute-video",uid:e.peerid}),n=C.remoteStreams[e.peerid];n&&(n.videoEnabled=!1),C.dispatchEvent(t)}),C.socket.on("unmute_video",function(e){l.default.info("rcv peer unmute video:"+e.peerid);var t=(0,c.ClientEvent)({type:"unmute-video",uid:e.peerid}),n=C.remoteStreams[e.peerid];n&&(n.videoEnabled=!0),C.dispatchEvent(t)}),C.socket.on("user_banned",function(e){l.default.info("user banned uid:"+e.id+"error:"+e.errcode);var t=(0,c.ClientEvent)({type:"client-banned",uid:e.id,attr:e.errcode});C.dispatchEvent(t),n=!0,leave()}),C.socket.on("stream_fallback",function(e){l.default.info("stream fallback uid:"+e.id+" peerId:"+e.peerid+" type:"+e.type);var t=(0,c.ClientEvent)({type:"stream-fallback",uid:e.id,stream:e.peerid,attr:e.type});C.dispatchEvent(t)}),C.socket.on("stream_recover",function(e){l.default.info("stream recover uid:"+e.id+"peerId:"+e.peerid+" type:"+e.type);var t=(0,c.ClientEvent)({type:"stream-recover",uid:e.id,stream:e.peerid,attr:e.type});C.dispatchEvent(t)}),C.socket.on("onP2PLost",function(e){if(l.default.debug("p2plost:",e,"p2ps:",C.p2ps),"publish"===e.event){var t=C.localStreams[e.uid];t&&y.report.publish(C.joinInfo.sid,{lts:t.publishLTS,succ:!1,ec:"DTLS failed"})}if("subscribe"===e.event){var n=C.remoteStreams[e.uid];n&&y.report.subscribe(C.joinInfo.sid,{lts:n.subscribeLTS,succ:!1,peerid:e.uid+"",ec:"DTLS failed"})}l.default.debug("p2plost:",e.p2pid);var i=C.p2ps.get(e.p2pid);i&&(C.p2ps.delete(e.p2pid),i.local?C.dispatchEvent((0,c.ClientEvent)({type:"pubP2PLost",stream:i})):C.remoteStreams[i.getId()]&&C.dispatchEvent((0,c.ClientEvent)({type:"subP2PLost",stream:i})))}),C.socket.on("onTokenPrivilegeWillExpire",function(e){l.default.debug("Received Message onTokenPrivilegeWillExpire"),C.dispatchEvent((0,c.ClientEvent)({type:"onTokenPrivilegeWillExpire"}))}),C.socket.on("onTokenPrivilegeDidExpire",function(){l.default.warning("Received Message onTokenPrivilegeDidExpire, please get new token and join again"),C.dispatchEvent((0,c.ClientEvent)({type:"onTokenPrivilegeDidExpire"})),C.closeGateway()}),C._doWithAction=function(e,t,n){"tryNext"===e?function(e,t){l.default.debug("Connect next gateway"),C.state=m,C.socket.close(),A(),C.reconnectMode="tryNext",O(e,t)}(t,n):"retry"===e?function(e,t){l.default.debug("Reconnect gateway"),C.state=m,C.socket.close(),A(),C.reconnectMode="retry",O(e,t)}(t,n):"quit"===e?(l.default.debug("quit gateway"),C.state=m,C.socket.close(),A()):"recover"===e&&(l.default.debug("Reconnect gateway"),C.state=m,C.socket.close(),A(),C.reconnectMode="recover",O())},C.socket.on("notification",function(e){if(l.default.debug("Receive notification: ",e),"ERR_JOIN_BY_MULTI_IP"===f.GatewayErrorCode[e.code])return C.dispatchEvent({type:"onMultiIP",arg:e});e.detail?C._doWithAction(E.default[f.GatewayErrorCode[e.code]]):e.action&&C._doWithAction(e.action)}),C.socket.on("onPeerLeave",function(e){var t=(0,c.ClientEvent)({type:"peer-leave",uid:e.id});if(C.remoteStreamsInChannel.has(e.id)&&C.remoteStreamsInChannel.delete(e.id),C.remoteStreams.hasOwnProperty(e.id)&&(t.stream=C.remoteStreams[e.id]),C.dispatchEvent(t),C.remoteStreams.hasOwnProperty(e.id)){l.default.info("closing stream on peer leave",e.id);var n=C.remoteStreams[e.id];n.close(),delete C.remoteStreams[e.id],void 0!==n.pc&&(n.pc.close(),n.pc=void 0,C.p2ps.delete(n.p2pId))}C.timers.hasOwnProperty(e.id)&&(clearInterval(C.timers[e.id]),clearInterval(C.timers[e.id]+"_RelatedStats"),delete C.timers[e.id]),void 0!=C.audioLevel[e.id]&&delete C.audioLevel[e.id],void 0!=C.timer_counter[e.id]&&delete C.timer_counter[e.id]}),C.socket.on("onUplinkStats",function(e){}),C.socket.on("liveStreamingStarted",function(e){var t=(0,c.LiveStreamingEvent)({type:"liveStreamingStarted",url:e.url});C.dispatchEvent(t)}),C.socket.on("liveStreamingFailed",function(e){var t=(0,c.LiveStreamingEvent)({type:"liveStreamingFailed",url:e.url});C.dispatchEvent(t)}),C.socket.on("liveStreamingStopped",function(e){var t=(0,c.LiveStreamingEvent)({type:"liveStreamingStopped",url:e.url});C.dispatchEvent(t)}),C.socket.on("liveTranscodingUpdated",function(e){var t=(0,c.LiveStreamingEvent)({type:"liveTranscodingUpdated",reason:e.reason});C.dispatchEvent(t)}))},k=function(e,t,n){if(void 0===C.socket)return l.default.error("No socket available"),void R(n,p.default.INVALID_OPERATION);try{C.socket.emitSimpleMessage(e,function(e,i){"success"===e?"function"==typeof t&&t(i):"function"==typeof n&&n(f.GatewayErrorCode[i]||i)})}catch(t){l.default.error("Socket emit message failed"+JSON.stringify(e)),l.default.error(t),R(n,p.default.SOCKET_ERROR)}},x=function(e,t){if(void 0!==C.socket)try{C.socket.emitSimpleMessage(e,function(e,n){t&&t(e,n)})}catch(e){l.default.error("Error in sendSimpleSdp ["+e+"]")}else l.default.error("Error in sendSimpleSdp [socket not ready]")},D=function(){for(var e in C.localStreams)if(void 0!==C.localStreams[e]){var t=C.localStreams[e];delete C.localStreams[e],void 0!==t.pc&&(t.pc.close(),t.pc=void 0)}},M=function(){for(var e in C.remoteStreamsInChannel.clear(),C.remoteStreams)if(C.remoteStreams.hasOwnProperty(e)){var t=C.remoteStreams[e];t.isPlaying()&&t.stop(),t.close(),delete C.remoteStreams[e],void 0!==t.pc&&(t.pc.close(),t.pc=void 0)}};return C},I={_gatewayClients:{},register:function(e,t){var n=this;if(!t.uid){var i="NO_UID_PROVIDED";return l.default.error(i,t),i}if(t.cname){if(n._gatewayClients[t.cname]&&n._gatewayClients[t.cname][t.uid]&&n._gatewayClients[t.cname][t.uid]!==e){var i="UID_CONFLICT";return l.default.error(i,t),i}return l.default.debug("register client Channel",t.cname,"Uid",t.uid),n._gatewayClients[t.cname]||(n._gatewayClients[t.cname]={}),n._gatewayClients[t.cname][t.uid]=e,null}var i="NO_CHANNEL_PROVIDED";return l.default.error(i,t),i},unregister:function(e){var t=this,n=e&&e.uid,i=e.joinInfo&&e.joinInfo.cname;if(!n||!i){var r="INVALID_GATEWAYCLIENT";return l.default.error(r),r}if(t._gatewayClients[i]&&t._gatewayClients[i][n]){if(t._gatewayClients[i][n]!==e){var r="GATEWAYCLIENT_UID_CONFLICT";return l.default.error(r),r}return l.default.debug("unregister client ",e.uid),delete t._gatewayClients[i][n],null}var r="GATEWEAY_CLIENT_UNREGISTERED";l.default.error(r)}};T.DISCONNECTED=0,T.CONNECTING=1,T.CONNECTED=2,T.DISCONNECTING=3,t.default=T},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(1);t.default=function(e,t){var n={connect:function(){t.host=e,n.signal=(0,r.default)(t),n.on=n.signal.on,n.dispatchEvent=n.signal.dispatchEvent,n.signal.on("onopen",function(e){n.signal.onEvent=function(e){n.dispatchEvent((0,o.MediaEvent)({type:e.event,msg:e}))},n.dispatchEvent((0,o.MediaEvent)({type:"connect",msg:e}))}),n.signal.on("onError",function(e){var t=e.msg;onError(t.code,"error")})},disconnect:function(){n.signal.disconnect()},close:function(){n.signal.close()},getURL:function(){return n.signal.getURL()},reconnect:function(){n.signal.reconnect()},connectNext:function(){n.signal.connectNext()},replaceHost:function(e){n.signal.replaceHost(e)},emitSimpleMessage:function(e,t){n.signal.sendSignalCommand(e,t)}};return n.connect(),n}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(16),a=i(o),s=n(0),u=i(s),c=n(4);t.default=function(e){var t=(0,r.EventDispatcher)(e);return t.needReconnect=!0,t.isTimeout=!1,t.isInit=!0,t.hostIndex=0,t.requestID=0,e.host instanceof Array?t.host=e.host:t.host=[e.host],t.getURL=function(){return t.connection.url},t.reconnect=function(){t.isInit=!0,t.creatConnection()},t.connectNext=function(){t.isInit=!0,++t.hostIndex,u.default.debug("Gateway length:"+t.host.length+" current index:"+t.hostIndex),t.hostIndex>=t.host.length?t.dispatchEvent((0,r.MediaEvent)({type:"recover"})):t.creatConnection()},t.replaceHost=function(e){t.host=e||t.host,t.hostIndex=0,t.creatConnection()},t.creatConnection=function(){u.default.debug("start connect:"+t.host[t.hostIndex]),t.lts=(new Date).getTime(),t.connection=new WebSocket("wss://"+t.host[t.hostIndex]),t.connection.onopen=function(e){u.default.debug("websockect opened: "+t.host[t.hostIndex]),t.needReconnect=!0,t.isTimeout=!1,t.isInit=!1,clearTimeout(t.timeoutCheck),t.dispatchEvent((0,r.MediaEvent)({type:"onopen",event:e,socket:t}))},t.connection.onmessage=function(e){var n=JSON.parse(e.data);n.hasOwnProperty("_id")?t.dispatchEvent((0,r.MediaEvent)({type:n._id,msg:n})):n.hasOwnProperty("_type")&&t.dispatchSocketEvent((0,r.MediaEvent)({type:n._type,msg:n.message}))},t.connection.onclose=function(n){t.needReconnect?t.isTimeout||t.isInit?(u.default.debug("websockect connect timeout"),c.report.joinGateway(e.sid,{lts:t.lts,succ:!1,ec:"timeout",addr:t.connection.url}),t.connectNext()):t.dispatchEvent((0,r.MediaEvent)({type:"disconnect",event:n})):(u.default.debug("websockect closeed"),(0,a.default)(e.onFailure,n),clearTimeout(t.timeoutCheck),t.dispatchEvent((0,r.MediaEvent)({type:"close",event:n})),t.connection.onopen=void 0,t.connection.onclose=void 0,t.connection.onerror=void 0,t.connection.onmessage=void 0,t.connection=void 0)},t.connection.onerror=function(e){},setTimeout(function(){t.connection&&t.connection.readyState!=WebSocket.OPEN&&(t.isTimeout=!0,t.connection.close())},5e3)},t.creatConnection(),t.sendMessage=function(e,n){t.connection&&t.connection.readyState==WebSocket.OPEN?t.connection.send(JSON.stringify(e)):n({error:"Gateway not connected"})},t.disconnect=function(){t.needReconnect=!0,t.connection.close()},t.close=function(){t.needReconnect=!1,t.connection.onclose=void 0,t.connection.close()},t.sendSignalCommand=function(e,n){e._id="_request_"+t.requestID,t.requestID+=1,"publish_stats"!==e._type&&"subscribe_stats"!==e._type&&"publish_stats_low"!==e._type&&t.on(e._id,function(i){i.msg&&n&&n(i.msg._result,i.msg.message),delete t.dispatcher.eventListeners[e._id]}),t.sendMessage(e,function(e){e.reason="NOT_CONNECTED",n&&n(e.reason,e)})},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={ERR_NO_VOCS_AVAILABLE:"tryNext",ERR_NO_VOS_AVAILABLE:"tryNext",ERR_JOIN_CHANNEL_TIMEOUT:"tryNext",WARN_REPEAT_JOIN:"quit",ERR_JOIN_BY_MULTI_IP:"recover",WARN_LOOKUP_CHANNEL_TIMEOUT:"tryNext",WARN_OPEN_CHANNEL_TIMEOUT:"tryNext",ERR_VOM_SERVICE_UNAVAILABLE:"tryNext",ERR_TOO_MANY_USERS:"tryNext",ERR_MASTER_VOCS_UNAVAILABLE:"tryNext",ERR_INTERNAL_ERROR:"tryNext",notification_test_recover:"recover",notification_test_tryNext:"tryNext",notification_test_retry:"retry"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.simMap=void 0;var i=n(5);t.simMap=function(e){var t;switch(e){case"120p":case"120p_1":t=["120p_1","120p_1","120p_1"];break;case"120p_3":t=["120p_3","120p_3","120p_3"];break;case"180p":case"180p_1":t=["90p_1","90p_1","180p_1"];break;case"180p_3":t=["120p_3","120p_3","180p_3"];break;case"180p_4":t=["120p_1","120p_1","180p_4"];break;case"240p":case"240p_1":t=["120p_1","120p_1","240p_1"];break;case"240p_3":t=["120p_3","120p_3","240p_3"];break;case"240p_4":t=["120p_4","120p_4","240p_4"];break;case"360p":case"360p_1":case"360p_4":case"360p_9":case"360p_10":case"360p_11":t=["90p_1","90p_1","360p_1"];break;case"360p_3":case"360p_6":t=["120p_3","120p_3","360p_3"];break;case"360p_7":case"360p_8":t=["120p_1","120p_1","360p_7"];break;case"480p":case"480p_1":case"480p_2":case"480p_4":case"480p_10":t=["120p_1","120p_1","480p_1"];break;case"480p_3":case"480p_6":t=["120p_3","120p_3","480p_3"];break;case"480p_8":case"480p_9":t=["120p_4","120p_4","480p_8"];break;case"720p":case"720p_1":case"720p_2":case"720p_3":t=["90p_1","90p_1","720p_1"];break;case"720p_5":case"720p_6":t=["120p_1","120p_1","720p_5"];break;case"1080p":case"1080p_1":case"1080p_2":case"1080p_3":case"1080p_5":t=["90p_1","90p_1","1080p_1"];break;case"1440p":case"1440p_1":case"1440p_2":t=["90p_1","90p_1","1440p_1"];break;case"4k":case"4k_1":case"4k_3":t=["90p_1","90p_1","4k_1"];break;default:t=["120p_1","120p_1","360p_7"]}return(0,i.isOpera)()?[e,15,50]:(0,i.isFireFox)()?[t[1],15,100]:(0,i.isSafari)()?[t[2],15,50]:[t[0],15,50]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RTCStatsCollector=void 0;var i=n(1),r=(n(0),n(14));t.RTCStatsCollector=function(e){var t=(0,i.EventDispatcher)();return t.gatewayClient=e,t.localStats={},t.remoteStats={},t.getRemoteAudioStats=function(e){var n={};for(var i in t.remoteStats){var o={},a=t.remoteStats[i];(0,r.setStat)(o,"End2EndDelay",a.peer_delay&&a.peer_delay.audio_delay),(0,r.setStat)(o,"TransportDelay",a.peer_delay&&a.peer_delay.e2e_delay),(0,r.setStat)(o,"PacketLossRate",a.peer_delay&&a.peer_delay.e2e_audio_lost_ratio_400ms),(0,r.setStat)(o,"RecvLevel",a.audioStats&&a.audioStats.totalAudioEnergy),(0,r.setStat)(o,"RecvBitrate",a.audioRecvBitrate),(0,r.setStat)(o,"CodecType",a.audioStats&&a.audioStats.googCodecName),(0,r.setStat)(o,"MuteState",a.audioDisabled),n[i]=o}e&&e(n)},t.getLocalAudioStats=function(e){var n={};for(var i in t.localStats){var o={},a=t.localStats[i];(0,r.setStat)(o,"RecordingLevel",a.audioStats&&a.audioStats.audioInputLevel),(0,r.setStat)(o,"SendLevel",a.audioStats&&a.audioStats.totalAudioEnergy),(0,r.setStat)(o,"SamplingRate",a.audioStats&&a.audioStats.totalSamplesDuration),(0,r.setStat)(o,"SendBitrate",a.audioSendBitrate),(0,r.setStat)(o,"CodecType",a.audioStats&&a.audioStats.googCodecName),(0,r.setStat)(o,"MuteState",a.audioDisabled),(0,r.setStat)(o,"SendBitrate",a.audioSendBitrate);var s=t.gatewayClient.localStreams[i];s&&s.isPlaying()&&(0,r.setStat)(o,"MuteState",s.audioEnabled?"0":"1"),n[i]=o}e&&e(n)},t.getRemoteVideoStats=function(e){var n={};for(var i in t.remoteStats){var o={},a=t.remoteStats[i];(0,r.setStat)(o,"End2EndDelay",a.peer_delay&&a.peer_delay.video_delay),(0,r.setStat)(o,"TransportDelay",a.peer_delay&&a.peer_delay.e2e_delay),(0,r.setStat)(o,"PacketLossRate",a.peer_delay&&a.peer_delay.e2e_video_lost_ratio_400ms),(0,r.setStat)(o,"RecvBitrate",a.videoRecvBitrate),(0,r.setStat)(o,"RecvResolutionWidth",a.videoStats&&a.videoStats.googFrameWidthReceived),(0,r.setStat)(o,"RecvResolutionHeight",a.videoStats&&a.videoStats.googFrameHeightReceived),(0,r.setStat)(o,"RenderFrameRate",a.videoStats&&a.videoStats.googFrameRateOutput),(0,r.setStat)(o,"MuteState",a.videoDisabled),n[i]=o}e&&e(n)},t.getLocalVideoStats=function(e){var n={};for(var i in t.localStats){var o={},a=t.localStats[i];(0,r.setStat)(o,"TargetSendBitrate",a.videoTargetSendBitrate),(0,r.setStat)(o,"SendFrameRate",a.videoStats&&a.videoStats.googFrameRateSent),(0,r.setStat)(o,"SendBitrate",a.videoSendBitrate),(0,r.setStat)(o,"SendResolutionWidth",a.videoStats&&a.videoStats.googFrameWidthSent),(0,r.setStat)(o,"SendResolutionHeight",a.videoStats&&a.videoStats.googFrameHeightSent),(0,r.setStat)(o,"EncodeDelay",a.videoStats&&a.videoStats.googAvgEncodeMs),(0,r.setStat)(o,"MuteState",a.videoDisabled),n[i]=o,e&&e(n)}},t.getTransportStats=function(e){var n={},i=t.gatewayClient.traffic_stats;(0,r.setStat)(n,"RTT",i&&i.access_delay),e&&e(n)},t.getStatsTimer=setInterval(function(){var e=t.gatewayClient.traffic_stats,n=Date.now(),i={};Object.keys(t.gatewayClient.remoteStreams).forEach(function(r){var o=t.gatewayClient.remoteStreams[r],a=t.remoteStats[r],s={id:r,updatedAt:n};i[r]=s;var u=e&&e.peer_delay&&e.peer_delay.find(function(e){return e.peer_uid==r});u&&(s.peer_delay=u),o&&(o.isPlaying()&&(s.audioDisabled=o.audioEnabled?"0":"1",s.videoDisabled=o.videoEnabled?"0":"1"),a&&a.peer_delay&&u&&a.peer_delay.stream_type!==u.stream_type&&t.gatewayClient.dispatchEvent({type:"streamTypeChange",uid:r,streamType:u.stream_type}),o.pc&&"established"==o.pc.state&&o.pc.getStats(function(e){if(s.pcStats=e,s.audioStats=e.find(function(e){return"audio"==e.mediaType}),s.videoStats=e.find(function(e){return"video"==e.mediaType}),a&&a.audioStats&&s.audioStats){var t=parseInt(s.audioStats.bytesReceived)-parseInt(a.audioStats.bytesReceived);if(isFinite(t)&&s.audioStats.timestamp){var n=s.audioStats.timestamp.getTime()-a.audioStats.timestamp.getTime();s.audioRecvBitrate=Math.floor(8*t/n)}}if(a&&a.videoStats&&s.videoStats){var i=parseInt(s.videoStats.bytesReceived)-parseInt(a.videoStats.bytesReceived);if(isFinite(i)&&s.videoStats.timestamp){var n=s.videoStats.timestamp.getTime()-a.videoStats.timestamp.getTime();s.videoRecvBitrate=Math.floor(8*i/n)}}}))}),t.remoteStats=i;var r={};Object.keys(t.gatewayClient.localStreams).forEach(function(e){var i=t.gatewayClient.localStreams[e],o=t.localStats[e],a={id:e,updatedAt:n};r[e]=a,i&&(i.isPlaying()&&(a.audioDisabled=i.audioEnabled?"0":"1",a.videoDisabled=i.videoEnabled?"0":"1"),i.video&&i.attributes.maxVideoBW?a.videoTargetSendBitrate=i.attributes.maxVideoBW:i.video&&i.screenAttributes&&(a.videoTargetSendBitrate=i.screenAttributes.maxVideoBW),i.pc&&"established"==i.pc.state&&i.pc.getStats(function(e){if(a.pcStats=e,a.audioStats=e.find(function(e){return"audio"==e.mediaType&&e.id.indexOf("_send")>-1}),a.videoStats=e.find(function(e){return"video"==e.mediaType&&e.id.indexOf("_send")>-1}),a.audioStats&&o&&o.audioStats){var t=parseInt(a.audioStats.bytesSent)-parseInt(o.audioStats.bytesSent);if(isFinite(t)&&a.audioStats.timestamp){var n=a.audioStats.timestamp.getTime()-o.audioStats.timestamp.getTime();a.audioSendBitrate=Math.floor(8*t/n)}}if(a.videoStats&&o&&o.videoStats){var i=parseInt(a.videoStats.bytesSent)-parseInt(o.videoStats.bytesSent);if(isFinite(i)&&a.videoStats.timestamp){var n=a.videoStats.timestamp.getTime()-o.videoStats.timestamp.getTime();a.videoSendBitrate=Math.floor(8*i/n)}}}))}),t.localStats=r},1e3),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networkManager=void 0;n(0);var i=n(1),r=new function(){var e=(0,i.EventDispatcher)();return e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.type=null,e.lastConnectedAt=null,e.lastDisconnectedAt=null,e.lastTypeChangedAt=null,e.networkChangeTimer=null,e._init=function(t,n){if(e.state=e.states.INITING,navigator.connection&&navigator.connection.addEventListener){var i=e._getNetworkInfo();e.type=i&&i.type,e.state=e.states.INITED,t&&t()}else e.state=e.states.UNINIT,n&&n("DO_NOT_SUPPORT")},e._getNetworkInfo=function(){return navigator.connection},e._reloadNetworkInfo=function(){var t=e._getNetworkInfo(),n=t&&t.type||"UNSUPPORTED",i=Date.now();if(n!==e.type){e.lastTypeChangedAt=i,"none"==n?e.lastDisconnectedAt=i:"none"==e.type&&(e.lastConnectedAt=i),e.type=n;var r={type:"networkTypeChanged",networkType:n};e.dispatchEvent(r)}},e.getStats=function(t,n){var i={},r=e._getNetworkInfo();r&&(i.NetworkType=r.type||"UNSUPPORTED"),setTimeout(function(){t(i)},0)},e._init(function(){navigator.connection.addEventListener("change",function(){e._reloadNetworkInfo()}),e.networkChangeTimer=setInterval(function(){e._reloadNetworkInfo()},5e3)},function(e){}),e};t.networkManager=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.systemManager=void 0;var i=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=n(1),a=function(){};a.prototype.set=function(e,t){["BatteryLevel"].indexOf(e)>-1&&(this[e]=t)};var s=new function(){var e=(0,o.EventDispatcher)();return e.states={UNINIT:"UNINIT",INITING:"INITING",INITED:"INITED"},e.state=e.states.UNINIT,e.batteryManager=null,e._init=function(t,n){e.state=e.states.INITING,navigator.getBattery?navigator.getBattery().then(function(n){e.batteryManager=n,t&&setTimeout(function(){t()},0)}).catch(function(e){r.default.debug("navigator.getBattery is disabled",e),t&&t()}):(e.state=e.states.INITED,t&&t())},e._getBatteryStats=function(){var t={};return e.batteryManager&&e.batteryManager.level?t.BatteryLevel=Math.floor(100*e.batteryManager.level):t.BatteryLevel="UNSUPPORTED",t},e.getStats=function(t,n){var i=new a,r=e._getBatteryStats();r&&r.BatteryLevel&&i.set("BatteryLevel",r.BatteryLevel),t&&t(i)},e._init(),e};t.systemManager=s}]).default},function(e,t,n){"use strict";var i=n(13);function r(){}var o=null,a={};function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==r&&p(e,this)}function u(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);!function(e,t){i(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null!==n){var i=function(e,t){try{return e(t)}catch(e){return o=e,a}}(n,e._18);i===a?d(t.promise,o):c(t.promise,i)}else 1===e._83?c(t.promise,e._18):d(t.promise,e._18)})}(e,t)}function c(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return o=e,a}}(t);if(n===a)return d(e,o);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void l(e);if("function"==typeof n)return void p(n.bind(t),e)}e._83=1,e._18=t,l(e)}function d(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),l(e)}function l(e){if(1===e._75&&(u(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)u(e,e._38[t]);e._38=null}}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1,i=function(e,t,n){try{e(t,n)}catch(e){return o=e,a}}(e,function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,d(t,e))});n||i!==a||(n=!0,d(t,o))}e.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),u(e,new f(t,n,a))})}(this,e,t);var n=new s(r);return u(this,new f(e,t,n)),n}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(18)},function(e,t,n){e.exports=n.p+"network-danger.26460320.png"},function(e,t,n){e.exports=n.p+"network-warning.650d2b36.png"},function(e,t,n){e.exports=n.p+"network-good.96872cfb.png"},function(e,t,n){e.exports=n.p+"agora.5e3ee077.png"},function(e,t,n){e.exports=n.p+"speaker.2268f253.png"},function(e,t,n){n(11),e.exports=n(23)},function(e,t,n){"undefined"==typeof Promise&&(n(12).enable(),window.Promise=n(15)),n(16),Object.assign=n(1)},function(e,t,n){"use strict";var i=n(3),r=[ReferenceError,TypeError,RangeError],o=!1;function a(){o=!1,i._47=null,i._71=null}function s(e,t){return t.some(function(t){return e instanceof t})}t.disable=a,t.enable=function(e){e=e||{},o&&a();o=!0;var t=0,n=0,u={};function c(t){(e.allRejections||s(u[t].error,e.whitelist||r))&&(u[t].displayId=n++,e.onUnhandled?(u[t].logged=!0,e.onUnhandled(u[t].displayId,u[t].error)):(u[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}(u[t].displayId,u[t].error)))}i._47=function(t){2===t._83&&u[t._56]&&(u[t._56].logged?function(t){u[t].logged&&(e.onHandled?e.onHandled(u[t].displayId,u[t].error):u[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+u[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+u[t].displayId+".")))}(t._56):clearTimeout(u[t._56].timeout),delete u[t._56])},i._71=function(e,n){0===e._75&&(e._56=t++,u[e._56]={displayId:null,error:n,timeout:setTimeout(c.bind(null,e._56),s(n,r)?100:2e3),logged:!1})}}},function(e,t,n){"use strict";(function(t){function n(e){r.length||(i(),!0),r[r.length]=e}e.exports=n;var i,r=[],o=0,a=1024;function s(){for(;o<r.length;){var e=o;if(o+=1,r[e].call(),o>a){for(var t=0,n=r.length-o;t<n;t++)r[t]=r[t+o];r.length-=o,o=0}}r.length=0,o=0,!1}var u=void 0!==t?t:self,c=u.MutationObserver||u.WebKitMutationObserver;function d(e){return function(){var t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),e()}}}i="function"==typeof c?function(e){var t=1,n=new c(e),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){t=-t,i.data=t}}(s):d(s),n.requestFlush=i,n.makeRequestCallFromTimer=d}).call(this,n(14))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var i=n(3);e.exports=i;var r=d(!0),o=d(!1),a=d(null),s=d(void 0),u=d(0),c=d("");function d(e){var t=new i(i._44);return t._83=1,t._18=e,t}i.resolve=function(e){if(e instanceof i)return e;if(null===e)return a;if(void 0===e)return s;if(!0===e)return r;if(!1===e)return o;if(0===e)return u;if(""===e)return c;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return d(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){if(0===t.length)return e([]);var r=t.length;function o(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?o(a,s._18):(2===s._83&&n(s._18),void s.then(function(e){o(a,e)},n))}var u=s.then;if("function"==typeof u)return void new i(u.bind(s)).then(function(e){o(a,e)},n)}t[a]=s,0==--r&&e(t)}for(var a=0;a<t.length;a++)o(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(e){return e&&DataView.prototype.isPrototypeOf(e)},r=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};d.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},d.prototype.delete=function(e){delete this.map[s(e)]},d.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},d.prototype.set=function(e,t){this.map[s(e)]=u(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},d.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];y.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=d,e.Request=v,e.Response=y,e.fetch=function(e,n){return new Promise(function(i,r){var o=new v(e,n),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:function(e){var t=new d;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}}),t}(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;i(new y(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function d(e){this.map={},e instanceof d?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&i(e))this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!r(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var n=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=function(e){var t=e.toUpperCase();return o.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}}),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";
/** @license React v16.6.1
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(1),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,d=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,h="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(e,t,n,i,r,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S={};function b(e,t,n){this.props=e,this.context=t,this.refs=S,this.updater=n||_}function E(){}function T(e,t,n){this.props=e,this.context=t,this.refs=S,this.updater=n||_}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&y("85"),this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=b.prototype;var I=T.prototype=new E;I.constructor=T,i(I,b.prototype),I.isPureReactComponent=!0;var w={current:null,currentDispatcher:null},C=Object.prototype.hasOwnProperty,R={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var i=void 0,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,i)&&!R.hasOwnProperty(i)&&(r[i]=t[i]);var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===r[i]&&(r[i]=u[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:w.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var N=/\/+/g,k=[];function x(e,t,n,i){if(k.length){var r=k.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>k.length&&k.push(e)}function M(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return i(r,t,""===n?"."+P(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var d=n+P(s=t[c],c);u+=e(s,d,i,r)}else if(d=null===t||"object"!=typeof t?null:"function"==typeof(d=h&&t[h]||t["@@iterator"])?d:null,"function"==typeof d)for(t=d.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,d=n+P(s,c++),i,r);else"object"===s&&y("31","[object Object]"==(i=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":i,"");return u}(e,"",t,n)}function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function V(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?U(e,i,n,function(e){return e}):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(N,"$&/")+"/")+n)),i.push(e))}function U(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(N,"$&/")+"/"),M(e,V,t=x(t,o,i,r)),D(t)}var F={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return U(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;M(e,L,t=x(null,null,t,n)),D(t)},count:function(e){return M(e,function(){return null},null)},toArray:function(e){var t=[];return U(e,t,null,function(e){return e}),t},only:function(e){return O(e)||y("143"),e}},createRef:function(){return{current:null}},Component:b,PureComponent:T,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},Fragment:s,StrictMode:u,Suspense:m,createElement:A,cloneElement:function(e,t,n){(null===e||void 0===e)&&y("267",e);var r=void 0,a=i({},e.props),s=e.key,u=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,c=w.current),void 0!==t.key&&(s=""+t.key);var d=void 0;for(r in e.type&&e.type.defaultProps&&(d=e.type.defaultProps),t)C.call(t,r)&&!R.hasOwnProperty(r)&&(a[r]=void 0===t[r]&&void 0!==d?d[r]:t[r])}if(1===(r=arguments.length-2))a.children=n;else if(1<r){d=Array(r);for(var l=0;l<r;l++)d[l]=arguments[l+2];a.children=d}return{$$typeof:o,type:e.type,key:s,ref:u,props:a,_owner:c}},createFactory:function(e){var t=A.bind(null,e);return t.type=e,t},isValidElement:O,version:"16.6.3",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:w,assign:i}};F.unstable_ConcurrentMode=f,F.unstable_Profiler=c;var B={default:F},j=B&&F||B;e.exports=j.default||j},function(e,t,n){"use strict";
/** @license React v16.6.1
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=n(0),r=n(1),o=n(19);function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);!function(e,t,n,i,r,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}i||a("227");var s=!1,u=null,c=!1,d=null,l={onError:function(e){s=!0,u=e}};function f(e,t,n,i,r,o,a,c,d){s=!1,u=null,function(e,t,n,i,r,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}.apply(l,arguments)}var p=null,m={};function g(){if(p)for(var e in m){var t=m[e],n=p.indexOf(e);if(-1<n||a("96",e),!h[n])for(var i in t.extractEvents||a("97",e),h[n]=t,n=t.eventTypes){var r=void 0,o=n[i],s=t,u=i;y.hasOwnProperty(u)&&a("99",u),y[u]=o;var c=o.phasedRegistrationNames;if(c){for(r in c)c.hasOwnProperty(r)&&v(c[r],s,u);r=!0}else o.registrationName?(v(o.registrationName,s,u),r=!0):r=!1;r||a("98",i,e)}}}function v(e,t,n){_[e]&&a("100",e),_[e]=t,S[e]=t.eventTypes[n].dependencies}var h=[],y={},_={},S={},b=null,E=null,T=null;function I(e,t,n){var i=e.type||"unknown-event";e.currentTarget=T(n),function(e,t,n,i,r,o,l,p,m){if(f.apply(this,arguments),s){if(s){var g=u;s=!1,u=null}else a("198"),g=void 0;c||(c=!0,d=g)}}(i,t,void 0,e),e.currentTarget=null}function w(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function C(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var R=null;function A(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)I(e,t[i],n[i]);else t&&I(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var O={injectEventPluginOrder:function(e){p&&a("101"),p=Array.prototype.slice.call(e),g()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];m.hasOwnProperty(t)&&m[t]===i||(m[t]&&a("102",t),m[t]=i,n=!0)}n&&g()}};function N(e,t){var n=e.stateNode;if(!n)return null;var i=b(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&a("231",t,typeof n),n)}function k(e){if(null!==e&&(R=w(R,e)),e=R,R=null,e&&(C(e,A),R&&a("95"),c))throw e=d,c=!1,d=null,e}var x=Math.random().toString(36).slice(2),D="__reactInternalInstance$"+x,M="__reactEventHandlers$"+x;function P(e){if(e[D])return e[D];for(;!e[D];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[D]).tag||6===e.tag?e:null}function L(e){return!(e=e[D])||5!==e.tag&&6!==e.tag?null:e}function V(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function U(e){return e[M]||null}function F(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function B(e,t,n){(t=N(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=w(n._dispatchListeners,t),n._dispatchInstances=w(n._dispatchInstances,e))}function j(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=F(t);for(t=n.length;0<t--;)B(n[t],"captured",e);for(t=0;t<n.length;t++)B(n[t],"bubbled",e)}}function W(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=N(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=w(n._dispatchListeners,t),n._dispatchInstances=w(n._dispatchInstances,e))}function H(e){e&&e.dispatchConfig.registrationName&&W(e._targetInst,null,e)}function z(e){C(e,j)}var G=!("undefined"==typeof window||!window.document||!window.document.createElement);function K(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Y={animationend:K("Animation","AnimationEnd"),animationiteration:K("Animation","AnimationIteration"),animationstart:K("Animation","AnimationStart"),transitionend:K("Transition","TransitionEnd")},J={},q={};function Q(e){if(J[e])return J[e];if(!Y[e])return e;var t,n=Y[e];for(t in n)if(n.hasOwnProperty(t)&&t in q)return J[e]=n[t];return e}G&&(q=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);var $=Q("animationend"),X=Q("animationiteration"),Z=Q("animationstart"),ee=Q("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,ie=null,re=null;function oe(){if(re)return re;var e,t,n=ie,i=n.length,r="value"in ne?ne.value:ne.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return re=r.slice(e,1<t?1-t:void 0)}function ae(){return!0}function se(){return!1}function ue(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:se,this.isPropagationStopped=se,this}function ce(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function de(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function le(e){e.eventPool=[],e.getPooled=ce,e.release=de}r(ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),ue.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ue.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,le(n),n},le(ue);var fe=ue.extend({data:null}),pe=ue.extend({data:null}),me=[9,13,27,32],ge=G&&"CompositionEvent"in window,ve=null;G&&"documentMode"in document&&(ve=document.documentMode);var he=G&&"TextEvent"in window&&!ve,ye=G&&(!ge||ve&&8<ve&&11>=ve),_e=String.fromCharCode(32),Se={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},be=!1;function Ee(e,t){switch(e){case"keyup":return-1!==me.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Te(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ie=!1;var we={eventTypes:Se,extractEvents:function(e,t,n,i){var r=void 0,o=void 0;if(ge)e:{switch(e){case"compositionstart":r=Se.compositionStart;break e;case"compositionend":r=Se.compositionEnd;break e;case"compositionupdate":r=Se.compositionUpdate;break e}r=void 0}else Ie?Ee(e,n)&&(r=Se.compositionEnd):"keydown"===e&&229===n.keyCode&&(r=Se.compositionStart);return r?(ye&&"ko"!==n.locale&&(Ie||r!==Se.compositionStart?r===Se.compositionEnd&&Ie&&(o=oe()):(ie="value"in(ne=i)?ne.value:ne.textContent,Ie=!0)),r=fe.getPooled(r,t,n,i),o?r.data=o:null!==(o=Te(n))&&(r.data=o),z(r),o=r):o=null,(e=he?function(e,t){switch(e){case"compositionend":return Te(t);case"keypress":return 32!==t.which?null:(be=!0,_e);case"textInput":return(e=t.data)===_e&&be?null:e;default:return null}}(e,n):function(e,t){if(Ie)return"compositionend"===e||!ge&&Ee(e,t)?(e=oe(),re=ie=ne=null,Ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ye&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=pe.getPooled(Se.beforeInput,t,n,i)).data=e,z(t)):t=null,null===o?t:null===t?o:[o,t]}},Ce=null,Re=null,Ae=null;function Oe(e){if(e=E(e)){"function"!=typeof Ce&&a("280");var t=b(e.stateNode);Ce(e.stateNode,e.type,t)}}function Ne(e){Re?Ae?Ae.push(e):Ae=[e]:Re=e}function ke(){if(Re){var e=Re,t=Ae;if(Ae=Re=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function xe(e,t){return e(t)}function De(e,t,n){return e(t,n)}function Me(){}var Pe=!1;function Le(e,t){if(Pe)return e(t);Pe=!0;try{return xe(e,t)}finally{Pe=!1,(null!==Re||null!==Ae)&&(Me(),ke())}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ve[e.type]:"textarea"===t}function Fe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Be(e){if(!G)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function je(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function We(e){e._valueTracker||(e._valueTracker=function(e){var t=je(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function He(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=je(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}var ze=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ge=/^(.*)[\\\/]/,Ke="function"==typeof Symbol&&Symbol.for,Ye=Ke?Symbol.for("react.element"):60103,Je=Ke?Symbol.for("react.portal"):60106,qe=Ke?Symbol.for("react.fragment"):60107,Qe=Ke?Symbol.for("react.strict_mode"):60108,$e=Ke?Symbol.for("react.profiler"):60114,Xe=Ke?Symbol.for("react.provider"):60109,Ze=Ke?Symbol.for("react.context"):60110,et=Ke?Symbol.for("react.concurrent_mode"):60111,tt=Ke?Symbol.for("react.forward_ref"):60112,nt=Ke?Symbol.for("react.suspense"):60113,it=Ke?Symbol.for("react.memo"):60115,rt=Ke?Symbol.for("react.lazy"):60116,ot="function"==typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ot&&e[ot]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case qe:return"Fragment";case Je:return"Portal";case $e:return"Profiler";case Qe:return"StrictMode";case nt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case Ze:return"Context.Consumer";case Xe:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case it:return st(e.type);case rt:if(e=1===e._status?e._result:null)return st(e)}return null}function ut(e){var t="";do{e:switch(e.tag){case 2:case 16:case 0:case 1:case 5:case 8:case 13:var n=e._debugOwner,i=e._debugSource,r=st(e.type),o=null;n&&(o=st(n.type)),n=r,r="",i?r=" (at "+i.fileName.replace(Ge,"")+":"+i.lineNumber+")":o&&(r=" (created by "+o+")"),o="\n    in "+(n||"Unknown")+r;break e;default:o=""}t+=o,e=e.return}while(e);return t}var ct=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dt=Object.prototype.hasOwnProperty,lt={},ft={};function pt(e,t,n,i,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mt[e]=new pt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mt[t]=new pt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){mt[e]=new pt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mt[e]=new pt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mt[e]=new pt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){mt[e]=new pt(e,3,!0,e,null)}),["capture","download"].forEach(function(e){mt[e]=new pt(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){mt[e]=new pt(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){mt[e]=new pt(e,5,!1,e.toLowerCase(),null)});var gt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function ht(e,t,n,i){var r=mt.hasOwnProperty(t)?mt[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null===t||void 0===t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!dt.call(ft,e)||!dt.call(lt,e)&&(ct.test(e)?ft[e]=!0:(lt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}function yt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _t(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function St(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=yt(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function bt(e,t){null!=(t=t.checked)&&ht(e,"checked",t,!1)}function Et(e,t){bt(e,t);var n=yt(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?It(e,t.type,n):t.hasOwnProperty("defaultValue")&&It(e,t.type,yt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Tt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function It(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gt,vt);mt[t]=new pt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gt,vt);mt[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gt,vt);mt[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),mt.tabIndex=new pt("tabIndex",1,!1,"tabindex",null);var wt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ct(e,t,n){return(e=ue.getPooled(wt.change,e,t,n)).type="change",Ne(n),z(e),e}var Rt=null,At=null;function Ot(e){k(e)}function Nt(e){if(He(V(e)))return e}function kt(e,t){if("change"===e)return t}var xt=!1;function Dt(){Rt&&(Rt.detachEvent("onpropertychange",Mt),At=Rt=null)}function Mt(e){"value"===e.propertyName&&Nt(At)&&Le(Ot,e=Ct(At,e,Fe(e)))}function Pt(e,t,n){"focus"===e?(Dt(),At=n,(Rt=t).attachEvent("onpropertychange",Mt)):"blur"===e&&Dt()}function Lt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Nt(At)}function Vt(e,t){if("click"===e)return Nt(t)}function Ut(e,t){if("input"===e||"change"===e)return Nt(t)}G&&(xt=Be("input")&&(!document.documentMode||9<document.documentMode));var Ft={eventTypes:wt,_isInputEventSupported:xt,extractEvents:function(e,t,n,i){var r=t?V(t):window,o=void 0,a=void 0,s=r.nodeName&&r.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===r.type?o=kt:Ue(r)?xt?o=Ut:(o=Lt,a=Pt):(s=r.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Vt),o&&(o=o(e,t)))return Ct(o,n,i);a&&a(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&It(r,"number",r.value)}},Bt=ue.extend({view:null,detail:null}),jt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jt[e])&&!!t[e]}function Ht(){return Wt}var zt=0,Gt=0,Kt=!1,Yt=!1,Jt=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ht,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=zt;return zt=e.screenX,Kt?"mousemove"===e.type?e.screenX-t:0:(Kt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Gt;return Gt=e.screenY,Yt?"mousemove"===e.type?e.screenY-t:0:(Yt=!0,0)}}),qt=Jt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Qt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},$t={eventTypes:Qt,extractEvents:function(e,t,n,i){var r="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(r&&(n.relatedTarget||n.fromElement)||!o&&!r)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?P(t):null):o=null,o===t)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(a=Jt,s=Qt.mouseLeave,u=Qt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=qt,s=Qt.pointerLeave,u=Qt.pointerEnter,c="pointer");var d=null==o?r:V(o);if(r=null==t?r:V(t),(e=a.getPooled(s,o,n,i)).type=c+"leave",e.target=d,e.relatedTarget=r,(n=a.getPooled(u,t,n,i)).type=c+"enter",n.target=r,n.relatedTarget=d,i=t,o&&i)e:{for(r=i,c=0,a=t=o;a;a=F(a))c++;for(a=0,u=r;u;u=F(u))a++;for(;0<c-a;)t=F(t),c--;for(;0<a-c;)r=F(r),a--;for(;c--;){if(t===r||t===r.alternate)break e;t=F(t),r=F(r)}t=null}else t=null;for(r=t,t=[];o&&o!==r&&(null===(c=o.alternate)||c!==r);)t.push(o),o=F(o);for(o=[];i&&i!==r&&(null===(c=i.alternate)||c!==r);)o.push(i),i=F(i);for(i=0;i<t.length;i++)W(t[i],"bubbled",e);for(i=o.length;0<i--;)W(o[i],"captured",n);return[e,n]}},Xt=Object.prototype.hasOwnProperty;function Zt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function en(e,t){if(Zt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Xt.call(t,n[i])||!Zt(e[n[i]],t[n[i]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&a("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&a("188"),1===t?null:e;for(var n=e,i=t;;){var r=n.return,o=r?r.alternate:null;if(!r||!o)break;if(r.child===o.child){for(var s=r.child;s;){if(s===n)return nn(r),e;if(s===i)return nn(r),t;s=s.sibling}a("188")}if(n.return!==i.return)n=r,i=o;else{s=!1;for(var u=r.child;u;){if(u===n){s=!0,n=r,i=o;break}if(u===i){s=!0,i=r,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,i=r;break}if(u===i){s=!0,i=o,n=r;break}u=u.sibling}s||a("189")}}n.alternate!==i&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var on=ue.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=ue.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=Bt.extend({relatedTarget:null});function un(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ln=Bt.extend({key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=un(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ht,charCode:function(e){return"keypress"===e.type?un(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?un(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),fn=Jt.extend({dataTransfer:null}),pn=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ht}),mn=ue.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),gn=Jt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[$,"animationEnd"],[X,"animationIteration"],[Z,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],hn={},yn={};function _n(e,t){var n=e[0],i="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],isInteractive:t},hn[e]=t,yn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){_n(e,!0)}),vn.forEach(function(e){_n(e,!1)});var Sn={eventTypes:hn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,i){var r=yn[e];if(!r)return null;switch(e){case"keypress":if(0===un(n))return null;case"keydown":case"keyup":e=ln;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Jt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=pn;break;case $:case X:case Z:e=on;break;case ee:e=mn;break;case"scroll":e=Bt;break;case"wheel":e=gn;break;case"copy":case"cut":case"paste":e=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=qt;break;default:e=ue}return z(t=e.getPooled(r,t,n,i)),t}},bn=Sn.isInteractiveTopLevelEventType,En=[];function Tn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i;for(i=n;i.return;)i=i.return;if(!(i=3!==i.tag?null:i.stateNode.containerInfo))break;e.ancestors.push(n),n=P(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=Fe(e.nativeEvent);i=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<h.length;s++){var u=h[s];u&&(u=u.extractEvents(i,t,o,r))&&(a=w(a,u))}k(a)}}var In=!0;function wn(e,t){if(!t)return null;var n=(bn(e)?Rn:An).bind(null,e);t.addEventListener(e,n,!1)}function Cn(e,t){if(!t)return null;var n=(bn(e)?Rn:An).bind(null,e);t.addEventListener(e,n,!0)}function Rn(e,t){De(An,e,t)}function An(e,t){if(In){var n=Fe(t);if(null===(n=P(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),En.length){var i=En.pop();i.topLevelType=e,i.nativeEvent=t,i.targetInst=n,e=i}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Le(Tn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>En.length&&En.push(e)}}}var On={},Nn=0,kn="_reactListenersID"+(""+Math.random()).slice(2);function xn(e){return Object.prototype.hasOwnProperty.call(e,kn)||(e[kn]=Nn++,On[e[kn]]={}),On[e[kn]]}function Dn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Mn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pn(e,t){var n,i=Mn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Mn(i)}}function Ln(){for(var e=window,t=Dn();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=Dn(e.document)}return t}function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Un=G&&"documentMode"in document&&11>=document.documentMode,Fn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Bn=null,jn=null,Wn=null,Hn=!1;function zn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Hn||null==Bn||Bn!==Dn(n)?null:("selectionStart"in(n=Bn)&&Vn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wn&&en(Wn,n)?null:(Wn=n,(e=ue.getPooled(Fn.select,jn,e,t)).type="select",e.target=Bn,z(e),e))}var Gn={eventTypes:Fn,extractEvents:function(e,t,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){e:{o=xn(o),r=S.onSelect;for(var a=0;a<r.length;a++){var s=r[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}r=!o}if(r)return null;switch(o=t?V(t):window,e){case"focus":(Ue(o)||"true"===o.contentEditable)&&(Bn=o,jn=t,Wn=null);break;case"blur":Wn=jn=Bn=null;break;case"mousedown":Hn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Hn=!1,zn(n,i);case"selectionchange":if(Un)break;case"keydown":case"keyup":return zn(n,i)}return null}};function Kn(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Yn(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Jn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:yt(n)}}function Qn(e,t){var n=yt(t.value),i=yt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function $n(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}O.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b=U,E=L,T=V,O.injectEventPluginsByName({SimpleEventPlugin:Sn,EnterLeaveEventPlugin:$t,ChangeEventPlugin:Ft,SelectEventPlugin:Gn,BeforeInputEventPlugin:we});var Xn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Zn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ei(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Zn(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ti=void 0,ni=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Xn.svg||"innerHTML"in e)e.innerHTML=t;else{for((ti=ti||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ii(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ri={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oi=["Webkit","ms","Moz","O"];function ai(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ri.hasOwnProperty(e)&&ri[e]?(""+t).trim():t+"px"}function si(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ai(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(ri).forEach(function(e){oi.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ri[t]=ri[e]})});var ui=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ci(e,t){t&&(ui[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!=typeof t.style&&a("62",""))}function di(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function li(e,t){var n=xn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var i=0;i<t.length;i++){var r=t[i];if(!n.hasOwnProperty(r)||!n[r]){switch(r){case"scroll":Cn("scroll",e);break;case"focus":case"blur":Cn("focus",e),Cn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Be(r)&&Cn(r,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(r)&&wn(r,e)}n[r]=!0}}}function fi(){}var pi=null,mi=null;function gi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var hi="function"==typeof setTimeout?setTimeout:void 0,yi="function"==typeof clearTimeout?clearTimeout:void 0;function _i(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Si(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var bi=[],Ei=-1;function Ti(e){0>Ei||(e.current=bi[Ei],bi[Ei]=null,Ei--)}function Ii(e,t){bi[++Ei]=e.current,e.current=t}var wi={},Ci={current:wi},Ri={current:!1},Ai=wi;function Oi(e,t){var n=e.type.contextTypes;if(!n)return wi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ki(e){Ti(Ri),Ti(Ci)}function xi(e){Ti(Ri),Ti(Ci)}function Di(e,t,n){Ci.current!==wi&&a("168"),Ii(Ci,t),Ii(Ri,n)}function Mi(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())o in e||a("108",st(t)||"Unknown",o);return r({},n,i)}function Pi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||wi,Ai=Ci.current,Ii(Ci,t),Ii(Ri,Ri.current),!0}function Li(e,t,n){var i=e.stateNode;i||a("169"),n?(t=Mi(e,t,Ai),i.__reactInternalMemoizedMergedChildContext=t,Ti(Ri),Ti(Ci),Ii(Ci,t)):Ti(Ri),Ii(Ri,n)}var Vi=null,Ui=null;function Fi(e){return function(t){try{return e(t)}catch(e){}}}function Bi(e,t,n,i){return new function(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}(e,t,n,i)}function ji(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wi(e,t){var n=e.alternate;return null===n?((n=Bi(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.firstContextDependency=e.firstContextDependency,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hi(e,t,n,i,r,o){var s=2;if(i=e,"function"==typeof e)ji(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case qe:return zi(n.children,r,o,t);case et:return Gi(n,3|r,o,t);case Qe:return Gi(n,2|r,o,t);case $e:return(e=Bi(12,n,t,4|r)).elementType=$e,e.type=$e,e.expirationTime=o,e;case nt:return(e=Bi(13,n,t,r)).elementType=nt,e.type=nt,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Xe:s=10;break e;case Ze:s=9;break e;case tt:s=11;break e;case it:s=14;break e;case rt:s=16,i=null;break e}a("130",null==e?e:typeof e,"")}return(t=Bi(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function zi(e,t,n,i){return(e=Bi(7,e,i,t)).expirationTime=n,e}function Gi(e,t,n,i){return e=Bi(8,e,i,t),t=0==(1&t)?Qe:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function Ki(e,t,n){return(e=Bi(6,e,null,t)).expirationTime=n,e}function Yi(e,t,n){return(t=Bi(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ji(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),$i(t,e)}function qi(e,t){e.didError=!1;var n=e.latestPingedTime;0!==n&&n>=t&&(e.latestPingedTime=0),n=e.earliestPendingTime;var i=e.latestPendingTime;n===t?e.earliestPendingTime=i===t?e.latestPendingTime=0:i:i===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,i=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:i>t&&(e.latestSuspendedTime=t),$i(t,e)}function Qi(e,t){var n=e.earliestPendingTime;return e=e.earliestSuspendedTime,n>t&&(t=n),e>t&&(t=e),t}function $i(e,t){var n=t.earliestSuspendedTime,i=t.latestSuspendedTime,r=t.earliestPendingTime,o=t.latestPingedTime;0===(r=0!==r?r:o)&&(0===e||i<e)&&(r=i),0!==(e=r)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=r,t.expirationTime=e}var Xi=!1;function Zi(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function er(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function tr(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function nr(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function ir(e,t){var n=e.alternate;if(null===n){var i=e.updateQueue,r=null;null===i&&(i=e.updateQueue=Zi(e.memoizedState))}else i=e.updateQueue,r=n.updateQueue,null===i?null===r?(i=e.updateQueue=Zi(e.memoizedState),r=n.updateQueue=Zi(n.memoizedState)):i=e.updateQueue=er(r):null===r&&(r=n.updateQueue=er(i));null===r||i===r?nr(i,t):null===i.lastUpdate||null===r.lastUpdate?(nr(i,t),nr(r,t)):(nr(i,t),r.lastUpdate=t)}function rr(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Zi(e.memoizedState):or(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function or(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=er(t)),t}function ar(e,t,n,i,o,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,i,o):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null===(o="function"==typeof(e=n.payload)?e.call(a,i,o):e)||void 0===o)break;return r({},i,o);case 2:Xi=!0}return i}function sr(e,t,n,i,r){Xi=!1;for(var o=(t=or(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=o;null!==u;){var d=u.expirationTime;d<r?(null===a&&(a=u,o=c),s<d&&(s=d)):(c=ar(e,0,u,c,n,i),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(d=null,u=t.firstCapturedUpdate;null!==u;){var l=u.expirationTime;l<r?(null===d&&(d=u,null===a&&(o=c)),s<l&&(s=l)):(c=ar(e,0,u,c,n,i),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===d?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===d&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=d,e.expirationTime=s,e.memoizedState=c}function ur(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),cr(t.firstEffect,n),t.firstEffect=t.lastEffect=null,cr(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function cr(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var i=t;"function"!=typeof n&&a("191",n),n.call(i)}e=e.nextEffect}}function dr(e,t){return{value:e,source:t,stack:ut(t)}}var lr={current:null},fr=null,pr=null,mr=null;function gr(e,t){var n=e.type._context;Ii(lr,n._currentValue),n._currentValue=t}function vr(e){var t=lr.current;Ti(lr),e.type._context._currentValue=t}function hr(e){fr=e,mr=pr=null,e.firstContextDependency=null}function yr(e,t){return mr!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(mr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===pr?(null===fr&&a("293"),fr.firstContextDependency=pr=t):pr=pr.next=t),e._currentValue}var _r={},Sr={current:_r},br={current:_r},Er={current:_r};function Tr(e){return e===_r&&a("174"),e}function Ir(e,t){Ii(Er,t),Ii(br,e),Ii(Sr,_r);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ei(null,"");break;default:t=ei(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Ti(Sr),Ii(Sr,t)}function wr(e){Ti(Sr),Ti(br),Ti(Er)}function Cr(e){Tr(Er.current);var t=Tr(Sr.current),n=ei(t,e.type);t!==n&&(Ii(br,e),Ii(Sr,n))}function Rr(e){br.current===e&&(Ti(Sr),Ti(br))}function Ar(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Or=ze.ReactCurrentOwner,Nr=(new i.Component).refs;function kr(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:r({},t,n),e.memoizedState=n,null!==(i=e.updateQueue)&&0===e.expirationTime&&(i.baseState=n)}var xr={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=Ea(),r=tr(i=Jo(i,e));r.payload=t,void 0!==n&&null!==n&&(r.callback=n),Ho(),ir(e,r),$o(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=Ea(),r=tr(i=Jo(i,e));r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),Ho(),ir(e,r),$o(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ea(),i=tr(n=Jo(n,e));i.tag=2,void 0!==t&&null!==t&&(i.callback=t),Ho(),ir(e,i),$o(e,n)}};function Dr(e,t,n,i,r,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,i)||!en(r,o))}function Mr(e,t,n){var i=!1,r=wi,o=t.contextType;return"object"==typeof o&&null!==o?o=Or.currentDispatcher.readContext(o):(r=Ni(t)?Ai:Ci.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Oi(e,r):wi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=xr,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Pr(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&xr.enqueueReplaceState(t,t.state,null)}function Lr(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Nr;var o=t.contextType;"object"==typeof o&&null!==o?r.context=Or.currentDispatcher.readContext(o):(o=Ni(t)?Ai:Ci.current,r.context=Oi(e,o)),null!==(o=e.updateQueue)&&(sr(e,o,n,r,i),r.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(kr(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&xr.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(sr(e,o,n,r,i),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var Vr=Array.isArray;function Ur(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){var i=void 0;(n=n._owner)&&(1!==n.tag&&a("289"),i=n.stateNode),i||a("147",e);var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===Nr&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}"string"!=typeof e&&a("284"),n._owner||a("290",e)}return e}function Fr(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function Br(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t,n){return(e=Wi(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,i){return null===t||6!==t.tag?((t=Ki(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=Ur(e,t,n),i.return=e,i):((i=Hi(n.type,n.key,n.props,null,e.mode,i)).ref=Ur(e,t,n),i.return=e,i)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yi(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function l(e,t,n,i,o){return null===t||7!==t.tag?((t=zi(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ki(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ye:return(n=Hi(t.type,t.key,t.props,null,e.mode,n)).ref=Ur(e,null,t),n.return=e,n;case Je:return(t=Yi(t,e.mode,n)).return=e,t}if(Vr(t)||at(t))return(t=zi(t,e.mode,n,null)).return=e,t;Fr(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:u(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ye:return n.key===r?n.type===qe?l(e,t,n.props.children,i,r):c(e,t,n,i):null;case Je:return n.key===r?d(e,t,n,i):null}if(Vr(n)||at(n))return null!==r?null:l(e,t,n,i,null);Fr(e,n)}return null}function m(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return u(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case Ye:return e=e.get(null===i.key?n:i.key)||null,i.type===qe?l(t,e,i.props.children,r,i.key):c(t,e,i,r);case Je:return d(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(Vr(i)||at(i))return l(t,e=e.get(n)||null,i,r,null);Fr(t,i)}return null}function g(r,a,s,u){for(var c=null,d=null,l=a,g=a=0,v=null;null!==l&&g<s.length;g++){l.index>g?(v=l,l=null):v=l.sibling;var h=p(r,l,s[g],u);if(null===h){null===l&&(l=v);break}e&&l&&null===h.alternate&&t(r,l),a=o(h,a,g),null===d?c=h:d.sibling=h,d=h,l=v}if(g===s.length)return n(r,l),c;if(null===l){for(;g<s.length;g++)(l=f(r,s[g],u))&&(a=o(l,a,g),null===d?c=l:d.sibling=l,d=l);return c}for(l=i(r,l);g<s.length;g++)(v=m(l,r,g,s[g],u))&&(e&&null!==v.alternate&&l.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?c=v:d.sibling=v,d=v);return e&&l.forEach(function(e){return t(r,e)}),c}function v(r,s,u,c){var d=at(u);"function"!=typeof d&&a("150"),null==(u=d.call(u))&&a("151");for(var l=d=null,g=s,v=s=0,h=null,y=u.next();null!==g&&!y.done;v++,y=u.next()){g.index>v?(h=g,g=null):h=g.sibling;var _=p(r,g,y.value,c);if(null===_){g||(g=h);break}e&&g&&null===_.alternate&&t(r,g),s=o(_,s,v),null===l?d=_:l.sibling=_,l=_,g=h}if(y.done)return n(r,g),d;if(null===g){for(;!y.done;v++,y=u.next())null!==(y=f(r,y.value,c))&&(s=o(y,s,v),null===l?d=y:l.sibling=y,l=y);return d}for(g=i(r,g);!y.done;v++,y=u.next())null!==(y=m(g,r,v,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=o(y,s,v),null===l?d=y:l.sibling=y,l=y);return e&&g.forEach(function(e){return t(r,e)}),d}return function(e,i,o,u){var c="object"==typeof o&&null!==o&&o.type===qe&&null===o.key;c&&(o=o.props.children);var d="object"==typeof o&&null!==o;if(d)switch(o.$$typeof){case Ye:e:{for(d=o.key,c=i;null!==c;){if(c.key===d){if(7===c.tag?o.type===qe:c.elementType===o.type){n(e,c.sibling),(i=r(c,o.type===qe?o.props.children:o.props)).ref=Ur(e,c,o),i.return=e,e=i;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===qe?((i=zi(o.props.children,e.mode,u,o.key)).return=e,e=i):((u=Hi(o.type,o.key,o.props,null,e.mode,u)).ref=Ur(e,i,o),u.return=e,e=u)}return s(e);case Je:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Yi(o,e.mode,u)).return=e,e=i}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=Ki(o,e.mode,u)).return=e,e=i),s(e);if(Vr(o))return g(e,i,o,u);if(at(o))return v(e,i,o,u);if(d&&Fr(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:a("152",(u=e.type).displayName||u.name||"Component")}return n(e,i)}}var jr=Br(!0),Wr=Br(!1),Hr=null,zr=null,Gr=!1;function Kr(e,t){var n=Bi(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Yr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Jr(e){if(Gr){var t=zr;if(t){var n=t;if(!Yr(e,t)){if(!(t=_i(n))||!Yr(e,t))return e.effectTag|=2,Gr=!1,void(Hr=e);Kr(Hr,n)}Hr=e,zr=Si(t)}else e.effectTag|=2,Gr=!1,Hr=e}}function qr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;Hr=e}function Qr(e){if(e!==Hr)return!1;if(!Gr)return qr(e),Gr=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vi(t,e.memoizedProps))for(t=zr;t;)Kr(e,t),t=_i(t);return qr(e),zr=Hr?_i(e.stateNode):null,!0}function $r(){zr=Hr=null,Gr=!1}var Xr=ze.ReactCurrentOwner;function Zr(e,t,n,i){t.child=null===e?Wr(t,null,n,i):jr(t,e.child,n,i)}function eo(e,t,n,i,r){n=n.render;var o=t.ref;return hr(t),i=n(i,o),t.effectTag|=1,Zr(e,t,i,r),t.child}function to(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!=typeof a||ji(a)||void 0!==a.defaultProps||null!==n.compare?((e=Hi(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,no(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:en)(r,i)&&e.ref===t.ref)?co(e,t,o):(t.effectTag|=1,(e=Wi(a,i)).ref=t.ref,e.return=t,t.child=e)}function no(e,t,n,i,r,o){return null!==e&&r<o&&en(e.memoizedProps,i)&&e.ref===t.ref?co(e,t,o):ro(e,t,n,i,o)}function io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ro(e,t,n,i,r){var o=Ni(n)?Ai:Ci.current;return o=Oi(t,o),hr(t),n=n(i,o),t.effectTag|=1,Zr(e,t,n,r),t.child}function oo(e,t,n,i,r){if(Ni(n)){var o=!0;Pi(t)}else o=!1;if(hr(t),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Mr(t,n,i),Lr(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Or.currentDispatcher.readContext(c):c=Oi(t,c=Ni(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps,l="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate;l||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||u!==c)&&Pr(t,a,i,c),Xi=!1;var f=t.memoizedState;u=a.state=f;var p=t.updateQueue;null!==p&&(sr(t,p,i,a,r),u=t.memoizedState),s!==i||f!==u||Ri.current||Xi?("function"==typeof d&&(kr(t,n,d,i),u=t.memoizedState),(s=Xi||Dr(t,n,s,i,f,u,c))?(l||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=u),a.props=i,a.state=u,a.context=c,i=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:Ar(t.type,s),u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=Or.currentDispatcher.readContext(c):c=Oi(t,c=Ni(n)?Ai:Ci.current),(l="function"==typeof(d=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||u!==c)&&Pr(t,a,i,c),Xi=!1,u=t.memoizedState,f=a.state=u,null!==(p=t.updateQueue)&&(sr(t,p,i,a,r),f=t.memoizedState),s!==i||u!==f||Ri.current||Xi?("function"==typeof d&&(kr(t,n,d,i),f=t.memoizedState),(d=Xi||Dr(t,n,s,i,u,f,c))?(l||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=c,i=d):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),i=!1);return ao(e,t,n,i,o,r)}function ao(e,t,n,i,r,o){io(e,t);var a=0!=(64&t.effectTag);if(!i&&!a)return r&&Li(t,n,!1),co(e,t,o);i=t.stateNode,Xr.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=jr(t,e.child,null,o),t.child=jr(t,null,s,o)):Zr(e,t,s,o),t.memoizedState=i.state,r&&Li(t,n,!0),t.child}function so(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ir(e,t.containerInfo)}function uo(e,t,n){var i=t.mode,r=t.pendingProps,o=t.memoizedState;if(0==(64&t.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,t.effectTag&=-65;return null===e?a?(a=r.fallback,r=zi(null,i,0,null),0==(1&t.mode)&&(r.child=null!==t.memoizedState?t.child.child:t.child),i=zi(a,i,n,null),r.sibling=i,(n=r).return=i.return=t):n=i=Wr(t,null,r.children,n):null!==e.memoizedState?(e=(i=e.child).sibling,a?(n=r.fallback,r=Wi(i,i.pendingProps),0==(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==i.child&&(r.child=a)),i=r.sibling=Wi(e,n,e.expirationTime),n=r,r.childExpirationTime=0,n.return=i.return=t):n=i=jr(t,i.child,r.children,n)):(e=e.child,a?(a=r.fallback,(r=zi(null,i,0,null)).child=e,0==(1&t.mode)&&(r.child=null!==t.memoizedState?t.child.child:t.child),(i=r.sibling=zi(a,i,n,null)).effectTag|=2,n=r,r.childExpirationTime=0,n.return=i.return=t):i=n=jr(t,e,r.children,n)),t.memoizedState=o,t.child=n,i}function co(e,t,n){if(null!==e&&(t.firstContextDependency=e.firstContextDependency),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=Wi(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wi(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function lo(e,t,n){var i=t.expirationTime;if(null!==e&&e.memoizedProps===t.pendingProps&&!Ri.current&&i<n){switch(t.tag){case 3:so(t),$r();break;case 5:Cr(t);break;case 1:Ni(t.type)&&Pi(t);break;case 4:Ir(t,t.stateNode.containerInfo);break;case 10:gr(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?uo(e,t,n):null!==(t=co(e,t,n))?t.sibling:null}return co(e,t,n)}switch(t.expirationTime=0,t.tag){case 2:i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var r=Oi(t,Ci.current);if(hr(t),r=i(e,r),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,Ni(i)){var o=!0;Pi(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null;var s=i.getDerivedStateFromProps;"function"==typeof s&&kr(t,i,s,e),r.updater=xr,t.stateNode=r,r._reactInternalFiber=t,Lr(t,i,e,n),t=ao(null,t,i,!0,o,n)}else t.tag=0,Zr(null,t,r,n),t=t.child;return t;case 16:switch(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:throw e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._result=t,t}}(r),t.type=e,r=t.tag=function(e){if("function"==typeof e)return ji(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===tt)return 11;if(e===it)return 14}return 2}(e),o=Ar(e,o),s=void 0,r){case 0:s=ro(null,t,e,o,n);break;case 1:s=oo(null,t,e,o,n);break;case 11:s=eo(null,t,e,o,n);break;case 14:s=to(null,t,e,Ar(e.type,o),i,n);break;default:a("283",e)}return s;case 0:return i=t.type,r=t.pendingProps,ro(e,t,i,r=t.elementType===i?r:Ar(i,r),n);case 1:return i=t.type,r=t.pendingProps,oo(e,t,i,r=t.elementType===i?r:Ar(i,r),n);case 3:return so(t),null===(i=t.updateQueue)&&a("282"),r=null!==(r=t.memoizedState)?r.element:null,sr(t,i,t.pendingProps,null,n),(i=t.memoizedState.element)===r?($r(),t=co(e,t,n)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&(zr=Si(t.stateNode.containerInfo),Hr=t,r=Gr=!0),r?(t.effectTag|=2,t.child=Wr(t,null,i,n)):(Zr(e,t,i,n),$r()),t=t.child),t;case 5:return Cr(t),null===e&&Jr(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,vi(i,r)?s=null:null!==o&&vi(i,o)&&(t.effectTag|=16),io(e,t),1!==n&&1&t.mode&&r.hidden?(t.expirationTime=1,t=null):(Zr(e,t,s,n),t=t.child),t;case 6:return null===e&&Jr(t),null;case 13:return uo(e,t,n);case 4:return Ir(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=jr(t,null,i,n):Zr(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,eo(e,t,i,r=t.elementType===i?r:Ar(i,r),n);case 7:return Zr(e,t,t.pendingProps,n),t.child;case 8:case 12:return Zr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,gr(t,o=r.value),null!==s){var u=s.value;if(0===(o=u===o&&(0!==u||1/u==1/o)||u!=u&&o!=o?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(u,o):1073741823))){if(s.children===r.children&&!Ri.current){t=co(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){if(null!==(u=s.firstContextDependency))do{if(u.context===i&&0!=(u.observedBits&o)){if(1===s.tag){var c=tr(n);c.tag=2,ir(s,c)}s.expirationTime<n&&(s.expirationTime=n),null!==(c=s.alternate)&&c.expirationTime<n&&(c.expirationTime=n);for(var d=s.return;null!==d;){if(c=d.alternate,d.childExpirationTime<n)d.childExpirationTime=n,null!==c&&c.childExpirationTime<n&&(c.childExpirationTime=n);else{if(!(null!==c&&c.childExpirationTime<n))break;c.childExpirationTime=n}d=d.return}}c=s.child,u=u.next}while(null!==u);else c=10===s.tag&&s.type===t.type?null:s.child;if(null!==c)c.return=s;else for(c=s;null!==c;){if(c===t){c=null;break}if(null!==(s=c.sibling)){s.return=c.return,c=s;break}c=c.return}s=c}}Zr(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,hr(t),i=i(r=yr(r,o.unstable_observedBits)),t.effectTag|=1,Zr(e,t,i,n),t.child;case 14:return to(e,t,r=t.type,o=Ar(r.type,t.pendingProps),i,n);case 15:return no(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Ar(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Ni(i)?(e=!0,Pi(t)):e=!1,hr(t),Mr(t,i,r),Lr(t,i,r,n),ao(null,t,i,!0,e,n);default:a("156")}}function fo(e){e.effectTag|=4}var po=void 0,mo=void 0,go=void 0,vo=void 0;function ho(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ut(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function yo(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Yo(e,t)}else t.current=null}function _o(e){switch("function"==typeof Ui&&Ui(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var i=n.destroy;if(null!==i){var r=e;try{i()}catch(e){Yo(r,e)}}n=n.next}while(n!==t)}break;case 1:if(yo(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Yo(e,t)}break;case 5:yo(e);break;case 4:Eo(e)}}function So(e){return 5===e.tag||3===e.tag||4===e.tag}function bo(e){e:{for(var t=e.return;null!==t;){if(So(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var i=t=void 0;switch(n.tag){case 5:t=n.stateNode,i=!1;break;case 3:case 4:t=n.stateNode.containerInfo,i=!0;break;default:a("161")}16&n.effectTag&&(ii(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||So(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var r=e;;){if(5===r.tag||6===r.tag)if(n)if(i){var o=t,s=r.stateNode,u=n;8===o.nodeType?o.parentNode.insertBefore(s,u):o.insertBefore(s,u)}else t.insertBefore(r.stateNode,n);else i?(s=t,u=r.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(u,s):(o=s).appendChild(u),null!==(s=s._reactRootContainer)&&void 0!==s||null!==o.onclick||(o.onclick=fi)):t.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Eo(e){for(var t=e,n=!1,i=void 0,r=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:i=n.stateNode,r=!1;break e;case 3:case 4:i=n.stateNode.containerInfo,r=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(_o(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}r?(o=i,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):i.removeChild(t.stateNode)}else if(4===t.tag?(i=t.stateNode.containerInfo,r=!0):_o(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function To(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 1:break;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[M]=i,"input"===e&&"radio"===i.type&&null!=i.name&&bt(n,i),di(e,r),t=di(e,i),r=0;r<o.length;r+=2){var s=o[r],u=o[r+1];"style"===s?si(n,u):"dangerouslySetInnerHTML"===s?ni(n,u):"children"===s?ii(n,u):ht(n,s,u,t)}switch(e){case"input":Et(n,i);break;case"textarea":Qn(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Yn(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Yn(n,!!i.multiple,i.defaultValue,!0):Yn(n,!!i.multiple,i.multiple?[]:"",!1))}}}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(e=t,null===(n=t.memoizedState)?i=!1:(i=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=Ea())),null!==e)e:for(t=n=e;;){if(5===t.tag)e=t.stateNode,i?e.style.display="none":(e=t.stateNode,o=void 0!==(o=t.memoizedProps.style)&&null!==o&&o.hasOwnProperty("display")?o.display:null,e.style.display=ai("display",o));else if(6===t.tag)t.stateNode.nodeValue=i?"":t.memoizedProps;else{if(13===t.tag&&null!==t.memoizedState){(e=t.child.sibling).return=t,t=e;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===n)break e;for(;null===t.sibling;){if(null===t.return||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}break;case 17:break;default:a("163")}}function Io(e,t,n){(n=tr(n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){xa(i),ho(e,t)},n}function wo(e,t,n){(n=tr(n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===jo?jo=new Set([this]):jo.add(this));var n=t.value,r=t.stack;ho(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Co(e){switch(e.tag){case 1:Ni(e.type)&&ki();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return wr(),xi(),0!=(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return Rr(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 4:return wr(),null;case 10:return vr(e),null;default:return null}}po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},mo=function(){},go=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s=t.stateNode;switch(Tr(Sr.current),e=null,n){case"input":a=_t(s,a),i=_t(s,i),e=[];break;case"option":a=Kn(s,a),i=Kn(s,i),e=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":a=Jn(s,a),i=Jn(s,i),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof i.onClick&&(s.onclick=fi)}ci(n,i),s=n=void 0;var u=null;for(n in a)if(!i.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(_.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in i){var d=i[n];if(c=null!=a?a[n]:void 0,i.hasOwnProperty(n)&&d!==c&&(null!=d||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in d)d.hasOwnProperty(s)&&c[s]!==d[s]&&(u||(u={}),u[s]=d[s])}else u||(e||(e=[]),e.push(n,u)),u=d;else"dangerouslySetInnerHTML"===n?(d=d?d.__html:void 0,c=c?c.__html:void 0,null!=d&&c!==d&&(e=e||[]).push(n,""+d)):"children"===n?c===d||"string"!=typeof d&&"number"!=typeof d||(e=e||[]).push(n,""+d):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(_.hasOwnProperty(n)?(null!=d&&li(o,n),e||c===d||(e=[])):(e=e||[]).push(n,d))}u&&(e=e||[]).push("style",u),o=e,(t.updateQueue=o)&&fo(t)}},vo=function(e,t,n,i){n!==i&&fo(t)};var Ro={readContext:yr},Ao=ze.ReactCurrentOwner,Oo=1073741822,No=0,ko=!1,xo=null,Do=null,Mo=0,Po=-1,Lo=!1,Vo=null,Uo=!1,Fo=null,Bo=null,jo=null;function Wo(){if(null!==xo)for(var e=xo.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&ki();break;case 3:wr(),xi();break;case 5:Rr(t);break;case 4:wr();break;case 10:vr(t)}e=e.return}Do=null,Mo=0,Po=-1,Lo=!1,xo=null}function Ho(){null!==Bo&&(o.unstable_cancelCallback(Fo),Bo())}function zo(e){for(;;){var t=e.alternate,n=e.return,i=e.sibling;if(0==(1024&e.effectTag)){xo=e;e:{var o=t,s=Mo,u=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Ni(t.type)&&ki();break;case 3:wr(),xi(),(u=t.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==o&&null!==o.child||(Qr(t),t.effectTag&=-3),mo(t);break;case 5:Rr(t);var c=Tr(Er.current);if(s=t.type,null!==o&&null!=t.stateNode)go(o,t,s,u,c),o.ref!==t.ref&&(t.effectTag|=128);else if(u){var d=Tr(Sr.current);if(Qr(t)){o=(u=t).stateNode;var l=u.type,f=u.memoizedProps,p=c;switch(o[D]=u,o[M]=f,s=void 0,c=l){case"iframe":case"object":wn("load",o);break;case"video":case"audio":for(l=0;l<te.length;l++)wn(te[l],o);break;case"source":wn("error",o);break;case"img":case"image":case"link":wn("error",o),wn("load",o);break;case"form":wn("reset",o),wn("submit",o);break;case"details":wn("toggle",o);break;case"input":St(o,f),wn("invalid",o),li(p,"onChange");break;case"select":o._wrapperState={wasMultiple:!!f.multiple},wn("invalid",o),li(p,"onChange");break;case"textarea":qn(o,f),wn("invalid",o),li(p,"onChange")}for(s in ci(c,f),l=null,f)f.hasOwnProperty(s)&&(d=f[s],"children"===s?"string"==typeof d?o.textContent!==d&&(l=["children",d]):"number"==typeof d&&o.textContent!==""+d&&(l=["children",""+d]):_.hasOwnProperty(s)&&null!=d&&li(p,s));switch(c){case"input":We(o),Tt(o,f,!0);break;case"textarea":We(o),$n(o);break;case"select":case"option":break;default:"function"==typeof f.onClick&&(o.onclick=fi)}s=l,u.updateQueue=s,(u=null!==s)&&fo(t)}else{f=t,o=s,p=u,l=9===c.nodeType?c:c.ownerDocument,d===Xn.html&&(d=Zn(o)),d===Xn.html?"script"===o?((o=l.createElement("div")).innerHTML="<script><\/script>",l=o.removeChild(o.firstChild)):"string"==typeof p.is?l=l.createElement(o,{is:p.is}):(l=l.createElement(o),"select"===o&&p.multiple&&(l.multiple=!0)):l=l.createElementNS(d,o),(o=l)[D]=f,o[M]=u,po(o,t,!1,!1),p=o;var m=c,g=di(l=s,f=u);switch(l){case"iframe":case"object":wn("load",p),c=f;break;case"video":case"audio":for(c=0;c<te.length;c++)wn(te[c],p);c=f;break;case"source":wn("error",p),c=f;break;case"img":case"image":case"link":wn("error",p),wn("load",p),c=f;break;case"form":wn("reset",p),wn("submit",p),c=f;break;case"details":wn("toggle",p),c=f;break;case"input":St(p,f),c=_t(p,f),wn("invalid",p),li(m,"onChange");break;case"option":c=Kn(p,f);break;case"select":p._wrapperState={wasMultiple:!!f.multiple},c=r({},f,{value:void 0}),wn("invalid",p),li(m,"onChange");break;case"textarea":qn(p,f),c=Jn(p,f),wn("invalid",p),li(m,"onChange");break;default:c=f}ci(l,c),d=void 0;var v=l,h=p,y=c;for(d in y)if(y.hasOwnProperty(d)){var S=y[d];"style"===d?si(h,S):"dangerouslySetInnerHTML"===d?null!=(S=S?S.__html:void 0)&&ni(h,S):"children"===d?"string"==typeof S?("textarea"!==v||""!==S)&&ii(h,S):"number"==typeof S&&ii(h,""+S):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(_.hasOwnProperty(d)?null!=S&&li(m,d):null!=S&&ht(h,d,S,g))}switch(l){case"input":We(p),Tt(p,f,!1);break;case"textarea":We(p),$n(p);break;case"option":null!=f.value&&p.setAttribute("value",""+yt(f.value));break;case"select":(c=p).multiple=!!f.multiple,null!=(p=f.value)?Yn(c,!!f.multiple,p,!1):null!=f.defaultValue&&Yn(c,!!f.multiple,f.defaultValue,!0);break;default:"function"==typeof c.onClick&&(p.onclick=fi)}(u=gi(s,u))&&fo(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:o&&null!=t.stateNode?vo(o,t,o.memoizedProps,u):("string"!=typeof u&&(null===t.stateNode&&a("166")),o=Tr(Er.current),Tr(Sr.current),Qr(t)?(s=(u=t).stateNode,o=u.memoizedProps,s[D]=u,(u=s.nodeValue!==o)&&fo(t)):(s=t,(u=(9===o.nodeType?o:o.ownerDocument).createTextNode(u))[D]=t,s.stateNode=u));break;case 11:break;case 13:if(u=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s,xo=t;break e}u=null!==u,s=null!==o&&null!==o.memoizedState,null!==o&&!u&&s&&(null!==(o=o.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=o,o.nextEffect=c):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(u!==s||0==(1&t.effectTag)&&u)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:wr(),mo(t);break;case 10:vr(t);break;case 9:case 14:break;case 17:Ni(t.type)&&ki();break;default:a("156")}xo=null}if(t=e,1===Mo||1!==t.childExpirationTime){for(u=0,s=t.child;null!==s;)o=s.expirationTime,c=s.childExpirationTime,o>u&&(u=o),c>u&&(u=c),s=s.sibling;t.childExpirationTime=u}if(null!==xo)return xo;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Co(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==i)return i;if(null===n)break;e=n}return null}function Go(e){var t=lo(e.alternate,e,Mo);return e.memoizedProps=e.pendingProps,null===t&&(t=zo(e)),Ao.current=null,t}function Ko(e,t){ko&&a("243"),Ho(),ko=!0,Ao.currentDispatcher=Ro;var n=e.nextExpirationTimeToWorkOn;n===Mo&&e===Do&&null!==xo||(Wo(),Mo=n,xo=Wi((Do=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==xo&&!Ca();)xo=Go(xo);else for(;null!==xo;)xo=Go(xo)}catch(t){if(mr=pr=fr=null,null===xo)i=!0,xa(t);else{null===xo&&a("271");var r=xo,o=r.return;if(null!==o){e:{var s=e,u=o,c=r,d=t;if(o=Mo,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==d&&"object"==typeof d&&"function"==typeof d.then){var l=d;d=u;var f=-1,p=-1;do{if(13===d.tag){var m=d.alternate;if(null!==m&&null!==(m=m.memoizedState)){p=10*(1073741822-m.timedOutAt);break}"number"==typeof(m=d.pendingProps.maxDuration)&&(0>=m?f=0:(-1===f||m<f)&&(f=m))}d=d.return}while(null!==d);d=u;do{if((m=13===d.tag)&&(m=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),m){if(u=qo.bind(null,s,d,c,0==(1&d.mode)?1073741823:o),l.then(u,u),0==(1&d.mode)){d.effectTag|=64,c.effectTag&=-1957,1===c.tag&&null===c.alternate&&(c.tag=17),c.expirationTime=o;break e}-1===f?s=1073741823:(-1===p&&(p=10*(1073741822-Qi(s,o))-5e3),s=p+f),0<=s&&Po<s&&(Po=s),d.effectTag|=2048,d.expirationTime=o;break e}d=d.return}while(null!==d);d=Error((st(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ut(c))}Lo=!0,d=dr(d,c),s=u;do{switch(s.tag){case 3:c=d,s.effectTag|=2048,s.expirationTime=o,rr(s,o=Io(s,c,o));break e;case 1:if(c=d,u=s.type,l=s.stateNode,0==(64&s.effectTag)&&("function"==typeof u.getDerivedStateFromError||null!==l&&"function"==typeof l.componentDidCatch&&(null===jo||!jo.has(l)))){s.effectTag|=2048,s.expirationTime=o,rr(s,o=wo(s,c,o));break e}}s=s.return}while(null!==s)}xo=zo(r);continue}i=!0,xa(t)}}break}if(ko=!1,mr=pr=fr=Ao.currentDispatcher=null,i)Do=null,e.finishedWork=null;else if(null!==xo)e.finishedWork=null;else{if(null===(i=e.current.alternate)&&a("281"),Do=null,Lo){if(r=e.latestPendingTime,o=e.latestSuspendedTime,s=e.latestPingedTime,0!==r&&r<n||0!==o&&o<n||0!==s&&s<n)return qi(e,n),void ba(e,i,n,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,n=e.nextExpirationTimeToWorkOn=n,t=e.expirationTime=1073741823,void ba(e,i,n,t,-1)}t&&-1!==Po?(qi(e,n),(t=10*(1073741822-Qi(e,n)))<Po&&(Po=t),t=10*(1073741822-Ea()),t=Po-t,ba(e,i,n,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=n,e.finishedWork=i)}}function Yo(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===jo||!jo.has(i)))return ir(n,e=wo(n,e=dr(t,e),1073741823)),void $o(n,1073741823);break;case 3:return ir(n,e=Io(n,e=dr(t,e),1073741823)),void $o(n,1073741823)}n=n.return}3===e.tag&&(ir(e,n=Io(e,n=dr(t,e),1073741823)),$o(e,1073741823))}function Jo(e,t){return 0!==No?e=No:ko?e=Uo?1073741823:Mo:1&t.mode?(e=la?1073741822-10*(1+((1073741822-e+15)/10|0)):1073741822-25*(1+((1073741822-e+500)/25|0)),null!==Do&&e===Mo&&--e):e=1073741823,la&&(0===aa||e<aa)&&(aa=e),e}function qo(e,t,n,i){var r=e.earliestSuspendedTime,o=e.latestSuspendedTime;if(0!==r&&i<=r&&i>=o){o=r=i,e.didError=!1;var a=e.latestPingedTime;(0===a||a>o)&&(e.latestPingedTime=o),$i(o,e)}else Ji(e,r=Jo(r=Ea(),t));0!=(1&t.mode)&&e===Do&&Mo===i&&(Do=null),Qo(t,r),0==(1&t.mode)&&(Qo(n,r),1===n.tag&&null!==n.stateNode&&((t=tr(r)).tag=2,ir(n,t))),0!==(n=e.expirationTime)&&Ta(e,n)}function Qo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return r}function $o(e,t){null!==(e=Qo(e,t))&&(!ko&&0!==Mo&&t>Mo&&Wo(),Ji(e,t),ko&&!Uo&&Do===e||Ta(e,e.expirationTime),ha>va&&(ha=0,a("185")))}function Xo(e,t,n,i,r){var o=No;No=1073741823;try{return e(t,n,i,r)}finally{No=o}}var Zo=null,ea=null,ta=0,na=void 0,ia=!1,ra=null,oa=0,aa=0,sa=!1,ua=null,ca=!1,da=!1,la=!1,fa=null,pa=o.unstable_now(),ma=1073741822-(pa/10|0),ga=ma,va=50,ha=0,ya=null;function _a(){ma=1073741822-((o.unstable_now()-pa)/10|0)}function Sa(e,t){if(0!==ta){if(t<ta)return;null!==na&&o.unstable_cancelCallback(na)}ta=t,e=o.unstable_now()-pa,na=o.unstable_scheduleCallback(Ra,{timeout:10*(1073741822-t)-e})}function ba(e,t,n,i,r){e.expirationTime=i,0!==r||Ca()?0<r&&(e.timeoutHandle=hi(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,_a(),ga=ma,Oa(e,n)}.bind(null,e,t,n),r)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Ea(){return ia?ga:(Ia(),0!==oa&&1!==oa||(_a(),ga=ma),ga)}function Ta(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ea?(Zo=ea=e,e.nextScheduledRoot=e):(ea=ea.nextScheduledRoot=e).nextScheduledRoot=Zo):t>e.expirationTime&&(e.expirationTime=t),ia||(ca?da&&(ra=e,oa=1073741823,Na(e,1073741823,!1)):1073741823===t?Aa(1073741823,!1):Sa(e,t))}function Ia(){var e=0,t=null;if(null!==ea)for(var n=ea,i=Zo;null!==i;){var r=i.expirationTime;if(0===r){if((null===n||null===ea)&&a("244"),i===i.nextScheduledRoot){Zo=ea=i.nextScheduledRoot=null;break}if(i===Zo)Zo=r=i.nextScheduledRoot,ea.nextScheduledRoot=r,i.nextScheduledRoot=null;else{if(i===ea){(ea=n).nextScheduledRoot=Zo,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if(r>e&&(e=r,t=i),i===ea)break;if(1073741823===e)break;n=i,i=i.nextScheduledRoot}}ra=t,oa=e}var wa=!1;function Ca(){return!!wa||!!o.unstable_shouldYield()&&(wa=!0)}function Ra(){try{if(!Ca()&&null!==Zo){_a();var e=Zo;do{var t=e.expirationTime;0!==t&&ma<=t&&(e.nextExpirationTimeToWorkOn=ma),e=e.nextScheduledRoot}while(e!==Zo)}Aa(0,!0)}finally{wa=!1}}function Aa(e,t){if(Ia(),t)for(_a(),ga=ma;null!==ra&&0!==oa&&e<=oa&&!(wa&&ma>oa);)Na(ra,oa,ma>oa),Ia(),_a(),ga=ma;else for(;null!==ra&&0!==oa&&e<=oa;)Na(ra,oa,!1),Ia();if(t&&(ta=0,na=null),0!==oa&&Sa(ra,oa),ha=0,ya=null,null!==fa)for(e=fa,fa=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){sa||(sa=!0,ua=e)}}if(sa)throw e=ua,ua=null,sa=!1,e}function Oa(e,t){ia&&a("253"),ra=e,oa=t,Na(e,t,!1),Aa(1073741823,!1)}function Na(e,t,n){if(ia&&a("245"),ia=!0,n){var i=e.finishedWork;null!==i?ka(e,i,t):(e.finishedWork=null,-1!==(i=e.timeoutHandle)&&(e.timeoutHandle=-1,yi(i)),Ko(e,n),null!==(i=e.finishedWork)&&(Ca()?e.finishedWork=i:ka(e,i,t)))}else null!==(i=e.finishedWork)?ka(e,i,t):(e.finishedWork=null,-1!==(i=e.timeoutHandle)&&(e.timeoutHandle=-1,yi(i)),Ko(e,n),null!==(i=e.finishedWork)&&ka(e,i,t));ia=!1}function ka(e,t,n){var i=e.firstBatch;if(null!==i&&i._expirationTime>=n&&(null===fa?fa=[i]:fa.push(i),i._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ya?ha++:(ya=e,ha=0),Uo=ko=!0,e.current===t&&a("177"),0===(n=e.pendingCommitExpirationTime)&&a("261"),e.pendingCommitExpirationTime=0,i=t.expirationTime;var r=t.childExpirationTime;if(i=r>i?r:i,e.didError=!1,0===i?(e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0):(0!==(r=e.latestPendingTime)&&(r>i?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>i&&(e.earliestPendingTime=e.latestPendingTime)),0===(r=e.earliestSuspendedTime)?Ji(e,i):i<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Ji(e,i)):i>r&&Ji(e,i)),$i(0,e),Ao.current=null,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,i=t.firstEffect):i=t:i=t.firstEffect,pi=In,Vn(r=Ln())){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{var s=(o=(o=r.ownerDocument)&&o.defaultView||window).getSelection&&o.getSelection();if(s&&0!==s.rangeCount){o=s.anchorNode;var u=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{o.nodeType,c.nodeType}catch(e){o=null;break e}var d=0,l=-1,f=-1,p=0,m=0,g=r,v=null;t:for(;;){for(var h;g!==o||0!==u&&3!==g.nodeType||(l=d+u),g!==c||0!==s&&3!==g.nodeType||(f=d+s),3===g.nodeType&&(d+=g.nodeValue.length),null!==(h=g.firstChild);)v=g,g=h;for(;;){if(g===r)break t;if(v===o&&++p===u&&(l=d),v===c&&++m===s&&(f=d),null!==(h=g.nextSibling))break;v=(g=v).parentNode}g=h}o=-1===l||-1===f?null:{start:l,end:f}}else o=null}o=o||{start:0,end:0}}else o=null;for(mi={focusedElem:r,selectionRange:o},In=!1,Vo=i;null!==Vo;){r=!1,o=void 0;try{for(;null!==Vo;){if(256&Vo.effectTag)e:{var y=Vo.alternate;switch((u=Vo).tag){case 0:case 11:case 15:break e;case 1:if(256&u.effectTag&&null!==y){var _=y.memoizedProps,S=y.memoizedState,b=u.stateNode,E=b.getSnapshotBeforeUpdate(u.elementType===u.type?_:Ar(u.type,_),S);b.__reactInternalSnapshotBeforeUpdate=E}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}Vo=Vo.nextEffect}}catch(e){r=!0,o=e}r&&(null===Vo&&a("178"),Yo(Vo,o),null!==Vo&&(Vo=Vo.nextEffect))}for(Vo=i;null!==Vo;){y=!1,_=void 0;try{for(;null!==Vo;){var T=Vo.effectTag;if(16&T&&ii(Vo.stateNode,""),128&T){var I=Vo.alternate;if(null!==I){var w=I.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(14&T){case 2:bo(Vo),Vo.effectTag&=-3;break;case 6:bo(Vo),Vo.effectTag&=-3,To(Vo.alternate,Vo);break;case 4:To(Vo.alternate,Vo);break;case 8:Eo(S=Vo),S.return=null,S.child=null,S.alternate&&(S.alternate.child=null,S.alternate.return=null)}Vo=Vo.nextEffect}}catch(e){y=!0,_=e}y&&(null===Vo&&a("178"),Yo(Vo,_),null!==Vo&&(Vo=Vo.nextEffect))}if(w=mi,I=Ln(),T=w.focusedElem,_=w.selectionRange,I!==T&&T&&T.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(T.ownerDocument.documentElement,T)){null!==_&&Vn(T)&&(I=_.start,void 0===(w=_.end)&&(w=I),"selectionStart"in T?(T.selectionStart=I,T.selectionEnd=Math.min(w,T.value.length)):(w=(I=T.ownerDocument||document)&&I.defaultView||window).getSelection&&(w=w.getSelection(),S=T.textContent.length,y=Math.min(_.start,S),_=void 0===_.end?y:Math.min(_.end,S),!w.extend&&y>_&&(S=_,_=y,y=S),S=Pn(T,y),b=Pn(T,_),S&&b&&(1!==w.rangeCount||w.anchorNode!==S.node||w.anchorOffset!==S.offset||w.focusNode!==b.node||w.focusOffset!==b.offset)&&((I=I.createRange()).setStart(S.node,S.offset),w.removeAllRanges(),y>_?(w.addRange(I),w.extend(b.node,b.offset)):(I.setEnd(b.node,b.offset),w.addRange(I))))),I=[];for(w=T;w=w.parentNode;)1===w.nodeType&&I.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof T.focus&&T.focus(),T=0;T<I.length;T++)(w=I[T]).element.scrollLeft=w.left,w.element.scrollTop=w.top}for(mi=null,In=!!pi,pi=null,e.current=t,Vo=i;null!==Vo;){i=!1,T=void 0;try{for(I=n;null!==Vo;){var C=Vo.effectTag;if(36&C){var R=Vo.alternate;switch(y=I,(w=Vo).tag){case 0:case 11:case 15:break;case 1:var A=w.stateNode;if(4&w.effectTag)if(null===R)A.componentDidMount();else{var O=w.elementType===w.type?R.memoizedProps:Ar(w.type,R.memoizedProps);A.componentDidUpdate(O,R.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var N=w.updateQueue;null!==N&&ur(0,N,A);break;case 3:var k=w.updateQueue;if(null!==k){if(_=null,null!==w.child)switch(w.child.tag){case 5:_=w.child.stateNode;break;case 1:_=w.child.stateNode}ur(0,k,_)}break;case 5:var x=w.stateNode;null===R&&4&w.effectTag&&gi(w.type,w.memoizedProps)&&x.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}if(128&C){var D=Vo.ref;if(null!==D){var M=Vo.stateNode;switch(Vo.tag){case 5:var P=M;break;default:P=M}"function"==typeof D?D(P):D.current=P}}Vo=Vo.nextEffect}}catch(e){i=!0,T=e}i&&(null===Vo&&a("178"),Yo(Vo,T),null!==Vo&&(Vo=Vo.nextEffect))}ko=Uo=!1,"function"==typeof Vi&&Vi(t.stateNode),C=t.expirationTime,0===(t=(t=t.childExpirationTime)>C?t:C)&&(jo=null),e.expirationTime=t,e.finishedWork=null}function xa(e){null===ra&&a("246"),ra.expirationTime=0,sa||(sa=!0,ua=e)}function Da(e,t){var n=ca;ca=!0;try{return e(t)}finally{(ca=n)||ia||Aa(1073741823,!1)}}function Ma(e,t){if(ca&&!da){da=!0;try{return e(t)}finally{da=!1}}return e(t)}function Pa(e,t,n){if(la)return e(t,n);ca||ia||0===aa||(Aa(aa,!1),aa=0);var i=la,r=ca;ca=la=!0;try{return e(t,n)}finally{la=i,(ca=r)||ia||Aa(1073741823,!1)}}function La(e,t,n,i,r){var o=t.current;e:if(n){n=n._reactInternalFiber;t:{2===tn(n)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Ni(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var u=n.type;if(Ni(u)){n=Mi(n,u,s);break e}}n=s}else n=wi;return null===t.context?t.context=n:t.pendingContext=n,t=r,(r=tr(i)).payload={element:e},null!==(t=void 0===t?null:t)&&(r.callback=t),Ho(),ir(o,r),$o(o,i),i}function Va(e,t,n,i){var r=t.current;return La(e,t,n,r=Jo(Ea(),r),i)}function Ua(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fa(e){var t=1073741822-25*(1+((1073741822-Ea()+500)/25|0));t>=Oo&&(t=Oo-1),this._expirationTime=Oo=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ba(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function ja(e,t,n){e={current:t=Bi(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Wa(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ha(e,t,n,i,r){Wa(n)||a("200");var o=n._reactRootContainer;if(o){if("function"==typeof r){var s=r;r=function(){var e=Ua(o._internalRoot);s.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,r):o.render(t,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ja(e,!1,t)}(n,i),"function"==typeof r){var u=r;r=function(){var e=Ua(o._internalRoot);u.call(e)}}Ma(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,r):o.render(t,r)})}return Ua(o._internalRoot)}function za(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Wa(t)||a("200"),function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Je,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ce=function(e,t,n){switch(t){case"input":if(Et(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=U(i);r||a("90"),He(i),Et(i,r)}}}break;case"textarea":Qn(e,n);break;case"select":null!=(t=n.value)&&Yn(e,!!n.multiple,t,!1)}},Fa.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,i=new Ba;return La(e,t,null,n,i._onCommit),i},Fa.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Fa.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var i=null,r=t;r!==this;)i=r,r=r._next;null===i&&a("251"),i._next=r._next,this._next=t,e.firstBatch=this}this._defer=!1,Oa(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Fa.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Ba.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ba.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&a("191",n),n()}}},ja.prototype.render=function(e,t){var n=this._internalRoot,i=new Ba;return null!==(t=void 0===t?null:t)&&i.then(t),Va(e,n,null,i._onCommit),i},ja.prototype.unmount=function(e){var t=this._internalRoot,n=new Ba;return null!==(e=void 0===e?null:e)&&n.then(e),Va(null,t,null,n._onCommit),n},ja.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var i=this._internalRoot,r=new Ba;return null!==(n=void 0===n?null:n)&&r.then(n),Va(t,i,e,r._onCommit),r},ja.prototype.createBatch=function(){var e=new Fa(this),t=e._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=e,e._next=null;else{for(n=null;null!==i&&i._expirationTime>=t;)n=i,i=i._next;e._next=i,null!==n&&(n._next=e)}return e},xe=Da,De=Pa,Me=function(){ia||0===aa||(Aa(aa,!1),aa=0)};var Ga={createPortal:za,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return Ha(null,e,t,!0,n)},render:function(e,t,n){return Ha(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,i){return(null==e||void 0===e._reactInternalFiber)&&a("38"),Ha(e,t,n,!1,i)},unmountComponentAtNode:function(e){return Wa(e)||a("40"),!!e._reactRootContainer&&(Ma(function(){Ha(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return za.apply(void 0,arguments)},unstable_batchedUpdates:Da,unstable_interactiveUpdates:Pa,flushSync:function(e,t){ia&&a("187");var n=ca;ca=!0;try{return Xo(e,t)}finally{ca=n,Aa(1073741823,!1)}},unstable_flushControlled:function(e){var t=ca;ca=!0;try{Xo(e)}finally{(ca=t)||ia||Aa(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[L,V,U,O.injectEventPluginsByName,y,z,function(e){C(e,H)},Ne,ke,An,k]},unstable_createRoot:function(e,t){return Wa(e)||a("299","unstable_createRoot"),new ja(e,!0,null!=t&&!0===t.hydrate)}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Vi=Fi(function(e){return t.onCommitFiberRoot(n,e)}),Ui=Fi(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(r({},e,{findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:P,bundleType:0,version:"16.6.3",rendererPackageName:"react-dom"});var Ka={default:Ga},Ya=Ka&&Ga||Ka;e.exports=Ya.default||Ya},function(e,t,n){"use strict";e.exports=n(20)},function(e,t,n){"use strict";
/** @license React v16.6.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var i=null,r=!1,o=3,a=-1,s=-1,u=!1,c=!1;function d(){if(!u){var e=i.expirationTime;c?h():c=!0,v(p,e)}}function l(){var e=i,t=i.next;if(i===t)i=null;else{var n=i.previous;i=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var r=o,a=s;o=e,s=t;try{var u=n()}finally{o=r,s=a}if("function"==typeof u)if(u={callback:u,priorityLevel:e,expirationTime:t,next:null,previous:null},null===i)i=u.next=u.previous=u;else{n=null,e=i;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==i);null===n?n=i:n===i&&(i=u,d()),(t=n.previous).next=n.previous=u,u.next=n,u.previous=t}}function f(){if(-1===a&&null!==i&&1===i.priorityLevel){u=!0;try{do{l()}while(null!==i&&1===i.priorityLevel)}finally{u=!1,null!==i?d():c=!1}}}function p(e){u=!0;var n=r;r=e;try{if(e)for(;null!==i;){var o=t.unstable_now();if(!(i.expirationTime<=o))break;do{l()}while(null!==i&&i.expirationTime<=o)}else if(null!==i)do{l()}while(null!==i&&!y())}finally{u=!1,r=n,null!==i?d():c=!1,f()}}var m,g,v,h,y,_=Date,S="function"==typeof setTimeout?setTimeout:void 0,b="function"==typeof clearTimeout?clearTimeout:void 0,E="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,T="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function I(e){m=E(function(t){b(g),e(t)}),g=S(function(){T(m),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var w=performance;t.unstable_now=function(){return w.now()}}else t.unstable_now=function(){return _.now()};if("undefined"!=typeof window&&window._schedMock){var C=window._schedMock;v=C[0],h=C[1],y=C[2]}else if("undefined"==typeof window||"function"!=typeof window.addEventListener){var R=null,A=-1,O=function(e,t){if(null!==R){var n=R;R=null;try{A=t,n(e)}finally{A=-1}}};v=function(e,t){-1!==A?setTimeout(v,0,e,t):(R=e,setTimeout(O,t,!0,t),setTimeout(O,1073741823,!1,1073741823))},h=function(){R=null},y=function(){return!1},t.unstable_now=function(){return-1===A?0:A}}else{"undefined"!=typeof console&&("function"!=typeof E&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof T&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var N=null,k=!1,x=-1,D=!1,M=!1,P=0,L=33,V=33;y=function(){return P<=t.unstable_now()};var U="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===U){k=!1,e=N;var n=x;N=null,x=-1;var i=t.unstable_now(),r=!1;if(0>=P-i){if(!(-1!==n&&n<=i))return D||(D=!0,I(F)),N=e,void(x=n);r=!0}if(null!==e){M=!0;try{e(r)}finally{M=!1}}}},!1);var F=function(e){if(null!==N){I(F);var t=e-P+V;t<V&&L<V?(8>t&&(t=8),V=t<L?L:t):L=t,P=e+V,k||(k=!0,window.postMessage(U,"*"))}else D=!1};v=function(e,t){N=e,x=t,M||0>t?window.postMessage(U,"*"):D||(D=!0,I(F))},h=function(){N=null,k=!1,x=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=o,r=a;o=e,a=t.unstable_now();try{return n()}finally{o=i,a=r,f()}},t.unstable_scheduleCallback=function(e,n){var r=-1!==a?a:t.unstable_now();if("object"==typeof n&&null!==n&&"number"==typeof n.timeout)n=r+n.timeout;else switch(o){case 1:n=r+-1;break;case 2:n=r+250;break;case 5:n=r+1073741823;break;case 4:n=r+1e4;break;default:n=r+5e3}if(e={callback:e,priorityLevel:o,expirationTime:n,next:null,previous:null},null===i)i=e.next=e.previous=e,d();else{r=null;var s=i;do{if(s.expirationTime>n){r=s;break}s=s.next}while(s!==i);null===r?r=i:r===i&&(i=e,d()),(n=r.previous).next=r.previous=e,e.next=r,e.previous=n}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)i=null;else{e===i&&(i=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=o;return function(){var i=o,r=a;o=n,a=t.unstable_now();try{return e.apply(this,arguments)}finally{o=i,a=r,f()}}},t.unstable_getCurrentPriorityLevel=function(){return o},t.unstable_shouldYield=function(){return!r&&(null!==i&&i.expirationTime<s||y())}},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(4),a=n(2),s=n.n(a),u=n(5),c=n.n(u),d=n(6),l=n.n(d),f=n(7),p=n.n(f);function m(e){return 1===e.level?r.a.createElement("div",{className:"agora-player__icon"},r.a.createElement("img",{title:"Poor Network latency",src:l.a,alt:"weak-signal"})):2===e.level?r.a.createElement("div",{className:"agora-player__icon"},r.a.createElement("img",{title:"Severe Network latency",src:c.a,alt:"poor-signal"})):r.a.createElement("div",{className:"agora-player__icon"},r.a.createElement("img",{title:"Good Network",src:p.a,alt:"good-signal"}))}var g,v,h=function(e,t){return(e?1:0)^(t?1:0)},y=n(8),_=n.n(y),S=n(9),b=n.n(S);n(21);var E=(v=g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));i.startNetworkDetector=function(){i.stopNetworkDetector(),i._networkDetector=setInterval(function(){var e=i.props.stream;e.getStats(function(t){if(e.local){var n=Number.parseInt(t.accessDelay,10);if(isNaN(n))return;n<100?i.setState({networkStatus:0}):n<200?i.setState({networkStatus:1}):i.setState({networkStatus:2})}else{var r=Number.parseInt(t.endToEndDelay,10);if(isNaN(r))return;r<200?i.setState({networkStatus:0}):r<400?i.setState({networkStatus:1}):i.setState({networkStatus:2})}})},1500)},i.stopNetworkDetector=function(){i._networkDetector&&clearInterval(i._networkDetector)},i._getSnapshot=function(){var e=i.props.stream;return{id:e.getId(),hasVideo:e.hasVideo(),hasAudio:e.hasAudio(),videoOn:e.isVideoOn(),audioOn:e.isAudioOn(),playing:e.isPlaying()}},i._handleStreamSideEffects=function(){var e=i._snapshot,t=i.props.stream;h(e.videoOn,i.props.video)&&e.hasVideo&&(i.props.video?t.enableVideo():t.disableVideo()),h(e.audioOn,i.props.audio)&&e.hasAudio&&(i.props.audio?t.enableAudio():t.disableAudio())};try{i._snapshot=i._getSnapshot()}catch(e){throw new Error("The stream you passed is invalid!")}return i.state={networkStatus:0},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(){this._handleStreamSideEffects(),this.props.networkDetect?this.startNetworkDetector():this.stopNetworkDetector(),this._snapshot=this._getSnapshot()},t.prototype.componentDidMount=function(){this._handleStreamSideEffects(),this.props.networkDetect&&this.startNetworkDetector();var e=this.props.stream;e.play("agora--player__"+e.getId())},t.prototype.componentWillUnmount=function(){this.stopNetworkDetector();var e=this.props.stream;e&&e.isPlaying()&&(e.stop(),e.local&&e.close())},t.prototype.render=function(){var e="agora-player__box \n    "+("cover"===this.props.fit?"cover":"contain")+" \n    "+(this.props.className||"")+" ",t="agora--player__"+this.props.stream.getId();return r.a.createElement("div",{className:e,id:t,style:this.props.style},(!this.props.video||!(this._snapshot&&this._snapshot.hasVideo))&&r.a.createElement("div",{className:"agora-player__placeholder"},r.a.createElement("img",{style:{maxWidth:"80%"},src:_.a,alt:"placeholder for video"})),r.a.createElement("div",{className:"agora-player__decorations"},this.props.networkDetect&&r.a.createElement(m,{level:this.state.networkStatus}),this.props.speaking&&r.a.createElement("div",{className:"agora-player__icon"},r.a.createElement("img",{title:"Is speaking",src:b.a,alt:"speaking"}))),this.props.label&&r.a.createElement("div",{className:"agora-player__label"},this.props.label))},t}(i.Component),g.defaultProps={stream:void 0,video:!0,audio:!0,fit:"cover",placeholder:{},networkDetect:!1,speaking:!1,key:void 0,className:"",style:{}},v);function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=i=T(this,e.call.apply(e,[this].concat(o))),i.state={stream:void 0,video:!0,audio:!0,fit:!0,speaking:!0,networkDetect:!0,label:""},i.handleChange=function(e){var t,n=[e.currentTarget.name,e.currentTarget.value],r=n[0],o=n[1];i.setState(((t={})[r]=o,t))},i.handleSwitch=function(e){var t,n=[e.currentTarget.name,e.currentTarget.value],r=n[0];i.setState(((t={})[r]=!i.state[r],t))},T(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this,t=s.a.createStream({streamID:1024,video:!0,audio:!0,screen:!1});t.init(function(){setTimeout(function(){e.setState({stream:t})},2e3)}),setTimeout(function(){var t=s.a.createStream({streamID:1025,video:!0,audio:!0,screen:!1});t.init(function(){setTimeout(function(){e.setState({stream:t})},2e3)})},1e4)},t.prototype.render=function(){return r.a.createElement("div",null,r.a.createElement("input",{onChange:this.handleSwitch,checked:this.state.video,type:"checkbox",name:"video",id:"video"}),"Video",r.a.createElement("input",{onChange:this.handleSwitch,checked:this.state.audio,type:"checkbox",name:"audio",id:"audio"}),"Audio",r.a.createElement("input",{onChange:this.handleSwitch,checked:this.state.fit,type:"checkbox",name:"fit",id:"fit"}),"Fit",r.a.createElement("input",{onChange:this.handleSwitch,checked:this.state.speaking,type:"checkbox",name:"speaking",id:"speaking"}),"Speaking",r.a.createElement("input",{onChange:this.handleSwitch,checked:this.state.networkDetect,type:"checkbox",name:"networkDetect",id:"networkDetect"}),"networkDetect",r.a.createElement("input",{onChange:this.handleChange,value:this.state.label,type:"text",name:"label",id:"label"}),this.state.stream&&r.a.createElement(E,{style:{width:"240px",height:"140px"},key:this.state.stream.getId(),stream:this.state.stream,label:this.state.label,fit:this.state.fit?"cover":"contain",speaking:this.state.speaking,networkDetect:this.state.networkDetect,video:this.state.video,audio:this.state.audio}))},t}(i.Component);Object(o.render)(r.a.createElement(I,null),document.querySelector("#demo"))}],[[10,1]]]);
//# sourceMappingURL=demo.cf22c493.js.map